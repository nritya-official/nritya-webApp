(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[5618,1893,2716],{12716:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var o=r(72791),n=r(84654),a=r(16029),s=r(5574),l=r(39157),i=r(94294),c=r(79253),d=r(23853),h=r(16856),u=r(21204),m=r(80184);const x=e=>{let{dataList:t,imgOnly:r=!1}=e;const x=Array.isArray(t)?t:Object.values(t),[g,p]=(0,o.useState)(!1),[b,f]=(0,o.useState)(null),[j,y]=(0,o.useState)(!1),[v,w]=(0,o.useState)(!1),Z=(0,o.useRef)(null),S=()=>{const e=Z.current;e&&(y(e.scrollLeft>0),w(e.scrollLeft<e.scrollWidth-e.clientWidth))},C=e=>{const t=Z.current;"left"===e?t.scrollBy({left:-330,behavior:"smooth"}):"right"===e&&t.scrollBy({left:330,behavior:"smooth"})},k=()=>{p(!1),f(null)},E={transform:"scale(1.01)"};return(0,o.useEffect)((()=>{const e=Z.current;if(e)return S(),e.addEventListener("scroll",S),()=>e.removeEventListener("scroll",S)}),[]),(0,m.jsxs)(a.Z,{sx:{display:"flex",p:0,m:0,position:"relative"},children:[j&&(0,m.jsx)("button",{className:"scroll-button left",onClick:()=>C("left"),children:(0,m.jsx)(h.lrP,{})}),(0,m.jsxs)("div",{ref:Z,className:"horizontal-scroll-wrapper no-important scroll-wrapper",children:[x.map(((e,t)=>r?(0,m.jsx)("a",{className:"no-important",onClick:()=>{return t=e,console.log(t),f(t),void p(!0);var t},children:(0,m.jsx)(n.Z,{style:{marginRight:"0.5rem"},component:"li",sx:{height:300,width:534,"&:hover":{...E}},children:(0,m.jsxs)(c.Z,{children:[(0,m.jsx)("img",{src:e,loading:"lazy",alt:"Studio image"}),(0,m.jsx)("div",{className:"gallery-image-overlay",children:(0,m.jsx)(d.SJS,{size:50,color:"white",className:""})})]})},t)},t):(0,m.jsx)("a",{href:"#/studio/".concat(e.id),children:(0,m.jsx)(u.Z,{data:e,img_src:e.iconUrl},e.id)},t))),(0,m.jsx)(s.Z,{open:g,onClose:k,children:b&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{sx:{padding:0},children:(0,m.jsx)("img",{src:b,alt:"Image",style:{maxWidth:"100%",height:"auto"}})}),(0,m.jsx)(i.Z,{sx:{"&:hover":{backgroundColor:"#735EAB",color:"white"}},onClick:k,children:"Close"})]})})]}),v&&(0,m.jsx)("button",{className:"scroll-button right",onClick:()=>C("right"),children:(0,m.jsx)(h.KEG,{})})]})}},41893:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O});var o=r(72791),n=r(47022),a=r(95313),s=r(43360),l=r(59434),i=r(60717),c=r(68449),d=r(83708),h=r(61979),u=r(44507),m=r(35527),x=r(20890),g=r(63875),p=r(74512),b=r(15825),f=r(66934),j=r(56856),y=r(23285),v=r(80184);const w=(0,f.ZP)(j.Z)((e=>{let{theme:t}=e;return{["&.".concat(y.Z.alternativeLabel)]:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},["&.".concat(y.Z.active)]:{["& .".concat(y.Z.line)]:{borderColor:"green"}},["&.".concat(y.Z.completed)]:{["& .".concat(y.Z.line)]:{borderColor:"green"}},["& .".concat(y.Z.line)]:{borderColor:"dark"===t.palette.mode?t.palette.grey[800]:"#eaeaf0",borderTopWidth:3,borderRadius:1}}})),Z=[d.n$.SUBMITTED,d.n$.UNDER_REVIEW,d.n$.REVIEWED,d.n$.VERIFIED],S={[d.n$.SUBMITTED]:0,[d.n$.UNDER_REVIEW]:1,[d.n$.REVIEWED]:2,[d.n$.VERIFIED]:3,[d.n$.VERIFICATION_FAILED]:3},C=e=>{let{kycId:t,status:r}=e;const n=(0,l.v9)(i.w),[a,s]=(0,o.useState)({});console.log(r);const f=(0,h.Z)({palette:{mode:n?"dark":"light",primary:{main:n?"#90caf9":"#1976d2"}}});return(0,o.useEffect)((()=>{(async()=>{try{const e=await(0,c.Ld)(d.Ul.USER_KYC,t);s(e)}catch(e){console.error("Error fetching KYC data for KYC ID ".concat(t,":"),e)}})()}),[t]),(0,v.jsx)(u.Z,{theme:f,children:(0,v.jsxs)(m.Z,{sx:{textAlign:"center",marginBottom:"1rem"},elevation:2,children:[(0,v.jsxs)(x.Z,{variant:"h5",component:"p",children:["Application Status: ",r]}),(0,v.jsx)("br",{}),(0,v.jsx)(g.Z,{activeStep:S[r],alternativeLabel:!0,connector:(0,v.jsx)(w,{}),children:Z.map(((e,t)=>(0,v.jsx)(p.Z,{children:(0,v.jsx)(b.Z,{error:e===d.n$.VERIFIED&&r===d.n$.VERIFICATION_FAILED,children:e===d.n$.VERIFIED&&r===d.n$.VERIFICATION_FAILED?"Failed Verification":e})},t)))}),(0,v.jsx)("br",{})]})})};var k=r(89704),E=r.n(k);const N=(e,t)=>{let r="";switch(console.log(e,t),e){case"phone_number":/^\d{10}$/.test(t)||(r="Phone number must be exactly 10 digits.");break;case"zip_pin_code":/^\d{6}$/.test(t)||(r="ZIP/Pin code must be exactly 6 digits.");break;case"aadhar":t&&!/^\d{12}$/.test(t)&&(r="Aadhar number must be exactly 12 digits.");break;case"gstin":t&&!/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}[Zz]{1}[0-9A-Za-z]{1}$/.test(t)&&(r="GSTIN must be a valid format (e.g., 22ABCDE0000A1Z5).")}return console.log(r),r};var I=r(18406),_=r(57482),R=r(82873),A=r(65202);const P=new Map([["first_name","First Name"],["middle_last_name","Middle & Last Name"],["phone_number","Phone Number"],["street_address","Street Address"],["city","City"],["state_province","State"],["state","State"],["zip_pin_code","PIN Code/ZIP"],["aadhar","Aadhar Number"],["gstin","GST Number"],["comments","Remark(s)"]]),U=[["first_name"],["middle_last_name"],["phone_number"],["street_address"],["city"],["state_province","state"],["zip_pin_code"]],T=R.c,D=A.$;const O=function(){var e,t,r;const[h,u]=(0,o.useState)({first_name:"",middle_last_name:"",phone_number:"",street_address:"",city:"",state_province:"",zip_pin_code:"",country:"India",aadhar:"",gstin:"",comments:"",status:d.n$.SUBMITTED,tncAgreed:!1,hash:""}),[m,g]=(0,o.useState)(null),p=(0,l.v9)(i.w),[b,f]=(0,o.useState)({}),j=null===(e=JSON.parse(localStorage.getItem("userInfo")))||void 0===e?void 0:e.UserId,y="".concat(j,"_Kyc"),[w,Z]=(0,o.useState)(null),[S,k]=(0,o.useState)(null),[R,A]=(0,o.useState)([]),[O,B]=(0,o.useState)([]),[L,F]=(0,o.useState)(!1),[V,G]=(0,o.useState)(-1),[z,W]=(0,o.useState)(-1),[$,M]=(0,o.useState)(!1),K=null===(t=JSON.parse(localStorage.getItem("userInfo")))||void 0===t?void 0:t.email,Y=null===(r=JSON.parse(localStorage.getItem("userInfo")))||void 0===r?void 0:r.displayName,q=e=>{const{name:t,value:r}=e.target,o=N(t,r);f((e=>({...e,[t]:o}))),u((e=>({...e,[t]:r})))};(0,o.useEffect)((()=>{(async()=>{const e=await(0,c.Ld)(d.Ul.USER_KYC,y);e?(g(e),u({...e,status:e.status||d.n$.SUBMITTED})):g(null)})(),(async()=>{const e="".concat(d.Rb.CREATORS_KYC_DOCUMENTS,"/").concat(j);try{const[t,r]=await Promise.all([(0,c.XG)("".concat(e,"/Aadhar/")),(0,c.XG)("".concat(e,"/Gst/"))]);t&&t.length>0?Z(t):(Z(null),console.warn("No Aadhar documents found.")),r&&r.length>0?k(r):(k(null),console.warn("No GST documents found."))}catch(t){console.error("Error fetching KYC documents:",t)}})()}),[y]);const J=["status","hash","country","tncAgreed","comments","UserId","gstin","aadhar"];return(0,v.jsxs)("div",{style:{color:p?"white":"black"},children:[(0,v.jsxs)(n.Z,{className:"glassmorphic-container",style:{margin:"auto",border:p?"1px solid white":"1px solid black",borderRadius:"5px",padding:"20px"},children:[(0,v.jsxs)(a.Z,{onSubmit:async e=>{e.preventDefault(),M(!0);try{const t=Object.keys(h).filter((e=>!["hash","status","country","comments","UserId"].includes(e)));let r=!0,o=[],n=0;if(t.forEach((e=>{const t=N(e,h[e]);t&&(r=!1,n+=1,o.push("".concat(n,": ").concat(t)),f((r=>({...r,[e]:t}))))})),!r)return void alert("Please correct the following errors before submitting:\n\n".concat(o.join("\n")));const a=await(0,c.Ld)(d.Ul.USER_KYC,y),s=(e=>{const t=Object.keys(e).filter((e=>"hash"!==e&&"status"!==e)).sort().map((t=>"".concat(t,":").concat(e[t]))).join("|");return E().SHA256(t).toString()})(h);console.log(s,null===a||void 0===a?void 0:a.hash);const l=K,i={user_name:Y,user_id:j};if(a){if(a.hash!==s){const e={...h,hash:s};await(0,I.qC)(e,d.Ul.USER_KYC,l,i)}}else{const e={...h,hash:s};await(0,I.qC)(e,d.Ul.USER_KYC,l,i)}R&&(console.log(R),await(0,c.qS)(d.Rb.CREATORS_KYC_DOCUMENTS,j,"Aadhar"),G(0),await(0,c.FV)(d.Rb.CREATORS_KYC_DOCUMENTS,R,j,"Aadhar",(e=>G(e)),(e=>{Z(e),console.log(e)}))),O&&(console.log(O),await(0,c.qS)(d.Rb.CREATORS_KYC_DOCUMENTS,j,"Gst"),W(0),await(0,c.FV)(d.Rb.CREATORS_KYC_DOCUMENTS,O,j,"Gst",(e=>W(e)),(e=>{k(e),console.log(e)}))),await(0,c.Xt)(d.Ul.USER,j,{KycIdList:{[y]:h.status}}),e.target.reset()}catch(t){console.error("Error processing KYC: ",t)}finally{M(!1)}},children:[(0,v.jsx)("h1",{style:{color:p?"white":"black",textTransform:"capitalize"},children:"Verify yourself"}),(0,v.jsx)("div",{className:"row",children:U.map((e=>{const t=e.find((e=>!J.includes(e)&&void 0!==h[e]));return t?(0,v.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,v.jsxs)(a.Z.Group,{controlId:"formBasic".concat(t),children:[(0,v.jsx)(x.Z,{style:{color:p?"white":"black"},children:P.get(t)}),["city","state_province"].includes(t)?(0,v.jsxs)(a.Z.Control,{as:"select",placeholder:"Enter ".concat(P.get(t)),name:t,value:h[t],onChange:q,required:!0,className:"glassmorphic-input",style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black",paddingTop:0,paddingBottom:0},children:[(0,v.jsxs)("option",{value:"",children:["Select a ",P.get(t)]}),[..."city"===t?T:D].map(((e,t)=>(0,v.jsx)("option",{value:e,children:e},t)))]}):(0,v.jsx)(a.Z.Control,{type:"age"===t||"phone_number"===t?"number":"text",placeholder:"Enter ".concat(P.get(t)),name:t,value:h[t],onChange:q,required:!0,className:"glassmorphic-input",style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black"}}),b[t]&&(0,v.jsx)("span",{style:{color:"red"},children:b[t]})," "]})},t):null}))}),(0,v.jsx)("div",{className:"row",children:(0,v.jsxs)("div",{className:"col-md-6 col-lg-4",children:[(0,v.jsxs)(a.Z.Group,{controlId:"formBasicAadhar",children:[(0,v.jsx)(a.Z.Label,{style:{color:p?"white":"black"},children:"Aadhar"}),(0,v.jsxs)("div",{className:"d-flex align-items-center",children:[(0,v.jsx)(a.Z.Control,{type:"text",placeholder:"Enter Aadhar Number",name:"aadhar",className:"glassmorphic-input",value:h.aadhar,onChange:q,style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black",marginRight:"10px"}}),(0,v.jsx)(s.Z,{disable:"Verified"===h.status,variant:"light",onClick:()=>document.getElementById("aadharUpload").click(),style:{padding:"0.5rem",backgroundColor:p?"#333":"#f8f9fa",color:p?"white":"black",cursor:"pointer"},children:"Upload"}),(0,v.jsx)("input",{type:"file",id:"aadharUpload",accept:".pdf",style:{display:"none"},onChange:e=>(e=>{A(e.target.files[0]),F(!0)})(e)})]}),w&&w.length>0&&w[0].fileURL?(0,v.jsx)(s.Z,{variant:"link",style:{color:"#007bff",textDecoration:"none"},onClick:()=>window.open(w[0].fileURL,"_blank"),children:"Download Aadhar Document"}):(0,v.jsx)("p",{style:{color:p?"white":"black"},children:(null===R||void 0===R?void 0:R.name)||"No new Aadhar file uploaded."})]}),b.aadhar&&(0,v.jsx)("span",{style:{color:"red"},children:b.aadhar}),(0,v.jsx)("div",{children:V>=0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("progress",{value:V,max:"100"}),(0,v.jsxs)("p",{children:[V,"% uploaded"]})]})})]})}),(0,v.jsx)("div",{className:"row",children:(0,v.jsxs)("div",{className:"col-md-6 col-lg-4",children:[(0,v.jsxs)(a.Z.Group,{controlId:"formBasicGst",children:[(0,v.jsx)(a.Z.Label,{style:{color:p?"white":"black"},children:"GST"}),(0,v.jsxs)("div",{className:"d-flex align-items-center",children:[(0,v.jsx)(a.Z.Control,{type:"text",placeholder:"Enter GST Number",name:"gstin",value:h.gstin,onChange:q,className:"glassmorphic-input",style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black",marginRight:"10px"}}),(0,v.jsx)(s.Z,{disable:"Verified"===h.status,variant:"light",onClick:()=>document.getElementById("gstUpload").click(),style:{padding:"0.5rem",backgroundColor:p?"#333":"#f8f9fa",color:p?"white":"black",cursor:"pointer"},children:"Upload"}),(0,v.jsx)("input",{type:"file",id:"gstUpload",accept:".pdf",style:{display:"none"},onChange:e=>(e=>{B(e.target.files[0]),F(!0)})(e)})]}),S&&S.length>0&&S[0].fileURL?(0,v.jsx)(s.Z,{variant:"link",style:{color:"#007bff",textDecoration:"none"},onClick:()=>window.open(S[0].fileURL,"_blank"),children:"Download GST Document"}):(0,v.jsxs)("p",{style:{color:p?"white":"black"},children:[" ",(null===O||void 0===O?void 0:O.name)||"No new GST file uploaded."]})]}),b.gstin&&(0,v.jsx)("span",{style:{color:"red"},children:b.gstin}),(0,v.jsx)("div",{children:z>=0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("progress",{value:z,max:"100"}),(0,v.jsxs)("p",{children:[z,"% uploaded"]})]})})]})}),(0,v.jsxs)("div",{class:"form-check",children:[(0,v.jsx)("input",{type:"checkbox",class:"form-check-input",id:"tnc-switch",checked:h.tncAgreed,onChange:e=>{u((t=>({...t,tncAgreed:e.target.checked})))}}),(0,v.jsx)("label",{class:"form-check-label",for:"exampleCheck1",children:(0,v.jsxs)("span",{style:{color:p?"white":"black"},children:["I agree to the ",(0,v.jsx)("a",{href:"#/npoliciesStudio",style:{color:p?"lightblue":"blue"},children:"Terms and Conditions. Click to read."})]})})]}),(0,v.jsx)("br",{}),h.comments&&(0,v.jsxs)("div",{className:"col-md-12 col-lg-12",children:[(0,v.jsx)("br",{}),(0,v.jsxs)(a.Z.Group,{controlId:"formBasicComments",children:[(0,v.jsx)(a.Z.Label,{children:P.get("comments")}),(0,v.jsx)(a.Z.Control,{as:"textarea",name:"comments",value:h.comments,readOnly:!0,style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black"}})]})]}),(0,v.jsx)(s.Z,{variant:"info",type:"submit",disabled:"Verified"===h.status||!h.tncAgreed,children:"Submit"})]}),$&&(0,v.jsx)(_.Z,{}),(0,v.jsx)("br",{}),(0,v.jsx)(v.Fragment,{children:h.hash&&(0,v.jsx)(C,{kycId:y,status:h.status})})]}),(0,v.jsx)("br",{})]})}},21204:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});r(72791);var o=r(92552),n=r(84654),a=r(28658),s=r(69597),l=r(43782),i=r(94294),c=r(18625),d=r(83168),h=r(36314),u=r(59434),m=r(60717),x=r(83708),g=r(97310),p=r(17237),b=r(80184);function f(e){let{img_src:t,data:r}=e;const f=(0,u.v9)(m.w),j=r.id?r.id:r.studioId,y={backgroundColor:f?"#444":"white",padding:"0px",color:f?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,b.jsxs)(n.Z,{variant:"solid",sx:{...y,"&:hover":{transform:"scale(1.01)"}},children:[(0,b.jsxs)(o.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,b.jsx)("img",{src:r&&r.iconUrl?r.iconUrl:x.Hi,loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",height:"auto",overflow:"hidden"}}),(0,b.jsx)(h.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:r&&r.danceStyles&&"string"===typeof r.danceStyles?r.danceStyles.split(",").slice(0,3).map(((e,t)=>(0,b.jsx)(s.Z,{color:t%2===0?"danger":"success",sx:{marginBottom:"10px",fontSize:"0.8rem",bgcolor:x.lt[t].backgroundColor,color:x.lt[t].color},children:e.trim()},t))):(0,b.jsx)(s.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)}),(0,b.jsx)(h.Z,{direction:"row",spacing:2,style:{position:"absolute",top:0,left:0,padding:"1px",paddingTop:"1px"},children:"true"===r.freeTrialAvailable||!0===r.freeTrialAvailable&&(0,b.jsx)(s.Z,{sx:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem",bgcolor:x.DM.LIME.backgroundColor,color:x.DM.LIME.color},children:"Free Trial Available"},1)})]}),(0,b.jsxs)(a.Z,{style:{padding:"10px"},children:[(0,b.jsxs)(l.Z,{display:"flex",justifyContent:"space-between",columnGap:1,children:[(0,b.jsx)(c.Z,{alignSelf:"center",href:"#/studio/".concat(j),fontWeight:"bold",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",style:{color:f?"white":"black"},children:r&&r.studioName?r.studioName:"    "}),r&&r.avgRating&&r.avgRating>0?(0,b.jsxs)(d.ZP,{width:52,flexShrink:0,alignSelf:"center",style:{color:f?"white":"black"},children:["\u2b50 ",r.avgRating.toFixed(1)]}):null]}),(0,b.jsx)(d.ZP,{style:{color:f?"white":"black"},level:"body-xs",children:r.street?r.street:".  "}),(0,b.jsx)(g.ZP,{hidden:!0,"aria-label":"Like minimal photography",size:"md",variant:"solid",color:"danger",sx:{position:"absolute",zIndex:2,borderRadius:"50%",right:"1rem",bottom:"2rem",transform:"translateY(50%)"},children:(0,b.jsx)(p.Z,{})}),(0,b.jsxs)(l.Z,{display:"flex",justifyContent:"space-between",children:[(0,b.jsx)(d.ZP,{alignSelf:"center",fontSize:12,style:{color:f?"white":"black"},children:r&&r.minFee&&r.minFee>=0&&"@ \u20b9".concat(r.minFee," onwards")}),(0,b.jsx)(i.Z,{size:"small",variant:"contained",sx:{alignSelf:"center",color:"white",backgroundColor:"#735EAB","&:hover":{backgroundColor:"#735EAB",color:"white"},"&.Mui-disabled":{backgroundColor:f?"rgba(115, 94, 171, 0.5)":"rgba(115, 94, 171, 0.3)",color:"rgba(255, 255, 255, 0.5)"}},type:"button",children:"Explore"})]})]})]})}},59894:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var o=r(72791),n=r(89743),a=r(2677),s=r(95070),l=r(19275),i=r(83708),c=r(59434),d=r(60717),h=r(61224),u=r(68449),m=r(41893),x=r(57621),g=r(9585),p=r(93044),b=r(20890),f=r(20068),j=r(39504),y=r(18384),v=r(88447),w=r(16029),Z=r(93006),S=r(94294),C=r(5712),k=r(68096),E=r(94925),N=r(64415),I=r(23786),_=r(25351),R=r(94070),A=r(51650),P=r(74569),U=r.n(P),T=r(32808),D=r.n(T),O=r(80184);const B=i.A3,L=e=>{let{open:t,onClose:r,userProfileInfo:n,setUserProfileInfo:a}=e;const{currentUser:s}=(0,h.a)(),l=A.W,[c,d]=(0,o.useState)([]),[m,x]=(0,o.useState)(),[g,p]=(0,o.useState)(!1),[f,j]=(0,o.useState)(""),[y,P]=(0,o.useState)((null===n||void 0===n?void 0:n.isPhoneNumberVerified)||!1),[T,L]=(0,o.useState)(!1),[F,V]=(0,o.useState)(!1),[G,z]=(0,o.useState)(""),[W,$]=(0,o.useState)("info");(0,o.useEffect)((()=>{n&&n.DanceStyles&&""!==n.DanceStyles&&d(n.DanceStyles),n&&n.PhoneNumber&&""!==n.setUserPhoneNumber&&x(n.PhoneNumber)}),[n]);const M=e=>{a({...n,[e.target.name]:e.target.value})},K=()=>{V(!1)};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(v.Z,{open:t,onClose:r,style:{overflow:"scroll"},children:(0,O.jsxs)(w.Z,{sx:{p:4,backgroundColor:"white",margin:"auto",mt:5,maxWidth:400,borderRadius:2},children:[(0,O.jsx)(b.Z,{variant:"h6",gutterBottom:!0,children:"Edit Profile"}),(0,O.jsx)(Z.Z,{fullWidth:!0,label:"Name",name:"Name",value:n.Name,onChange:M,margin:"normal"}),(0,O.jsx)(Z.Z,{fullWidth:!0,label:"Age",name:"Age",type:"number",value:n.Age,onChange:M,margin:"normal"}),(0,O.jsx)(Z.Z,{fullWidth:!0,label:"Phone Number",name:"PhoneNumber",type:"number",value:n.PhoneNumber,onChange:M,margin:"normal",InputProps:{readOnly:y||n.isPhoneNumberVerified}}),y||n.isPhoneNumberVerified?(0,O.jsx)(b.Z,{color:"green",children:"Phone Number Verified"}):(0,O.jsx)(S.Z,{variant:"outlined",onClick:async()=>{try{if(200!==(await U().post("".concat(B,"djSms/request_otp/"),D().stringify({phone_number:n.PhoneNumber}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).status)throw new Error("Failed to send OTP.");L(!0),p(!0),z("OTP sent to your phone number."),$("info"),V(!0)}catch(e){console.error("Error sending OTP:",e),z("Error sending OTP, please try again."),$("error"),V(!0)}},children:T?"Resend OTP":"Verify Phone Number"}),(0,O.jsx)(C.Z,{multiple:!0,id:"tags-standard",options:l,value:c,onChange:(e,t)=>{d(t)},renderInput:e=>(0,O.jsx)(Z.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:"white",color:"black"}})}),(0,O.jsxs)(k.Z,{fullWidth:!0,margin:"normal",children:[(0,O.jsx)(E.Z,{children:"Gender"}),(0,O.jsxs)(N.Z,{name:"Gender",value:n.Gender,onChange:M,children:[(0,O.jsx)(I.Z,{value:"Male",children:"Male"}),(0,O.jsx)(I.Z,{value:"Female",children:"Female"}),(0,O.jsx)(I.Z,{value:"Other",children:"Other"})]})]}),(0,O.jsx)(Z.Z,{fullWidth:!0,label:"Bio",name:"Bio",value:n.Bio,onChange:M,multiline:!0,rows:4,margin:"normal"}),(0,O.jsxs)(w.Z,{mt:2,display:"flex",justifyContent:"space-between",children:[(0,O.jsx)(S.Z,{variant:"outlined",onClick:r,children:"Cancel"}),(0,O.jsx)(S.Z,{variant:"contained",onClick:async()=>{n.DanceStyles=c;await(0,u.gv)(i.Ul.USER,s.uid,n)&&(z("Profile Updated"),$("success"),V(!0))},children:"Save"})]})]})}),(0,O.jsx)(v.Z,{open:g,onClose:()=>p(!1),children:(0,O.jsxs)(w.Z,{sx:{p:4,backgroundColor:"white",margin:"auto",mt:5,maxWidth:300,borderRadius:2},children:[(0,O.jsx)(b.Z,{variant:"h6",gutterBottom:!0,children:"Enter OTP"}),(0,O.jsx)(Z.Z,{fullWidth:!0,label:"4-Digit OTP",value:f,onChange:e=>j(e.target.value),margin:"normal"}),(0,O.jsxs)(w.Z,{mt:2,display:"flex",justifyContent:"space-between",children:[(0,O.jsx)(S.Z,{variant:"outlined",onClick:()=>p(!1),children:"Cancel"}),(0,O.jsx)(S.Z,{variant:"contained",onClick:async()=>{try{const e=await U().post("".concat(B,"djSms/confirm_otp/"),D().stringify({phone_number:n.PhoneNumber,otp:f}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});console.log(e),e&&e.data&&"success"===e.data.status?(P(!0),a({...n,isPhoneNumberVerified:!0}),p(!1),(async()=>{(0,u.to)(i.Ul.USER,s.uid,n.PhoneNumber)})(),z("Phone number verified successfully."),$("success"),V(!0)):(z(e.message||"Invalid OTP."),$("error"),V(!0))}catch(e){console.error("Error verifying OTP:",e),z("Error verifying OTP, please try again."),$("error"),V(!0)}},children:"Submit OTP"})]})]})}),(0,O.jsx)(_.Z,{open:F,autoHideDuration:600,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:K,children:(0,O.jsx)(R.Z,{onClose:K,severity:W,sx:{width:"100%"},children:G})})]})};var F=r(9806),V=(r(12481),r(11632)),G=r(12716),z=(r(10159),r(56510));const W=function(){const[e,t]=(0,o.useState)(!1),[r,v]=(0,o.useState)({Name:"",Age:"",DanceStyles:"",Gender:"",Bio:""}),w=(0,c.v9)(d.w),{currentUser:Z}=(0,h.a)();console.log("currentUser",Z);const S=[["Transactions","All","#/transactions"],["My Bookings","All","#/myBookings"],["Instructors","Creator","#/modifyInstructors"],["Studios","Creator","#/modifyStudios"],["DashBoard","Creator","#/creatorDashboard"]],{setIsLoading:C}=(0,z.U)(),[k,E]=(0,o.useState)(!1),[N,I]=(0,o.useState)([]);S.sort(((e,t)=>e[0].localeCompare(t[0]))),(0,o.useEffect)((()=>{Z&&Z.uid&&console.log("Recently watched disabled");(async()=>{try{C(!0);const e=await(0,u.Ld)(i.Ul.USER,Z.uid);if(e){v({Name:e.Name||"",Age:e.Age||"",DanceStyles:e.DanceStyles||"",Gender:e.Gender||"",Bio:e.Bio||"",PhoneNumber:e.PhoneNumber||"",isPhoneNumberVerified:e.isPhoneNumberVerified||!1});const r=await(0,u.gG)(Z.uid);t(r)}else console.log("User not found but workshop created... error")}catch(e){console.log("Error fetching user data or creator mode: ",e)}finally{C(!1)}})()}),[e]);const _={background:w?"black":"white",color:w?"white":"black",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"10px",cursor:"pointer"};return(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{style:{color:w?"white":"black",textTransform:"capitalize"},children:"Profile"}),(0,O.jsxs)(x.Z,{sx:{maxWidth:400,background:w?"black":"white",color:w?"white":"black"},children:[(0,O.jsx)(g.Z,{avatar:(0,O.jsx)(p.Z,{alt:"Picture",src:Z.photoURL,sx:{width:40,height:40}}),title:(0,O.jsxs)(b.Z,{variant:"h6",component:"div",sx:{display:"flex",color:w?"white":"black",alignItems:"center"},children:[Z.displayName,e&&(0,O.jsx)(f.Z,{title:"You are a verified user.",arrow:!0,children:(0,O.jsx)(y.Z,{sx:{color:"green",marginLeft:.5,fontSize:20}})})]}),subheader:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(b.Z,{variant:"body2",component:"div",sx:{color:w?"white":"black"},children:[Z.email,r.Age].filter(Boolean).join(" || ")}),r.DanceStyles&&(0,O.jsx)(b.Z,{variant:"body2",component:"div",sx:{mt:1,color:w?"white":"black"},children:r.DanceStyles}),r.Bio&&(0,O.jsx)(b.Z,{variant:"body2",component:"div",sx:{mt:1,color:w?"white":"black"},children:r.Bio})]}),subheaderTypographyProps:{sx:{color:w?"gray":"darkgray"}}}),(0,O.jsx)(l.Z,{sx:{ml:2},variant:"outlined",onClick:()=>{E(!0)},children:"Edit Profile"}),(0,O.jsx)(L,{open:k,onClose:()=>{E(!1)},userProfileInfo:r,setUserProfileInfo:v}),(0,O.jsx)(j.Z,{children:(0,O.jsx)(b.Z,{variant:"body2",color:"text.secondary",style:{color:w?"white":"black"},children:e?"List your studios now!!":"Welcome to the Nritya! \n Verify your profile to list your studio."})})]}),(0,O.jsx)("br",{}),(0,O.jsx)(n.Z,{children:S.map((t=>{let[r,o,n]=t;return"Creator"!==o||e?(0,O.jsx)(a.Z,{xs:12,sm:6,md:6,lg:3,xl:3,className:"mb-4",children:(0,O.jsx)("a",{href:n,children:(0,O.jsx)(s.Z,{style:_,children:(0,O.jsx)(s.Z.Body,{children:(0,O.jsx)(s.Z.Title,{children:r})})})})},r):null}))}),(0,O.jsx)(m.default,{}),(0,O.jsxs)(n.Z,{hidden:!0,children:[N.length>0&&(0,O.jsxs)("h4",{style:{color:w?"white":"black"},children:[" ",(0,O.jsx)(F.G,{icon:V.SZw,size:"1x"})," Recently Viewed"]}),N.length>0?(0,O.jsx)(G.default,{dataList:N,imgOnly:!1}):""]})]})}},24654:()=>{}}]);
//# sourceMappingURL=5618.2650a861.chunk.js.map