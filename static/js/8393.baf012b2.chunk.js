"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[8393],{68393:(e,o,s)=>{s.r(o),s.d(o,{default:()=>y});var a=s(72791),t=s(57689),r=s(10159),l=s(98255),i=s(12481),n=s(83708),c=s(89743),d=s(2677),u=s(89164),m=s(94294),p=s(68449),h=s(18406),g=s(80184);const y=function(){const[e,o]=(0,a.useState)(!1),[s,y]=(0,a.useState)(null),f=(0,t.s0)(),k=async()=>{try{const o=await(0,l.rh)(r.I8,r.Ap),a=l.hJ.credentialFromResult(o),t=(a.accessToken,a.idToken,o.user);if(o){var e;let o=await(null===(e=r.I8.currentUser)||void 0===e?void 0:e.getIdToken());console.log("token",o),localStorage.setItem("authToken",o)}(async(e,o)=>{y(null===e||void 0===e?void 0:e.displayName),localStorage.setItem("username",s),localStorage.setItem("isLoggedIn",!0),localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("userInfoFull",JSON.stringify(o))})({UserId:t.uid,email:t.email,isPremium:t.isPremium,displayName:t.displayName,WorkshopCreated:t.WorkshopCreated,WorkshopEnrolled:t.WorkshopEnrolled,CreatorMode:!1,photoURL:t.photoURL},t),await(async e=>{try{const o=(0,i.JU)(r.db,n.Ul.USER,e.uid);if((await(0,i.QT)(o)).exists())console.log("User there");else{console.log("No such document!");const o={Name:e.displayName,Email:e.email,DoB:null,UserId:e.uid,WorkshopCreated:[],WorkshopEnrolled:[],Cart:[],CreatorMode:!1,KycIdList:{},StudioCreated:[],premiumTill:!1,TransactionIDs:[],recentlyWatched:{0:"",1:"",2:"",3:"",4:""}},s=e.email,a={user_id:e.uid},t=await(0,h.qC)(o,n.Ul.USER,s,a);t.ok?console.log("User added successfully"):console.error(t)}const s=(0,i.JU)(r.db,n.Ul.USER,e.uid),a=await(0,i.QT)(s);localStorage.setItem("userDetails",JSON.stringify({UserId:e.uid,email:e.email,isPremium:a.data().isPremium,displayName:a.data().displayName,WorkshopCreated:a.data().WorkshopCreated,WorkshopEnrolled:a.data().WorkshopEnrolled}))}catch(o){console.error("Error adding user: ",o)}})(t),await(0,p.oM)(t.uid),f("/")}catch(a){console.log("Invalid username or password"),o(!0)}};return(0,g.jsx)(u.Z,{fluid:!0,className:"custom-container-main",children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(d.Z,{xs:12,md:12,children:(0,g.jsx)("div",{children:(0,g.jsx)("form",{className:"custom-login-form",onSubmit:e=>{e.preventDefault(),k()},style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"15px 0"},children:(0,g.jsxs)(m.Z,{type:"submit",style:{backgroundColor:"#D9D9D9",color:"#000",borderRadius:"6px",textTransform:"none",border:"1px solid #777",padding:"8px 16px"},children:[(0,g.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Icon",style:{marginRight:"10px",height:"20px"}}),"Sign In with Google"]})})})})})})}},89743:(e,o,s)=>{s.d(o,{Z:()=>c});var a=s(41418),t=s.n(a),r=s(72791),l=s(10162),i=s(80184);const n=r.forwardRef(((e,o)=>{let{bsPrefix:s,className:a,as:r="div",...n}=e;const c=(0,l.vE)(s,"row"),d=(0,l.pi)(),u=(0,l.zG)(),m="".concat(c,"-cols"),p=[];return d.forEach((e=>{const o=n[e];let s;delete n[e],null!=o&&"object"===typeof o?({cols:s}=o):s=o;const a=e!==u?"-".concat(e):"";null!=s&&p.push("".concat(m).concat(a,"-").concat(s))})),(0,i.jsx)(r,{ref:o,...n,className:t()(a,c,...p)})}));n.displayName="Row";const c=n}}]);
//# sourceMappingURL=8393.baf012b2.chunk.js.map