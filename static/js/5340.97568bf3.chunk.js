"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[5340],{26953:(e,t,l)=>{l.d(t,{Z:()=>s});l(72791);var a=l(21204),r=l(80184);const s=e=>{let{studio:t}=e;return(0,r.jsx)("a",{href:"#/studio/".concat(t.id),children:(0,r.jsx)(a.Z,{data:t,img_src:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg"})})}},81018:(e,t,l)=>{l.d(t,{Z:()=>y});var a=l(72791),r=l(6429),s=l.n(r),o=l(30276),n=l(10159),i=l(59434),d=l(60717),c=l(68449),u=l(57621),h=l(13400),m=l(39504),x=l(27247),g=l(75424),b=l(83708),p=l(80184);const j=e=>{let{entityId:t,storageFolder:l,title:r,maxImageCount:j=10,updateMode:y,disable:v}=e;(0,g.D)();const[f,k]=(0,a.useState)([]),[S,C]=(0,a.useState)([]),[Z,w]=(0,a.useState)([]),[N,I]=(0,a.useState)([]),A=(0,i.v9)(d.w),[O,L]=(0,a.useState)(-1),[D,T]=(0,a.useState)(-1);console.log("Kyc enitity id ",t,v);const F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const l=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(l))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]};(0,a.useEffect)((()=>{t&&U(t)}),[t]),(0,a.useEffect)((()=>{if(j&&f.length>j){const e=f.slice(0,j);alert("Exceeded maxImageCount, keeping first ".concat(j," files.")),k(e)}}),[f,j]);const E=(e,t)=>{const l=e.map((e=>e.id)),a=t.map((e=>e.id));return{imagesToDelete:t.filter((e=>!l.includes(e.id))),newImages:e.filter((e=>!a.includes(e.id)))}},U=async e=>{k([]),w([]),I([]);try{const t="".concat(l,"/").concat(e);console.log(t);const a=(0,o.iH)(n.tO,t),r=await(0,o.aF)(a),s=await Promise.all(r.items.map((async e=>{const t=await(0,o.Jt)(e);return{id:e.name,filename:e.name,fileURL:t}})));C(s),k(s)}catch(t){console.error("Error fetching user images:",t)}};return(0,p.jsx)("div",{className:"fileupload-view",style:{display:"flex",width:"100%",justifyContent:"center"},children:(0,p.jsx)("div",{className:"row justify-content-center m-0",style:{flex:"1",justifyContent:"center"},children:(0,p.jsx)("div",{className:"col-md-6",style:{flex:"1",justifyContent:"center"},children:(0,p.jsx)("div",{className:"card mt-5",children:(0,p.jsxs)("div",{className:"card-body",style:{backgroundColor:A?"#333333":"white"},children:[(0,p.jsxs)("div",{className:"kb-data-box",children:[(0,p.jsx)("div",{className:"kb-modal-data-title",children:(0,p.jsxs)("div",{className:"kb-data-title",style:{justifyContent:"center",flex:"1"},children:[(0,p.jsx)("h4",{children:r}),(0,p.jsxs)("p",{children:["Max no of image(s):",j," ",l===b.Rb.STUDIOIMAGES&&(0,p.jsx)("p",{children:"Add at least 5 images"})]})]})}),(0,p.jsxs)("form",{style:{backgroundColor:A?"#333333":"white"},children:[(0,p.jsx)("div",{className:"kb-file-upload",children:(0,p.jsx)("div",{className:"file-upload-box",children:(0,p.jsx)("input",{type:"file",id:"fileupload",className:"file-upload-input",onChange:e=>{const t=Array.from(e.target.files),l=[];t.forEach((e=>{const a=new FileReader;a.onloadend=()=>{l.push({id:s().generate(),filename:e.name,filetype:e.type,fileimage:a.result,datetime:e.lastModifiedDate.toLocaleString("en-IN"),filesize:F(e.size),file:e}),l.length===t.length&&(k((e=>[...e,...l])),w(l))},a.readAsDataURL(e)}))},multiple:!0})})}),(0,p.jsx)("br",{}),(0,p.jsx)("div",{className:"kb-attach-box mb-3",children:(0,p.jsx)("div",{className:"row",children:t&&f.length>0?f.map((e=>(0,p.jsx)("div",{className:"col-6 col-md-3 mb-3",style:{position:"relative"},children:(0,p.jsx)(u.Z,{sx:{maxWidth:345},children:e.filename.match(/\.(jpg|jpeg|png|gif|svg)$/i)?(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)("img",{src:e.fileimage?e.fileimage:e.fileURL,alt:e.filename,className:"card-img-top",style:{maxHeight:"150px",objectFit:"cover"}}),(0,p.jsx)(h.Z,{"aria-label":"delete",disabled:v,onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this image?")){const t=f.find((t=>t.id===e));I((e=>[...e,t])),k((t=>t.filter((t=>t.id!==e))))}})(e.id),style:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.5)"},children:(0,p.jsx)(x.Z,{style:{color:"ff0000"}})})]}):(0,p.jsx)(m.Z,{children:(0,p.jsx)("i",{className:"far fa-file-alt"})})})},e.id))):(0,p.jsx)("div",{className:"col-12 text-center",children:(0,p.jsx)("p",{children:"No images selected"})})})}),(0,p.jsx)("div",{className:"kb-buttons-box",children:(0,p.jsx)("button",{type:"button",className:"btn form-submit",style:{backgroundColor:A?"#892CDC":"black",color:"white"},onClick:async()=>{if(t)try{if(1===j)await(0,c.ih)(l,t),await(0,c.eg)(l,Z,t);else{const{imagesToDelete:e,newImages:a}=E(f,S);e.length>0&&await(0,c.xR)(l,e,t,L),a.length>0&&await(0,c.eg)(l,a,t,T)}}catch(e){console.error("Error uploading/deleting images:",e)}else alert("No studio selected")},disabled:v,children:"Image Upload"})})]}),f.length>0&&(0,p.jsx)("div",{className:"kb-attach-box",hidden:!0,children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("hr",{}),f.map((e=>(0,p.jsx)("div",{className:"col-6 col-md-3 mb-3",children:(0,p.jsx)("div",{className:"card",children:e.filename.match(/\.(jpg|jpeg|png|gif|svg)$/i)?(0,p.jsx)("img",{src:e.fileimage,alt:e.filename,className:"card-img-top",style:{maxHeight:"150px",objectFit:"cover"}}):(0,p.jsx)("div",{className:"card-body",children:(0,p.jsx)("i",{className:"far fa-file-alt"})})})},e.id)))]})})]}),O>=0&&(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{style:{color:A?"#fff":"#000"},children:["Deleting images... ",O.toFixed(2),"%"]}),(0,p.jsxs)("progress",{value:O,max:"100",style:{color:A?"#fff":"#000"},children:[O.toFixed(2),"%"]})]}),D>=0&&(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{style:{color:A?"#fff":"#000"},children:["Uploading images... ",D.toFixed(2),"%"]}),(0,p.jsxs)("progress",{value:D,max:"100",style:{color:A?"#fff":"#000"},children:[D.toFixed(2),"%"]})]})]})})})})})};j.defaultProps={maxImageCount:5,updateMode:!1,disable:!1};const y=j},21204:(e,t,l)=>{l.d(t,{Z:()=>j});l(72791);var a=l(92552),r=l(84654),s=l(28658),o=l(69597),n=l(43782),i=l(94294),d=l(18625),c=l(83168),u=l(36314),h=l(59434),m=l(60717),x=l(83708),g=l(97310),b=l(17237),p=l(80184);function j(e){let{img_src:t,data:l}=e;const j=(0,h.v9)(m.w),y=l.id?l.id:l.studioId,v={backgroundColor:j?"#444":"white",padding:"0px",color:j?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,p.jsxs)(r.Z,{variant:"solid",sx:{...v,"&:hover":{transform:"scale(1.01)"}},children:[(0,p.jsxs)(a.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,p.jsx)("img",{src:l&&l.iconUrl?l.iconUrl:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg",loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",height:"auto",overflow:"hidden"}}),(0,p.jsx)(u.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:l&&l.danceStyles&&"string"===typeof l.danceStyles?l.danceStyles.split(",").slice(0,3).map(((e,t)=>(0,p.jsx)(o.Z,{color:t%2===0?"danger":"success",sx:{marginBottom:"10px",fontSize:"0.8rem",bgcolor:x.lt[t].backgroundColor,color:x.lt[t].color},children:e.trim()},t))):(0,p.jsx)(o.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)}),(0,p.jsx)(u.Z,{direction:"row",spacing:2,style:{position:"absolute",top:0,left:0,padding:"1px",paddingTop:"1px"},children:l&&l.freeTrialAvailable&&(0,p.jsx)(o.Z,{sx:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem",bgcolor:x.DM.LIME.backgroundColor,color:x.DM.LIME.color},children:"Free Trial Available"},1)})]}),(0,p.jsxs)(s.Z,{style:{padding:"10px"},children:[(0,p.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",columnGap:1,children:[(0,p.jsx)(d.Z,{alignSelf:"center",href:"#/studio/".concat(y),fontWeight:"bold",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",style:{color:j?"white":"black"},children:l&&l.studioName?l.studioName:"    "}),l&&l.avgRating?(0,p.jsxs)(c.ZP,{width:52,flexShrink:0,alignSelf:"center",style:{color:j?"white":"black"},children:["\u2b50 ",l.avgRating.toFixed(1)]}):null]}),(0,p.jsx)(c.ZP,{style:{color:j?"white":"black"},level:"body-xs",children:l.street?l.street:".  "}),(0,p.jsx)(g.ZP,{hidden:!0,"aria-label":"Like minimal photography",size:"md",variant:"solid",color:"danger",sx:{position:"absolute",zIndex:2,borderRadius:"50%",right:"1rem",bottom:"2rem",transform:"translateY(50%)"},children:(0,p.jsx)(b.Z,{})}),(0,p.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",children:[(0,p.jsx)(c.ZP,{alignSelf:"center",fontSize:12,style:{color:j?"white":"black"},children:l&&l.minFee&&"@ \u20b9".concat(l.minFee," onwards")}),(0,p.jsx)(i.Z,{size:"small",variant:"contained",sx:{alignSelf:"center",color:"white",backgroundColor:"#735EAB","&:hover":{backgroundColor:"#735EAB",color:"white"},"&.Mui-disabled":{backgroundColor:j?"rgba(115, 94, 171, 0.5)":"rgba(115, 94, 171, 0.3)",color:"rgba(255, 255, 255, 0.5)"}},type:"button",children:"Explore"})]})]})]})}},75340:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ie});var a=l(72791),r=l(89743),s=l(2677),o=l(10159),n=l(12481),i=l(83708),d=l(95313),c=l(94294),u=l(57482),h=l(62591),m=l(43360),x=l(56355),g=l(95316),b=l(80184);const p=e=>{var t;let{show:l,handleClose:a,handleSelect:o,defaultTime:n}=e;const i=n.split("-")[0].trim(),c=null===(t=n.split("-")[1])||void 0===t?void 0:t.trim(),u=e=>{console.log(e);const t=(()=>{const e=[];let t=[],l=[];for(let a=0;a<24;a++)for(let e=0;e<60;e+=15){const r=a.toString().padStart(2,"0"),s=e.toString().padStart(2,"0"),o="".concat(r,":").concat(s);if(a<12)t.push("".concat(o," AM"));else{const e=(a-12).toString().padStart(2,"0");l.push("".concat(e,":").concat(s," PM"))}}for(let a=0;a<t.length||a<l.length;a++)a<t.length&&e.push(t[a]),a<l.length&&e.push(l[a]);return e})();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:e,children:e}),t.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})};return(0,b.jsxs)(g.Z,{show:l,onHide:a,children:[(0,b.jsx)(g.Z.Header,{closeButton:!0,children:(0,b.jsx)(g.Z.Title,{children:"Select Time"})}),(0,b.jsx)(g.Z.Body,{children:(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(s.Z,{children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"Start Time"}),(0,b.jsx)(d.Z.Control,{as:"select",onChange:e=>o(e.target.value,null),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:u(i)})]})}),(0,b.jsx)(s.Z,{children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"End Time"}),(0,b.jsx)(d.Z.Control,{as:"select",onChange:e=>o(null,e.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:u(c)})]})})]})}),(0,b.jsx)(g.Z.Footer,{children:(0,b.jsx)(m.Z,{onClick:a,children:"Save"})})]})};var j=l(51650),y=l(5712),v=l(76989),f=l(14481);l(31896),l(36682);const k=["M","T","W","Th","F","St","Sn"],S={Kids:"Kids",Adults:"Adults",Women_Only:"Women Only",Men_Only:"Men Only",Seniors:"Seniors",All:"All Ages, Open to All",Couples:"Couples",Families:"Families"};const C=function(e){let{tableData:t=[],setTableData:l,instructorNamesWithIds:r}=e;const[s,o]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),g=j.W,[C,Z]=(0,a.useState)("12:00 PM - 01:00 PM"),w=(e,a,r)=>{l((l=>{"days"===a&&(r=Array.isArray(r)?r.join(","):r),console.log(t);const s=[...l];return s[e][a]=r,s}))},N=()=>{o(!1),i(null)},I=(e,t)=>{l((l=>{const a=[...l];if(null!==n&&a[n]){const l=a[n].time;if(void 0!==l){const[r,s]=l.split(" - ");null!==e&&(a[n].time="".concat(e," - ").concat(s)),null!==t&&(a[n].time="".concat(r," - ").concat(t))}}return a})),u(n)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(h.Z,{bordered:!0,variant:"light",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{style:{border:"1px solid black"},children:[(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Name"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Dance Form"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Days"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Time"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"20rem",border:"1px solid black"},children:"Instructors"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Fee (\u20b9)"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Level"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Free Trial"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Category"}),(0,b.jsx)("th",{style:{padding:"0rem"},children:(0,b.jsx)(m.Z,{variant:"primary",onClick:()=>{l((e=>[...e,{className:"",danceForms:"",days:"",time:"12:00 PM - 01:00 PM",instructors:[],fee:"",level:"",status:"",freeTrial:!1,classCategory:[]}]))},children:(0,b.jsx)(x.wEH,{})})})]})}),(0,b.jsx)("tbody",{style:{border:"1px solid black"},children:t.map(((e,a)=>{var u;return(0,b.jsxs)("tr",{className:c===a?"selected-row":"",children:[(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},type:"text",value:e.className,onChange:e=>w(a,"className",e.target.value)})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.danceForms,onChange:e=>w(a,"danceForms",e.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select a dance form"}),g.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})}),(0,b.jsx)("td",{style:{padding:"0rem",minWidth:"15rem",border:"1px solid black"},className:"m-0 p-0",children:(0,b.jsx)(f.N,{value:e.days&&e.days.split(",").filter((e=>""!==e)),onChange:e=>w(a,"days",e.target.value),options:k,placeholder:"class days",maxSelectedLabels:7,className:"w-full md:w-20rem"})}),(0,b.jsxs)("td",{style:{padding:"0rem",border:"1px solid black"},children:[(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white"},type:"text",value:e.time,onClick:()=>((e,t)=>{Z(t),i(e),o(!0)})(a,e.time)}),s&&(0,b.jsx)(p,{show:s,handleClose:N,handleSelect:I,defaultTime:(null===(u=t[n])||void 0===u?void 0:u.time)||"00:00-00:00"})]}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,id:"tags-standard",options:r,value:e.instructors,onChange:(e,t)=>w(a,"instructors",t),renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Instructors"})})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white"},type:"text",value:e.fee,onChange:e=>w(a,"fee",e.target.value)})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.level,onChange:e=>w(a,"level",e.target.value),children:["     ",(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,b.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,b.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,b.jsx)("option",{value:"Misc",children:"Misc"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.level,onChange:e=>w(a,"level",e.target.value),children:["     ",(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:!0,children:"Yes"}),(0,b.jsx)("option",{value:!1,children:"No"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,id:"tags-standard",options:Object.values(S),value:e.classCategory.map((e=>S[e])),onChange:(e,t)=>{const l=t.map((e=>Object.keys(S).find((t=>S[t]===e))));w(a,"classCategory",l)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Class Category"})})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(m.Z,{variant:"danger",onClick:()=>(e=>{l((t=>{const l=[...t];return l.splice(e,1),l}))})(a),children:(0,b.jsx)(x.iFH,{})})})]},a)}))})]})})};var Z=l(81018),w=l(2040),N=l(20382),I=l(7993);const A=["places"];const O=()=>(0,b.jsx)("div",{style:{position:"relative",textAlign:"center"},children:(0,b.jsx)(x.Nh4,{style:{color:"green",fontSize:"24px"}})}),L=function(e){let{selectedLocation:t,setSelectedLocation:l}=e;const[r,s]=(0,a.useState)(t||{lat:0,lng:0}),[o,n]=(0,a.useState)(""),i="AIzaSyAAPq5IMotbu90TZAEtyj8qgYyVJoROzsQ";return(0,a.useEffect)((()=>{t&&s(t)}),[t]),(0,b.jsx)(I.KJ,{googleMapsApiKey:i,libraries:A,children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("br",{}),(0,b.jsx)(N.ZP,{value:o,onChange:e=>n(e),onSelect:async e=>{const t=await(0,N.NU)(e),a=await(0,N.WV)(t[0]);n(e),s(a),l(a)},children:e=>{let{getInputProps:t,suggestions:l,getSuggestionItemProps:a,loading:r}=e;return(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{...t({placeholder:"Enter address...",className:"location-search-input",style:{height:"40px",fontSize:"16px",width:"100%"}})}),(0,b.jsxs)("div",{className:"autocomplete-dropdown-container",children:[r&&(0,b.jsx)("div",{children:"Loading..."}),l.map((e=>{const t=e.active?"suggestion-item--active":"suggestion-item";return(0,b.jsx)("div",{...a(e,{className:t}),children:(0,b.jsx)("span",{children:e.description})})}))]})]})}}),(0,b.jsx)("br",{})]}),(0,b.jsx)("div",{style:{height:"400px",width:"100%"},children:(0,b.jsx)(w.ZP,{bootstrapURLKeys:{key:i},defaultCenter:r,center:r,defaultZoom:16,onClick:e=>{let{lat:t,lng:a}=e;l({lat:t,lng:a})},children:(0,b.jsx)(O,{lat:t&&t.lat?t.lat:0,lng:t&&t.lng?t.lng:0,text:"Selected Location"})})})]})})};var D=l(59434),T=l(60717),F=l(82873),E=l(65202),U=l(67107),P=l(44507),M=l(4708),H=l(63875),B=l(74512),W=l(15825);const J=e=>{let{StudioId:t}=e;return(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("div",{className:"row justify-content-center",children:(0,b.jsxs)("div",{className:"col-md-12",children:[" ",(0,b.jsxs)("div",{className:"_success message-box",children:[(0,b.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),(0,b.jsx)("h3",{children:"Your Studio registration was successful"}),(0,b.jsxs)("p",{children:[t," is now registered \ud83c\udf89"]})]})]})}),(0,b.jsx)("hr",{}),(0,b.jsx)("style",{jsx:!0,children:"\n        ._success {\n          padding: 45px;\n          width: 100%;\n          text-align: center;\n          margin: 30px auto;\n        }\n\n        ._success i {\n          font-size: 55px;\n          color: #28a745;\n        }\n\n        ._success h2 {\n          margin-bottom: 12px;\n          font-size: 30px;\n          font-weight: 300;\n          line-height: 1.2;\n          margin-top: 10px;\n        }\n\n        ._success p {\n          margin-bottom: 0px;\n          font-size: 18px;\n          color: #495057;\n          font-weight: 100;\n        }\n      "})]})};var R=l(18406),_=l(763);const z=e=>{const t=(new TextEncoder).encode(e);return String.fromCharCode(...t)};const V=function(e){let{instructors:t}=e;const[l,h]=(0,a.useState)(""),[m,x]=(0,a.useState)([{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",status:"",freeTrial:!1,classCategory:[]}]),[g,p]=(0,a.useState)(null),f=(0,D.v9)(T.w),[k,S]=(0,a.useState)([]),[w,N]=(0,a.useState)([]),[I,A]=(0,a.useState)([]),O=t.map((e=>"".concat(e.name," - ").concat(e.id))),[V,G]=(0,a.useState)(!1),[K,Y]=(0,a.useState)(!1),Q=F.c,q=E.$,$=j.W,X=Object.keys(i.QP).map(String),[ee,te]=(0,a.useState)(0),le=()=>{te((e=>e+1))},ae=()=>{te((e=>e-1))},re=(0,U.Z)({palette:{mode:f?"dark":"light"}});return(0,a.useEffect)((()=>{!async function(){const e=document.getElementById("addStudioForm");try{const t=(0,n.IO)((0,n.hJ)(o.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),l=await(0,n.PL)(t);if(l.empty)await(0,n.ET)((0,n.hJ)(o.db,i.i0.DRAFT_STUDIOS),{studioName:e.studioName.value,aboutStudio:e.aboutStudio.value,founderName:e.founderName.value,aboutFounder:e.aboutFounder.value,mobileNumber:e.mobileNumber.value,whatsappNumber:e.whatsappNumber.value,mailAddress:e.mailAddress.value,danceStyles:w.join(","),numberOfHalls:e.numberOfHalls.value,maximumOccupancy:e.maximumOccupancy.value,instructorsNames:k,status:"OPEN",tableData:{0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",freeTrial:!1,classCategory:[]}},buildingName:e.buildingName.value,street:e.street.value,city:e.city.value,landmark:e.landmark.value,pincode:e.pincode.value,state:e.state.value,country:"India",geolocation:g,gstNumber:e.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:!0,addAmenities:I.join(","),enrollmentProcess:z(e.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:e.instagram.value,facebook:e.facebook.value,youtube:e.youtube.value,twitter:e.twitter.value,visibilty:1});else{let t=[];l.forEach((e=>{t.push({id:e.id,...e.data()})}));let a=t[0];e.studioName.value=a.studioName,e.aboutStudio.value=a.aboutStudio,e.founderName.value=a.founderName,e.aboutFounder.value=a.aboutFounder,e.mobileNumber.value=a.mobileNumber,e.whatsappNumber.value=a.whatsappNumber,e.mailAddress.value=a.mailAddress,N(a.danceStyles.length?a.danceStyles.split(","):[]),e.numberOfHalls.value=a.numberOfHalls,e.maximumOccupancy.value=a.maximumOccupancy,S(a.instructorsNames),e.buildingName.value=a.buildingName,e.street.value=a.street,e.city.value=a.city,e.landmark.value=a.landmark,e.pincode.value=a.pincode,e.state.value=a.state,p(a.geolocation),e.aadharNumber.value=a.aadharNumber,e.gstNumber.value=a.gstNumber,x(Object.values(a.tableData)),A(a.addAmenities.length?a.addAmenities.split(","):[]),e.enrollmentProcess.value=(e=>{const t=e.split("").map((e=>e.charCodeAt(0)));return(new TextDecoder).decode(new Uint8Array(t))})(a.enrollmentProcess),e.instagram.value=a.instagram,e.facebook.value=a.facebook,e.youtube.value=a.youtube,e.twitter.value=a.twitter}G(!0)}catch(t){console.error(t)}}()}),[]),(0,a.useEffect)((()=>{let e=null,t=null;return V&&async function(){const l=document.getElementById("addStudioForm");try{const a=(0,n.IO)((0,n.hJ)(o.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),r=await(0,n.PL)(a);if(!r.empty){let a=[];r.forEach((e=>{a.push({id:e.id,...e.data()})}));let s=a[0];const d=(0,n.JU)(o.db,i.i0.DRAFT_STUDIOS,s.id);e=setInterval((async()=>{try{const a=m.reduce(((e,t,l)=>(e[l]=t,e)),{}),r={studioName:l.studioName.value,aboutStudio:l.aboutStudio.value,founderName:l.founderName.value,aboutFounder:l.aboutFounder.value,mobileNumber:l.mobileNumber.value,whatsappNumber:l.whatsappNumber.value,mailAddress:l.mailAddress.value,danceStyles:w.join(","),numberOfHalls:l.numberOfHalls.value,maximumOccupancy:l.maximumOccupancy.value,instructorsNames:k,status:"OPEN",tableData:a,buildingName:l.buildingName.value,street:l.street.value,city:l.city.value,landmark:l.landmark.value,pincode:l.pincode.value,state:l.state.value,country:"India",geolocation:g,gstNumber:l.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:!0,addAmenities:I.join(","),enrollmentProcess:z(l.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:l.instagram.value,facebook:l.facebook.value,youtube:l.youtube.value,twitter:l.twitter.value,visibilty:1};if((0,_.isEqual)(t,r))console.log("Nothing for Autosave to save");else try{await(0,n.r7)(d,r),t=r,console.log("Next AutoSave in",1e4)}catch(e){console.error(e)}}catch(e){console.error(e)}}),1e4)}}catch(a){console.error(a)}}(),()=>clearInterval(e)}),[V,w,k,m,g,I]),(0,b.jsxs)("div",{children:[(0,b.jsx)(H.Z,{activeStep:ee,alternativeLabel:!0,children:["Basic Studio & Owner details","Instructors, Classes & Social Media","Address & Registration","Studio Icon","Studio & Class Images"].map((e=>(0,b.jsx)(B.Z,{children:(0,b.jsx)(W.Z,{children:(0,b.jsx)("p",{style:{color:f?"white":"black"},children:e})})},e)))}),(0,b.jsxs)("div",{hidden:ee>2,children:[(0,b.jsx)(d.Z,{id:"addStudioForm",onSubmit:async e=>{e.preventDefault();if(!e.target.studioName.value)return;const t=m.reduce(((e,t,l)=>(e[l]=t,e)),{});try{var l;const a=null===(l=JSON.parse(localStorage.getItem("userInfo")))||void 0===l?void 0:l.email,r={studioName:e.target.studioName.value,aboutStudio:e.target.aboutStudio.value,founderName:e.target.founderName.value,aboutFounder:e.target.aboutFounder.value,mobileNumber:e.target.mobileNumber.value,whatsappNumber:e.target.whatsappNumber.value,mailAddress:e.target.mailAddress.value,danceStyles:w.join(","),numberOfHalls:e.target.numberOfHalls.value,maximumOccupancy:e.target.maximumOccupancy.value,instructorsNames:k,status:"OPEN",tableData:t,buildingName:e.target.buildingName.value,street:e.target.street.value,city:e.target.city.value,landmark:e.target.landmark.value,pincode:e.target.pincode.value,state:e.target.state.value,country:"India",geolocation:g,gstNumber:e.target.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:true,addAmenities:I.join(","),enrollmentProcess:z(e.target.enrollmentProcess.value),creatorEmail:a,instagram:e.target.instagram.value,facebook:e.target.facebook.value,youtube:e.target.youtube.value,twitter:e.target.twitter.value,visibilty:1};Y(!0);const s=a,d={entity_name:r.studioName,city:r.city},c=await(0,R.qC)(r,i.Ul.STUDIO,s,d);if(c.ok){const e=await c.json();h(e.id),(async()=>{try{const e=(0,n.IO)((0,n.hJ)(o.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),t=await(0,n.PL)(e);if(!t.empty){let e=[];t.forEach((t=>{e.push({id:t.id,...t.data()})}));let l=e[0];const a=(0,n.JU)(o.db,i.i0.DRAFT_STUDIOS,l.id);await(0,n.oe)(a)}}catch(e){console.error(e)}})(),le()}}catch(a){console.error("Error adding studio: ",a)}finally{Y(!1)}},style:{backgroundColor:f?"#202020":"",color:f?"white":"black"},children:(0,b.jsxs)(d.Z.Group,{controlId:"formBasicAdd",children:[(0,b.jsxs)("div",{hidden:0!==ee,children:[(0,b.jsx)("h3",{style:{backgroundColor:f?"#202020":"",color:f?"white":"black"},children:"Basic Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Studio Name"}),(0,b.jsx)(d.Z.Control,{rows:1,style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"studioName"}),(0,b.jsx)(d.Z.Label,{children:"About Studio"}),(0,b.jsx)(d.Z.Control,{rows:6,style:{minHeight:"10rem",backgroundColor:f?"#333333":"",color:f?"white":"black"},as:"textarea",placeholder:"Enter studio's details",name:"aboutStudio"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Founder's Name"}),(0,b.jsx)(d.Z.Control,{rows:1,style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},type:"textarea",placeholder:"Enter founder name",name:"founderName"}),(0,b.jsx)(d.Z.Label,{children:"About Founder"}),(0,b.jsx)(d.Z.Control,{rows:6,style:{minheight:"10rem",backgroundColor:f?"#333333":"",color:f?"white":"black"},as:"textarea",placeholder:"Enter founder's details",name:"aboutFounder"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:f?"#202020":"",color:f?"white":"black"},children:"Contact Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mobile Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},rows:1,placeholder:"Enter mobile number",name:"mobileNumber",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"WhatsApp Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},rows:1,placeholder:"Enter whatsapp number",name:"whatsappNumber",type:"number"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mail Address"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},type:"email",rows:1,placeholder:"Enter mail address",name:"mailAddress"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:f?"#202020":"",color:f?"white":"black"},children:"Studio Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Dance Styles"}),(0,b.jsxs)(P.Z,{theme:re,children:[(0,b.jsx)(M.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},multiple:!0,id:"tags-standard",options:$,value:w,onChange:(e,t)=>{N(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:f?"#333333":"",color:f?"white":"black"}})})]}),(0,b.jsx)(d.Z.Label,{children:"Number of Hall(s)"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},rows:1,placeholder:"Number of Hall(s)",name:"numberOfHalls",type:"number"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Maximum Occupancy"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},rows:1,placeholder:"Maximum Occupancy",name:"maximumOccupancy",type:"number"})]})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(s.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:f?"#892cdc":"black"},disabled:!0,children:"Prev"})}),(0,b.jsx)(s.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:f?"#892cdc":"black"},onClick:()=>le(),children:"Next"})})]})]}),(0,b.jsxs)("div",{hidden:1!==ee,children:[(0,b.jsx)("h3",{style:{backgroundColor:f?"#202020":"",color:f?"white":"black"},children:"Instructor Details"}),(0,b.jsx)(d.Z.Label,{children:"Names of Instructors"}),(0,b.jsx)(r.Z,{children:(0,b.jsxs)(P.Z,{theme:re,children:[(0,b.jsx)(M.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},multiple:!0,id:"tags-standard",options:O,value:k,onChange:(e,t)=>{S(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Instructors",style:{backgroundColor:f?"#333333":"",color:f?"white":"black"}})})]})}),(0,b.jsx)("a",{href:"#/modifyInstructors",rel:"noreferrer",target:"_blank",style:{textDecoration:"none",color:f?"cyan":"blue"},children:"Go to Instrcutors' Add/update Page?"}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:f?"#202020":"",color:f?"white":"black"},children:"Class Schedule"}),(0,b.jsx)("span",{children:"Time Table Of dance classes"}),(0,b.jsx)("div",{style:{overflowX:"auto",whiteSpace:"nowrap",scrollbarColor:f?"#888 #333":"#ccc #fff"},children:(0,b.jsx)(C,{tableData:m,setTableData:x,instructorNamesWithIds:O})}),(0,b.jsx)("h3",{style:{backgroundColor:f?"#202020":"",color:f?"white":"black"},children:"Additional Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"GST Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},type:"text",rows:1,placeholder:"GST Number",name:"gstNumber"})]}),(0,b.jsxs)(s.Z,{md:8,children:[(0,b.jsx)(d.Z.Label,{children:"Add Amenities"}),(0,b.jsxs)(P.Z,{theme:re,children:[(0,b.jsx)(M.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},multiple:!0,id:"tags-standard",options:X,value:I,onChange:(e,t)=>{A(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Amenities",style:{backgroundColor:f?"#333333":"",color:f?"white":"black"}})})]})]})]}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(d.Z.Label,{children:"Enrollment Process"}),(0,b.jsx)(d.Z.Control,{rows:12,style:{height:"150px",backgroundColor:f?"#333333":"",color:f?"white":"black"},as:"textarea",placeholder:"Enrollment Process",name:"enrollmentProcess"})]}),(0,b.jsx)("h3",{style:{backgroundColor:f?"#202020":"",color:f?"white":"black"},children:"Social Media Links"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Instagram"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},type:"text",rows:1,placeholder:"Instagram Link",name:"instagram"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Facebook"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},type:"text",rows:1,placeholder:"Facebook Link",name:"facebook"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"YouTube"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},type:"text",rows:1,placeholder:"YouTube Link",name:"youtube"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Twitter"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},type:"text",rows:1,placeholder:"Twitter Link",name:"twitter"})]})]}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(s.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:f?"#892cdc":"black"},onClick:()=>ae(),children:"Prev"})}),(0,b.jsx)(s.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:f?"#892cdc":"black"},onClick:()=>le(),children:"Next"})})]})]}),(0,b.jsxs)("div",{hidden:2!==ee,children:[(0,b.jsx)("h3",{style:{backgroundColor:f?"#202020":"",color:f?"white":"black"},children:"Address Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Building Name"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},as:"textarea",rows:1,placeholder:"Enter building name",name:"buildingName"}),(0,b.jsx)(d.Z.Label,{children:"Street"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},as:"textarea",rows:1,placeholder:"Enter street",name:"street"}),(0,b.jsx)(d.Z.Label,{children:"City"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{backgroundColor:f?"#333333":"",color:f?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},name:"city",children:[(0,b.jsx)("option",{value:"",children:"Select a city"}),Q.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Landmark"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},rows:1,placeholder:"Enter landmark",name:"landmark"}),(0,b.jsx)(d.Z.Label,{children:"Pincode"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:f?"#333333":"",color:f?"white":"black"},rows:1,placeholder:"Enter pincode",name:"pincode",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"State"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{padding:"0 1.5rem",backgroundColor:f?"#333333":"",color:f?"white":"black"},rows:1,placeholder:"Enter state",name:"state",children:[(0,b.jsx)("option",{value:"",children:"Select a State"}),q.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsx)(d.Z.Label,{children:"Save exact Address"}),(0,b.jsx)(L,{selectedLocation:g,setSelectedLocation:p})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(s.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:f?"#892cdc":"black"},onClick:()=>ae(),children:"Prev"})}),(0,b.jsx)(s.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",disabled:K,style:{backgroundColor:f?"#892cdc":"black",color:"white"},type:"submit",children:"Add Studio & Next"})})]})]})]})}),K&&(0,b.jsx)(u.Z,{}),""===l?"":(0,b.jsxs)("p",{children:["New Studio Created with id ",l,". Now u can upload images regarding them"]})]}),(0,b.jsxs)("div",{hidden:3!==ee,children:[(0,b.jsx)(Z.Z,{entityId:l,title:"Studio Icon",storageFolder:i.Rb.STUDIOICON,maxImageCount:1}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(s.Z,{xs:12,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:f?"#892cdc":"black"},onClick:()=>le(),children:"Next"})})})]}),(0,b.jsxs)("div",{hidden:4!==ee,children:[(0,b.jsx)(Z.Z,{entityId:l,title:"Studio Images",storageFolder:i.Rb.STUDIOIMAGES}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(s.Z,{xs:12,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:f?"#892cdc":"black"},onClick:()=>le(),children:"Next"})})})]}),(0,b.jsxs)("div",{hidden:5!==ee,style:{display:"flex",alignItems:"center",height:"auto"},children:[(0,b.jsx)(J,{StudioId:l}),(0,b.jsx)("br",{})]}),(0,b.jsx)("br",{})]})};var G=l(47022),K=l(30018);const Y=e=>{let{type:t="info",message:l="Default message",timeOfDisplay:r=5e3,fontSize:s="16px",fontWeight:o="normal",fontStyle:n="normal"}=e;const[i,d]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{d(!1)}),r);return()=>{clearTimeout(e)}}),[r]),(0,b.jsx)(G.Z,{children:i&&(0,b.jsx)(K.Z,{variant:t,style:{fontSize:s,fontWeight:o,fontStyle:n,textAlign:"center",marginTop:"10px",marginBottom:"0"},onClose:()=>d(!1),dismissible:!0,children:l})})},Q=["M","T","W","Th","F","St","Sn"],q={Kids:"Kids",Adults:"Adults",Women_Only:"Women Only",Men_Only:"Men Only",Seniors:"Seniors",All:"All Ages, Open to All",Couples:"Couples",Families:"Families"},$=e=>{const t=(new TextEncoder).encode(e);return String.fromCharCode(...t)},X=e=>{const t=e.split("").map((e=>e.charCodeAt(0)));return(new TextDecoder).decode(new Uint8Array(t))};const ee=function(e){let{studio:t,setStudio:l,studioId:c,setStudioId:g,instructors:k}=e;const[S,C]=(0,a.useState)(null),[w,N]=(0,a.useState)(null),[I,A]=(0,a.useState)([]),[O,H]=(0,a.useState)(-1),[B,W]=(0,a.useState)([]),[J,_]=(0,a.useState)(!1),[z,V]=(0,a.useState)(null),[G,K]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(null),[le,ae]=(0,a.useState)("00:00-00:00"),re=F.c,se=E.$,oe=j.W,ne=Object.keys(i.QP).map(String),[ie,de]=(0,a.useState)(!1),[ce,ue]=(0,a.useState)(!1),[he,me]=(0,a.useState)(null),[xe,ge]=(0,a.useState)([]),be=(0,D.v9)(T.w),pe=k.map((e=>"".concat(e.name," - ").concat(e.id))),je=(0,U.Z)({palette:{mode:be?"dark":"light"}}),[ye,ve]=(0,a.useState)({0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",freeTrial:!1,classCategory:[]}}),fe=()=>{_(!1),V(null)},ke=(e,t)=>{ve((l=>{const a={...l};if(null!==z&&a[z]){const l=a[z].time;if(void 0!==l){const[r,s]=l.split(" - ");null!==e&&(a[z].time="".concat(e," - ").concat(s)),null!==t&&(a[z].time="".concat(r," - ").concat(t))}}return a})),te(z)};(0,a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("StudioCreated"))||[];l(e);const t=e.map((e=>"".concat(e.studioName," : ").concat(e.id)));g(t)}),[]),(0,a.useEffect)((()=>{if(S&&(A(S.instructorsNames),S&&S.danceStyles&&ge(S.danceStyles.split(",")),S&&S.addAmenities&&W(S.addAmenities.split(",")),S&&S.tableData)){const e=Math.max(...Object.keys(ye).map(Number));H(e)}}),[S]);const Se=(e,t,l)=>{ve((a=>("days"===t&&(l=Array.isArray(l)?l.join(","):l),{...a,[e]:{...a[e],[t]:l}})))};return(0,b.jsxs)("div",{style:{backgroundColor:be?"#202020":"",color:be?"white":"black"},children:[(0,b.jsx)("br",{}),(0,b.jsxs)(d.Z,{id:"updateStudioForm",onSubmit:async e=>{e.preventDefault(),K(!0);const t=e.target.nameId.value,l=t.lastIndexOf(":"),a=t.substring(l+1).trim();if(a){try{const t={studioName:e.target.studioName.value,aboutStudio:e.target.aboutStudio.value,founderName:e.target.founderName.value,aboutFounder:e.target.aboutFounder.value,mobileNumber:e.target.mobileNumber.value,whatsappNumber:e.target.whatsappNumber.value,mailAddress:e.target.mailAddress.value,danceStyles:xe.join(","),numberOfHalls:e.target.numberOfHalls.value,maximumOccupancy:e.target.maximumOccupancy.value,instructorsNames:I,status:"OPEN",tableData:ye,buildingName:e.target.buildingName.value,street:e.target.street.value,city:e.target.city.value,landmark:e.target.landmark.value,pincode:e.target.pincode.value,state:e.target.state.value,country:"India",geolocation:he,gstNumber:e.target.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,addAmenities:B.join(","),enrollmentProcess:$(e.target.enrollmentProcess.value),instagram:e.target.instagram.value,facebook:e.target.facebook.value,youtube:e.target.youtube.value,twitter:e.target.twitter.value};(await(0,R.fP)(t,i.Ul.STUDIO,a)).ok?(alert("Studio Update successfully"),de(!0),ue(!1)):(de(!1),ue(!0))}catch(r){console.error("Error updating studio: ",r),de(!1),ue(!0)}finally{K(!1)}document.getElementById("updateStudioForm").reset()}},children:[(0,b.jsxs)(d.Z.Group,{controlId:"formBasicUpdate",children:[(0,b.jsx)(d.Z.Label,{children:"Id"}),(0,b.jsxs)(d.Z.Control,{as:"select",name:"nameId",style:{backgroundColor:be?"#333333":"",color:be?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},onChange:async e=>{e.preventDefault();const t=e.target.value.split(":").pop().trim();N(t);try{const e=await(0,n.QT)((0,n.JU)(o.db,i.Ul.STUDIO,t));if(e.exists){if(C(e.data()),e.data().geolocation){const t=e.data().geolocation;me(t)}if(e.data().tableData){ve(e.data().tableData);const t=Math.max(...Object.keys(ye).map(Number));O(t)}else ve({0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",freeTrial:!1,classCategory:[]}})}else C(null)}catch(l){console.error("Error fetching studio data:",l,t)}},children:[(0,b.jsx)("option",{value:"",children:"Select a studio..."}),c&&c.length>0?c.map((e=>(0,b.jsx)("option",{value:e,children:e},e))):(0,b.jsx)("option",{value:"",children:"No studio yet!"})]})]}),(0,b.jsx)("h3",{style:{backgroundColor:be?"#202020":"",color:be?"white":"black"},children:"Basic Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Studio Name"}),(0,b.jsx)(d.Z.Control,{rows:1,defaultValue:S?S.studioName:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"studioName"}),(0,b.jsx)(d.Z.Label,{children:"About Studio"}),(0,b.jsx)(d.Z.Control,{rows:6,defaultValue:S?S.aboutStudio:"",style:{minHeight:"150px",backgroundColor:be?"#333333":"",color:be?"white":"black"},as:"textarea",placeholder:"Enter studio details",name:"aboutStudio"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Founder's Name"}),(0,b.jsx)(d.Z.Control,{rows:1,defaultValue:S?S.founderName:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"founderName"}),(0,b.jsx)(d.Z.Label,{children:"About Founder"}),(0,b.jsx)(d.Z.Control,{rows:6,defaultValue:S?S.aboutFounder:"",style:{height:"150px",backgroundColor:be?"#333333":"",color:be?"white":"black"},as:"textarea",placeholder:"Enter studio details",name:"aboutFounder"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:be?"#202020":"",color:be?"white":"black"},children:"Contact Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mobile Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.mobileNumber:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},rows:1,placeholder:"Enter studio details",name:"mobileNumber",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"WhatsApp Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.whatsappNumber:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},rows:1,placeholder:"Enter studio details",name:"whatsappNumber",type:"number"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mail Address"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.mailAddress:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},type:"textarea",rows:1,placeholder:"Enter studio details",name:"mailAddress"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:be?"#202020":"",color:be?"white":"black"},children:"Studio Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Dance Styles"}),(0,b.jsxs)(P.Z,{theme:je,children:[(0,b.jsx)(M.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},multiple:!0,id:"tags-standard",options:oe,value:xe,onChange:(e,t)=>{ge(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"}})})]}),(0,b.jsx)(d.Z.Label,{children:"Number of Hall(s)"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.numberOfHalls:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},rows:1,placeholder:"Number of Hall(s)",name:"numberOfHalls",type:"number"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Maximum Occupancy"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.maximumOccupancy:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},rows:1,placeholder:"Maximum Occupancy",name:"maximumOccupancy",type:"number"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:be?"#202020":"",color:be?"white":"black"},children:"Instructor Details"}),(0,b.jsx)(d.Z.Label,{children:"Names of Instructors"}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(s.Z,{xs:6,children:(0,b.jsx)("div",{style:{backgroundColor:be?"#202020":"",color:be?"white":"black"},children:(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(P.Z,{theme:je,children:[(0,b.jsx)(M.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},multiple:!0,id:"tags-standard",options:pe,value:I,onChange:(e,t)=>{A(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"}})})]}),(0,b.jsx)("a",{href:"#/modifyInstructors",rel:"noreferrer",target:"_blank",style:{textDecoration:"none",color:be?"cyan":"blue"},children:"Go to Instrcutors' Add/update Page?"})]})})})}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:be?"#202020":"",color:be?"white":"black"},children:"Address Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Building Name"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.buildingName:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},as:"textarea",rows:1,placeholder:"Enter building name",name:"buildingName"}),(0,b.jsx)(d.Z.Label,{children:"Street"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.street:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},as:"textarea",rows:1,placeholder:"Enter street",name:"street"}),(0,b.jsx)(d.Z.Label,{children:"City"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{backgroundColor:be?"#333333":"",color:be?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},name:"city",value:S?S.city:"",onChange:e=>{const t=e.target.value;C((e=>({...e,city:t})))},children:[(0,b.jsx)("option",{value:"",children:"Select a city"}),re.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Landmark"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.landmark:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},as:"textarea",rows:1,placeholder:"Enter landmark",name:"landmark"}),(0,b.jsx)(d.Z.Label,{children:"Pincode"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.pincode:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},as:"textarea",rows:1,placeholder:"Enter pincode",name:"pincode",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"State"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{padding:"0 1.5rem",backgroundColor:be?"#333333":"",color:be?"white":"black"},rows:1,placeholder:"Enter state",name:"state",children:[(0,b.jsx)("option",{value:"",children:"Select a State"}),se.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsx)(d.Z.Label,{children:"Save exact Address"}),(0,b.jsx)(L,{selectedLocation:S&&S.geolocation?S.geolocation:he,setSelectedLocation:me})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:be?"#202020":"white",color:be?"white":"black"},children:"Additional Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"GST Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.gstNumber:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},type:"number",rows:1,placeholder:"GST Number",name:"gstNumber"})]}),(0,b.jsxs)(s.Z,{md:8,children:[(0,b.jsx)(d.Z.Label,{children:"Add Amenities"}),(0,b.jsxs)(P.Z,{theme:je,children:[(0,b.jsx)(M.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},multiple:!0,id:"tags-standard",options:ne,value:B,onChange:(e,t)=>{W(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Amenities",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"}})})]})]})]}),(0,b.jsx)(r.Z,{children:(0,b.jsxs)(s.Z,{children:[(0,b.jsx)(d.Z.Label,{children:"Enrollment Process"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?X(S.enrollmentProcess):"",rows:6,style:{height:"150px",backgroundColor:be?"#333333":"",color:be?"white":"black"},as:"textarea",placeholder:"Enrollment Process",name:"enrollmentProcess"})]})}),(0,b.jsx)("br",{}),(0,b.jsx)("span",{children:"Time Table Of dance classes"}),(0,b.jsx)("div",{style:{overflowX:"auto",whiteSpace:"nowrap",scrollbarColor:be?"#888 #333":"#ccc #fff"},children:(0,b.jsxs)(h.Z,{bordered:!0,variant:"light",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Name"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Dance Form"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Days"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Time"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"20rem",border:"1px solid black"},children:"Instructors"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Fee (\u20b9)"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Level"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Free Trial"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Category"}),(0,b.jsx)("th",{style:{padding:0},children:(0,b.jsx)(m.Z,{variant:"primary",onClick:()=>{ve((e=>{const t=Object.keys(e).length;return{...e,[t]:{...ye[0]}}}))},children:(0,b.jsx)(x.wEH,{})})})]})}),(0,b.jsx)("tbody",{children:Object.keys(ye).map(((e,t)=>{var l,a,r;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{type:"text",value:ye[e].className,onChange:t=>Se(e,"className",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"}})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{as:"select",value:ye[e].danceForms,onChange:t=>Se(e,"danceForms",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:[(0,b.jsx)("option",{value:"",children:"Select a dance form"}),oe.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(f.N,{value:ye[e]&&ye[e].days&&ye[e].days.split(",").filter((e=>""!==e)),onChange:t=>Se(e,"days",t.target.value),options:Q,placeholder:"class days",maxSelectedLabels:7,className:"w-full md:w-20rem",style:{color:"#000",width:"100%"}})}),(0,b.jsxs)("td",{style:{padding:"0rem"},children:[(0,b.jsx)(d.Z.Control,{type:"text",value:ye[e].time,onClick:()=>((e,t)=>{ae(t),V(e),_(!0)})(e,ye[e].time)}),J&&(0,b.jsx)(p,{show:J,handleClose:fe,handleSelect:ke,defaultTime:(null===(l=ye[z])||void 0===l?void 0:l.time)||"00:00-00:00"})]}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,options:pe,value:ye[e]&&ye[e].instructors?ye[e].instructors:[],onChange:(t,l)=>Se(e,"instructors",l),renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Instructors"})})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{type:"text",value:ye[e].fee?ye[e].fee:"",onChange:t=>Se(e,"fee",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"}})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{as:"select",value:ye[e].level?ye[e].level:"",onChange:t=>Se(e,"level",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:[(0,b.jsx)("option",{value:"",children:"Select a Level"}),(0,b.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,b.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,b.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,b.jsx)("option",{value:"Misc",children:"Misc"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:null!==(a=ye[t])&&void 0!==a&&a.freeTrial?ye[t].freeTrial:"",onChange:e=>Se(t,"freeTrial",e.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:!0,children:"Yes"}),(0,b.jsx)("option",{value:!1,children:"No"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,id:"tags-standard",options:Object.values(q),value:null!==(r=ye[t])&&void 0!==r&&r.classCategory&&ye[t].classCategory.length>0?ye[t].classCategory.map((e=>q[e])):[],onChange:(e,l)=>{const a=l.map((e=>Object.keys(q).find((t=>q[t]===e))));Se(t,"classCategory",a)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Class Category"})})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(m.Z,{variant:"danger",onClick:()=>(e=>{ve((t=>{const l={...t};return delete l[e],l}))})(e),children:(0,b.jsx)(x.iFH,{})})})]},e)}))})]})}),(0,b.jsx)("br",{}),(0,b.jsx)("h3",{style:{backgroundColor:be?"#202020":"",color:be?"white":"black"},children:"Social Media Links"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Instagram"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.instagram:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},type:"text",rows:1,placeholder:"Instagram Link",name:"instagram"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Facebook"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.facebook:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},type:"text",rows:1,placeholder:"Facebook Link",name:"facebook"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"YouTube"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.youtube:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},type:"text",rows:1,placeholder:"YouTube Link",name:"youtube"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Twitter"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.twitter:"",style:{backgroundColor:be?"#333333":"",color:be?"white":"black"},type:"text",rows:1,placeholder:"Twitter Link",name:"twitter"})]})]}),(0,b.jsx)("br",{}),(0,b.jsx)(m.Z,{style:{backgroundColor:be?"#892CDC":"black",color:"white"},type:"submit",disabled:G,children:"Update Studio"}),G&&(0,b.jsx)(u.Z,{})]}),c&&c.length>0&&w&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{children:(0,b.jsx)(Z.Z,{entityId:w,title:"Studio Images",storageFolder:i.Rb.STUDIOIMAGES,maxImageCount:10})}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{children:(0,b.jsx)(Z.Z,{entityId:w,title:"Studio Icon",storageFolder:i.Rb.STUDIOICON,maxImageCount:1})}),(0,b.jsx)("div",{children:(0,b.jsx)(Z.Z,{entityId:w,title:"Studio Announcement Images",storageFolder:i.Rb.STUDIOANNOUNCEMENTS,maxImageCount:10})}),(0,b.jsx)("br",{})]}),ie&&(0,b.jsx)(Y,{type:"info",message:"Studio Updated successfully",timeOfDisplay:3e3,fontSize:"10px",fontWeight:"bold"}),ce&&(0,b.jsx)(Y,{type:"warning",message:"Studio Update failed",timeOfDisplay:3e3,fontSize:"10px",fontWeight:"bold"})]})};var te=l(61224),le=l(26953),ae=l(43896),re=l(83449),se=l(47283),oe=l(82851),ne=l(16029);const ie=function(){const[e,t]=(0,a.useState)([]),[l,d]=(0,a.useState)([]),c=(0,D.v9)(T.w),[u,h]=(0,a.useState)([]),[m,x]=(0,a.useState)(!1),[g,p]=(0,a.useState)(-1),{currentUser:j}=(0,te.a)(),[y,v]=a.useState("1");return(0,a.useEffect)((()=>{console.log("Creator Studio getCreatorMode");(async e=>{try{const e=(0,n.JU)(o.db,"User",j.uid),t=await(0,n.QT)(e);t.exists()?(console.log("User there",t.data(),t.data().CreatorMode,JSON.parse(localStorage.getItem("userInfoFull"))),null!=t.data()?(x(t.data().CreatorMode),p(t.data().isPremium),console.log("Premium Till",g,t.data())):console.log("userSnap.data() null")):console.log("User not found but workshop created... error")}catch(t){console.log(" error")}})()}),[m]),(0,a.useEffect)((()=>{console.log("Creator Studio fetchInstructors");(async()=>{let e=null;if(JSON.parse(localStorage.getItem("userInfo"))&&JSON.parse(localStorage.getItem("userInfo")).UserId&&(e=JSON.parse(localStorage.getItem("userInfo")).UserId),!e)return console.log("User not found"),void alert("User not found");const t=(0,n.hJ)(o.db,i.Ul.INSTRUCTORS),l=(0,n.IO)(t,(0,n.ar)("createdBy","==",e)),a=await(0,n.PL)(l),r=[];a.forEach((e=>{r.push({id:e.id,name:e.data().name})})),console.log("Hiii",r),h(r)})()}),[]),(0,a.useEffect)((()=>{console.log("Creator Studio getStudioCreated");(async()=>{const a=(0,n.IO)((0,n.hJ)(o.db,i.Ul.STUDIO),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId));console.log("Hiiii",JSON.parse(localStorage.getItem("userInfo")).UserId);const r=await(0,n.PL)(a);console.log("Studios : ",r);const s=r.docs.filter((e=>e.data().studioName)).map((e=>{const t=e.data();return{id:e.id,...t}}));localStorage.setItem("StudioCreated",JSON.stringify(s)),t(s),d(s.map((e=>String(e.studioName)+" :"+String(e.id)))),console.log(e),console.log("studioId",l)})()}),[t]),(0,a.useEffect)((()=>{console.log("Creator Studio setStudioId");const a=JSON.parse(localStorage.getItem("StudioCreated"))||[];t(a);const r=a.map((e=>"".concat(e.studioName," : ").concat(e.id)));d(r),console.log("studio:",e),console.log("studioId",l)}),[d]),console.log("studio :",e),(0,b.jsxs)("div",{children:[(0,b.jsx)("br",{}),m?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(ne.Z,{sx:{width:"100%",typography:"body1"},children:(0,b.jsxs)(re.ZP,{value:y,children:[(0,b.jsx)(ne.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,b.jsxs)(se.Z,{style:{color:c?"white":"black"},onChange:(e,t)=>{v(t)},"aria-label":"lab API tabs example",children:[(0,b.jsx)(ae.Z,{style:{color:c?"white":"black"},label:"Add Studio",value:"1"}),(0,b.jsx)(ae.Z,{style:{color:c?"white":"black"},label:"Update Studio",value:"2"})]})}),(0,b.jsx)(oe.Z,{value:"1",children:(0,b.jsx)(V,{instructors:u})}),(0,b.jsx)(oe.Z,{value:"2",children:(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(ee,{studio:e,setStudio:t,instructors:u,studioId:l,setStudioId:d})})})]})})}):"",(0,b.jsx)("h3",{style:{color:c?"white":"black"},children:"Your Studios:"}),(0,b.jsxs)("ul",{children:[(0,b.jsx)(r.Z,{xs:1,md:3,lg:4,className:"g-4",children:e.length>0?e.map(((e,t)=>(0,b.jsx)(s.Z,{children:(0,b.jsx)("a",{href:"#/studio/".concat(e.studioId),style:{textDecoration:"none"},children:(0,b.jsx)(le.Z,{studio:e})})},t))):(0,b.jsx)("p",{style:{color:c?"white":"black"},children:"No studio yet!"})}),(0,b.jsx)("br",{})]})]})}},51650:e=>{e.exports=JSON.parse('{"W":["Kuchipudi","Swing","Irish Dance","Folk Dance","Street Dance","Breaking","Voguing","House Dance","Bachata","Ballet","Ballroom","Belly Dance","Bhangra","Bharatanatyam","Bihu","Bollywood","Bollyhop","Butoh","Capoeira","Chhau","Clogging","Contemporary","Dandiya Raas","Flamenco","Garba","Giddha","Heels","Hip Hop","Irish Step Dance","Jazz","Jive","Kathak","Kathakali","Kizomba","Krumping","Lavani","Line Dance","Locking","Lyrical Hip-Hop","Manipuri","Modern Dance","Mohiniyattam","Odissi","Polynesian Dance","Popping","Rouf","Salsa","Sattriya","Tango","Tap Dance","Vogue","Waacking","Whacking","Zumba"]}')}}]);
//# sourceMappingURL=5340.97568bf3.chunk.js.map