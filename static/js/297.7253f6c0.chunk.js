"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[297],{25297:(e,t,r)=>{r.r(t),r.d(t,{default:()=>R});var l=r(72791),o=r(28949),a=r(13855),n=r(89743),s=r(2677),c=r(92592),i=r(43360),d=r(59434),h=r(60717),u=r(59135),x=r(12481),b=r(30276),p=r(83708),y=r(10159),g=r(80184);const j=function(){const e=(0,d.v9)(h.w),[t,r]=(0,l.useState)(null),[o,j]=(0,l.useState)(null);return(0,g.jsxs)("div",{style:{backgroundColor:e?"#202020":"white",color:e?"white":"black"},children:[(0,g.jsx)("h1",{style:{backgroundColor:e?"#202020":"white",color:e?"white":"black",textTransform:"capitalize"},children:"Add Dance Teacher"}),(0,g.jsxs)(a.Z,{onSubmit:async e=>{e.preventDefault(),console.log("Hi");let r=null;JSON.parse(localStorage.getItem("userInfo"))&&JSON.parse(localStorage.getItem("userInfo")).UserId&&(r=JSON.parse(localStorage.getItem("userInfo")).UserId),r||(console.log("Created by not found"),alert("User not found")),console.log(r);try{const l=await(0,x.ET)((0,x.hJ)(y.db,p.Ul.INSTRUCTORS),{name:e.target.name.value,danceStyles:e.target.danceStyles.value,experience:e.target.experience.value,age:e.target.age.value,email:e.target.email.value,description:e.target.description.value,facebook:e.target.facebook.value,instagram:e.target.instagram.value,twitter:e.target.twitter.value,youtube:e.target.youtube.value,createdBy:r,ownedBy:null});if(t&&o){const e=await(async(e,t)=>{console.log("Inside handleProfilePictureChange");try{const r=p.Rb.INSTRUCTORIMAGES,l=`${r}/${t}`,o=(0,b.iH)(y.tO,l);console.log("handleProfilePictureChange ",r,l),(await(0,b.aF)(o)).items.forEach((async e=>{await(0,b.oq)(e)}));const a=(0,b.iH)(y.tO,`${l}/${e.name}`);return await(0,b.KV)(a,e),await(0,b.Jt)(a)}catch(r){throw console.error("Error handling profile picture:",r),r}})(o,l.id);console.log("Profile picture uploaded:",e)}console.log("Instructor added successfully"),alert("Instructor added successfully")}catch(l){alert("Error",l)}},children:[(0,g.jsxs)(n.Z,{children:[(0,g.jsx)(s.Z,{md:4,children:(0,g.jsxs)(a.Z.Group,{controlId:"formFile",className:"mb-3",children:[(0,g.jsx)(a.Z.Label,{children:(0,g.jsx)(n.Z,{style:{textAlign:"center"},children:(0,g.jsx)("div",{style:{width:"22rem",height:"22rem",borderRadius:"50%",overflow:"hidden",margin:"auto",position:"relative",backgroundColor:e?"#d3d3d3":"black"},children:t&&(0,g.jsx)(c.Z,{src:t,alt:"Selected",style:{width:"100%",height:"100%",display:t?"block":"none"}})})})}),(0,g.jsx)(n.Z,{children:(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsxs)("label",{htmlFor:"fileInput",style:{cursor:"pointer",display:"inline-block",padding:"8px 8px",backgroundColor:"#007bff",color:"white",borderRadius:"14px",textTransform:"capitalize",border:"1px solid #666"},children:[(0,g.jsx)("span",{style:{fontSize:"1rem"},children:"Image +"}),(0,g.jsx)("input",{type:"file",id:"fileInput",name:"picture",accept:"image/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];t&&(r(URL.createObjectURL(t)),j(t))}})]})})})]})}),(0,g.jsxs)(s.Z,{md:8,children:[(0,g.jsx)(a.Z.Label,{children:"Name"}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter name",name:"name",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"}}),(0,g.jsx)(a.Z.Label,{children:"Dance Styles"}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter dance styles",name:"danceStyles",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"}}),(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(a.Z.Label,{children:"Experience"}),(0,g.jsx)(a.Z.Control,{type:"number",placeholder:"Enter experience (in years)",name:"experience",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"}}),(0,g.jsx)(a.Z.Label,{children:"Age"}),(0,g.jsx)(a.Z.Control,{type:"number",placeholder:"Enter age",name:"age",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"}}),(0,g.jsx)(a.Z.Label,{children:"Email"}),(0,g.jsx)(a.Z.Control,{type:"email",placeholder:"Enter email Id of instructor ",name:"email",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"}})]})]})]}),(0,g.jsxs)(n.Z,{children:[(0,g.jsx)(a.Z.Label,{children:"Description"}),(0,g.jsx)(a.Z.Control,{as:"textarea",rows:3,placeholder:"Enter description",name:"description",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"},required:!0})]}),(0,g.jsx)(a.Z.Label,{children:"Social Links"}),(0,g.jsxs)(n.Z,{children:[(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(u.Am9,{size:30,style:{color:e?"white":"black"}}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter Facebook profile URL",name:"facebook",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"}})]}),(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(u.Zf_,{size:30,style:{color:e?"white":"black"}}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter Instagram profile URL",name:"instagram",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"}})]}),(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(u.fWC,{size:30,style:{color:e?"white":"black"}}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter Twitter profile URL",name:"twitter",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"}})]}),(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(u.V2E,{size:30,style:{color:e?"white":"black"}}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter Youtube channel URL",name:"youtube",style:{backgroundColor:e?"#333333":"",color:e?"white":"black"}})]})]}),(0,g.jsx)(i.Z,{variant:"primary",type:"submit",style:{backgroundColor:e?"#892CDC":"black",color:"white"},children:"Submit"})]})]})};const m=function(e){let{instructors:t,setInstructors:r}=e;const o=(0,d.v9)(h.w),[j,m]=(0,l.useState)(null),[f,k]=(0,l.useState)(null),[w,Z]=(0,l.useState)(null);(0,l.useEffect)((()=>{if(j){const t=j.id;if(t){const r=`${p.Rb.INSTRUCTORIMAGES}/${t}`,l=(0,b.iH)(y.tO,r);try{(0,b.aF)(l).then((e=>{if(e.items.length>0){const t=e.items[0];(0,b.Jt)(t).then((e=>{k(e),Z(e)})).catch((e=>{console.error("Error fetching studio icon:",e)}))}else k(null),Z(null)})).catch((e=>{console.error("Error listing files in the folder:",e)}))}catch(e){console.error("Error fetching studio icon:",e)}}}}),[j]);const C=async(e,t)=>{try{const r=`${p.Rb.INSTRUCTORIMAGES}/${t}`,l=(0,b.iH)(y.tO,r);(await(0,b.aF)(l)).items.forEach((async e=>{await(0,b.oq)(e)}));const o=(0,b.iH)(y.tO,`${r}/${e.name}`);await(0,b.KV)(o,e);return await(0,b.Jt)(o)}catch(r){throw console.error("Error handling profile picture:",r),r}};return(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{style:{color:o?"white":"black",textTransform:"capitalize"},children:"Update Dance Teacher"}),(0,g.jsxs)(a.Z,{onSubmit:async e=>{if(e.preventDefault(),j)try{const t={name:e.target.name.value,danceStyles:e.target.danceStyles.value,experience:e.target.experience.value,age:e.target.age.value,email:e.target.email.value,description:e.target.description.value,facebook:e.target.facebook.value,instagram:e.target.instagram.value,twitter:e.target.twitter.value,youtube:e.target.youtube.value};if(m((e=>({...e,...t}))),await(0,x.r7)((0,x.JU)(y.db,p.Ul.INSTRUCTORS,j.id),t),f&&w){await C(w,j.id)}alert("Instructor updated successfully")}catch(t){console.error("Error updating instructor",t),alert("Error updating instructor")}else alert("Please select an instructor to update.")},children:[(0,g.jsxs)(a.Z.Control,{as:"select",onChange:async e=>{e.preventDefault();const t=e.target.value,r=await(0,x.QT)((0,x.JU)(y.db,p.Ul.INSTRUCTORS,t));m({id:r.id,...r.data()})},style:{backgroundColor:o?"#333333":"",color:o?"white":"black"},children:[(0,g.jsx)("option",{style:{backgroundColor:o?"#333333":"",color:o?"white":"black"},children:"Select an instructor"}),t.map((e=>(0,g.jsx)("option",{value:e.id,children:`${e.name} - ${e.id}`},e.id)))]}),(0,g.jsxs)(n.Z,{children:[(0,g.jsx)(s.Z,{md:4,children:(0,g.jsxs)(a.Z.Group,{controlId:"formFile",className:"mb-3",children:[(0,g.jsx)(a.Z.Label,{children:(0,g.jsx)(n.Z,{children:(0,g.jsx)("div",{style:{width:"20rem",height:"20rem",borderRadius:"50%",overflow:"hidden",margin:"auto",position:"relative",backgroundColor:o?"#d3d3d3":"black"},children:f&&(0,g.jsx)(c.Z,{src:f,alt:"Selected",style:{width:"100%",height:"100%",display:f?"block":"none"}})})})}),(0,g.jsx)(n.Z,{children:(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsxs)("label",{htmlFor:"fileInput",style:{cursor:"pointer"},children:[(0,g.jsx)("span",{style:{marginBottom:"2px",fontSize:"2rem"}}),(0,g.jsx)("input",{type:"file",id:"fileInput",name:"picture",accept:"image/*",style:{},onChange:e=>{const t=e.target.files[0];t&&(k(URL.createObjectURL(t)),Z(t))}})]})})})]})}),(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(a.Z.Label,{children:"Name"}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter name",name:"name",defaultValue:j?j.name:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}}),(0,g.jsx)(a.Z.Label,{children:"Dance Styles"}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter dance styles",name:"danceStyles",defaultValue:j?j.danceStyles:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}}),(0,g.jsx)(a.Z.Label,{children:"Experience"}),(0,g.jsx)(a.Z.Control,{type:"number",placeholder:"Enter experience (in years)",name:"experience",defaultValue:j?j.experience:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}}),(0,g.jsx)(a.Z.Label,{children:"Age"}),(0,g.jsx)(a.Z.Control,{type:"number",placeholder:"Enter age",name:"age",defaultValue:j?j.age:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}}),(0,g.jsx)(a.Z.Label,{children:"Email"}),(0,g.jsx)(a.Z.Control,{type:"email",placeholder:"Enter email Id of instructor",name:"email",defaultValue:j?j.email:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}})]})]}),(0,g.jsx)(a.Z.Label,{children:"Description"}),(0,g.jsx)(a.Z.Control,{as:"textarea",rows:3,placeholder:"Enter description",name:"description",defaultValue:j?j.description:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}}),(0,g.jsx)(a.Z.Label,{children:"Social Links"}),(0,g.jsxs)(n.Z,{children:[(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(u.Am9,{size:30}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter Facebook profile URL",name:"facebook",defaultValue:j?j.facebook:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}})]}),(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(u.Zf_,{size:30}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter Instagram profile URL",name:"instagram",defaultValue:j?j.instagram:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}})]}),(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(u.fWC,{size:30}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter Twitter profile URL",name:"twitter",defaultValue:j?j.twitter:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}})]}),(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(u.V2E,{size:30}),(0,g.jsx)(a.Z.Control,{type:"text",placeholder:"Enter Youtube channel URL",name:"youtube",defaultValue:j?j.youtube:"",style:{backgroundColor:o?"#333333":"",color:o?"white":"black"}})]})]}),(0,g.jsx)(i.Z,{variant:"primary",type:"submit",style:{backgroundColor:o?"#892CDC":"black",color:"white"},children:"Update Instructor"})]})]})};var f=r(95070),k=r(45736);const w=function(e){let{instructor:t,id:r}=e;const o=t.danceStyles?t.danceStyles.split(","):[],a=(0,d.v9)(h.w),[c,i]=(0,l.useState)(null),x={width:"18rem",margin:"5px",backgroundColor:a?"#333333":"black",color:a?"white":"black"},j={width:"60px",height:"60px",borderRadius:"50%",marginRight:"10px",backgroundColor:a?"#555":"#d3d3d3",display:"flex",justifyContent:"center",alignItems:"center"};return(0,l.useEffect)((()=>{(async()=>{if(t&&t.id){const r=`${p.Rb.INSTRUCTORIMAGES}/${t.id}`,l=(0,b.iH)(y.tO,r);try{(0,b.aF)(l).then((e=>{if(e.items.length>0){const t=e.items[0];(0,b.Jt)(t).then((e=>{i(e)})).catch((e=>{console.error("Error fetching studio icon:",e)}))}})).catch((e=>{console.error("Error listing files in the folder:",e)}))}catch(e){console.error("Error fetching image URL:",e)}}})()}),[]),(0,g.jsx)(f.Z,{style:x,children:(0,g.jsxs)(f.Z.Body,{children:[(0,g.jsxs)(n.Z,{children:[(0,g.jsx)(s.Z,{md:4,children:c?(0,g.jsx)(f.Z.Img,{variant:"top",src:c,alt:"Instructor",style:{width:"5rem",height:"5rem",borderRadius:"50%",marginRight:"1px"}}):(0,g.jsx)("div",{style:j,children:(0,g.jsx)("span",{style:{color:a?"white":"black"}})})}),(0,g.jsxs)(s.Z,{md:6,children:[(0,g.jsx)("h",{style:{color:"white"},children:"Instructor"}),(0,g.jsx)("br",{}),(0,g.jsx)("span",{style:{color:"white"},children:t.name})]})]}),(0,g.jsx)("br",{}),(0,g.jsxs)(n.Z,{children:[(0,g.jsx)(f.Z.Subtitle,{className:"mb-2 text-muted",style:{fontSize:"8px"},children:` ${t.id}`}),(0,g.jsx)("div",{children:t.description&&(0,g.jsxs)("p",{style:{fontSize:"14px",color:"white"},children:[" ",t.description," year(s)"]})}),(0,g.jsx)("div",{children:t.experience&&(0,g.jsxs)("p",{style:{fontSize:"12px",color:"white"},children:["Exp: ",t.experience," year(s)"]})}),(0,g.jsx)("div",{children:o.map(((e,t)=>(0,g.jsx)(k.Z,{pill:!0,bg:a?"light":"dark",style:{marginRight:"5px"},children:e.trim()},t)))}),(0,g.jsxs)("div",{children:[t.facebook&&(0,g.jsx)("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",style:{color:a?"white":"black"},children:(0,g.jsx)(u.Am9,{style:{marginRight:"1rem"}})}),t.instagram&&(0,g.jsx)("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",style:{color:a?"white":"black"},children:(0,g.jsx)(u.Zf_,{style:{marginRight:"1rem"}})}),t.twitter&&(0,g.jsx)("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",style:{color:a?"white":"black"},children:(0,g.jsx)(u.fWC,{style:{marginRight:"1rem"}})}),t.youtube&&(0,g.jsx)("a",{href:t.youtube,target:"_blank",rel:"noopener noreferrer",style:{color:a?"white":"black"},children:(0,g.jsx)(u.V2E,{style:{marginRight:"1rem"}})})]})]})]})})};var Z=r(61224),C=r(43896),v=r(83449),S=r(47283),I=r(82851),E=r(697);const R=function(){const e=(0,d.v9)(h.w),[t,r]=(0,l.useState)([]),{currentUser:a}=(0,Z.a)(),[n,s]=l.useState("1");return(0,l.useEffect)((()=>{(async()=>{let e=a&&a.uid?a.uid:null;if(!e)return console.log("User not found"),void alert("User not found");const t=(0,x.hJ)(y.db,p.Ul.INSTRUCTORS),l=(0,x.IO)(t,(0,x.ar)("createdBy","==",e)),o=await(0,x.PL)(l),n=[];o.forEach((e=>{n.push({id:e.id,...e.data()})})),r(n)})()}),[]),(0,g.jsxs)("div",{style:{backgroundColor:e?"#202020":"",color:e?"white":"black"},children:[(0,g.jsx)(E.Z,{sx:{width:"100%",typography:"body1"},children:(0,g.jsxs)(v.ZP,{value:n,children:[(0,g.jsx)(E.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,g.jsxs)(S.Z,{style:{color:e?"white":"black"},onChange:(e,t)=>{s(t)},"aria-label":"lab API tabs example",children:[(0,g.jsx)(C.Z,{style:{color:e?"white":"black"},label:"Add Instructor",value:"1"}),(0,g.jsx)(C.Z,{style:{color:e?"white":"black"},label:"Update Instructor",value:"2"})]})}),(0,g.jsx)(I.Z,{value:"1",children:(0,g.jsx)(j,{})}),(0,g.jsx)(I.Z,{value:"2",children:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(m,{instructors:t,setInstructors:r})})})]})}),(0,g.jsxs)(o.Z,{hidden:!0,defaultActiveKey:"0",style:{backgroundColor:e?"#181818":"",color:e?"white":"black"},children:[(0,g.jsxs)(o.Z.Item,{eventKey:"0",style:{backgroundColor:e?"#181818":"",color:e?"white":"black"},children:[(0,g.jsx)(o.Z.Header,{style:{backgroundColor:e?"#181818":"",color:e?"white":"black"},children:"Add Instructor"}),(0,g.jsx)(o.Z.Body,{children:(0,g.jsx)(j,{})})]}),(0,g.jsxs)(o.Z.Item,{eventKey:"1",style:{backgroundColor:e?"#181818":"",color:e?"white":"black"},children:[(0,g.jsx)(o.Z.Header,{style:{backgroundColor:e?"#181818":"",color:e?"white":"black"},children:"Update Instructor"}),(0,g.jsx)(o.Z.Body,{children:(0,g.jsx)(m,{instructors:t,setInstructors:r})})]})]}),(0,g.jsx)("br",{}),t.length>0&&(0,g.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:t.map((e=>(0,g.jsx)(w,{instructor:e},e.id)))})]})}}}]);
//# sourceMappingURL=297.7253f6c0.chunk.js.map