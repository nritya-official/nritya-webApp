"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[2352],{81018:(a,e,r)=>{r.d(e,{Z:()=>E});var o=r(72791),i=r(6429),n=r.n(i),t=r(30276),l=r(10159),s=r(59434),c=r(60717),d=r(68449),u=r(57621),h=r(13400),m=r(39504),g=r(27247),f=r(75424),p=r(83708),b=r(80184);const C=a=>{let{entityId:e,storageFolder:r,title:i,maxImageCount:C=10,updateMode:E,disable:S}=a;const y=(0,f.D)(),[N,k]=(0,o.useState)([]),[R,x]=(0,o.useState)([]),[I,D]=(0,o.useState)([]),[j,B]=(0,o.useState)([]),w=(0,s.v9)(c.w);console.log("Kyc enitity id ",e,S);const A=function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===a)return"0 Bytes";const r=e<0?0:e,o=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,o)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][o]};(0,o.useEffect)((()=>{e&&v(e)}),[e]),(0,o.useEffect)((()=>{if(C&&N.length>C){const a=N.slice(0,C);alert(`Exceeded maxImageCount, keeping first ${C} files.`),k(a)}}),[N,C]);const O=(a,e)=>{const r=a.map((a=>a.id)),o=e.map((a=>a.id));return{imagesToDelete:e.filter((a=>!r.includes(a.id))),newImages:a.filter((a=>!o.includes(a.id)))}},v=async a=>{k([]),D([]),B([]);try{const e=`${r}/${a}`;console.log(e);const o=(0,t.iH)(l.tO,e),i=await(0,t.aF)(o),n=await Promise.all(i.items.map((async a=>{const e=await(0,t.Jt)(a);return{id:a.name,filename:a.name,fileURL:e}})));x(n),k(n)}catch(e){console.error("Error fetching user images:",e)}};return(0,b.jsx)("div",{className:"fileupload-view",style:{display:"flex",width:"100%",justifyContent:"center"},children:(0,b.jsx)("div",{className:"row justify-content-center m-0",style:{flex:"1",justifyContent:"center"},children:(0,b.jsx)("div",{className:"col-md-6",style:{flex:"1",justifyContent:"center"},children:(0,b.jsx)("div",{className:"card mt-5",children:(0,b.jsx)("div",{className:"card-body",style:{backgroundColor:w?"#333333":"white"},children:(0,b.jsxs)("div",{className:"kb-data-box",children:[(0,b.jsx)("div",{className:"kb-modal-data-title",children:(0,b.jsxs)("div",{className:"kb-data-title",style:{justifyContent:"center",flex:"1"},children:[(0,b.jsx)("h4",{children:i}),(0,b.jsxs)("p",{children:["Max no of image(s):",C," ",r===p.Rb.STUDIOIMAGES&&(0,b.jsx)("p",{children:"Add at least 5 images"})]})]})}),(0,b.jsxs)("form",{style:{backgroundColor:w?"#333333":"white"},children:[(0,b.jsx)("div",{className:"kb-file-upload",children:(0,b.jsx)("div",{className:"file-upload-box",children:(0,b.jsx)("input",{type:"file",id:"fileupload",className:"file-upload-input",onChange:a=>{const e=Array.from(a.target.files),r=[];e.forEach((a=>{const o=new FileReader;o.onloadend=()=>{r.push({id:n().generate(),filename:a.name,filetype:a.type,fileimage:o.result,datetime:a.lastModifiedDate.toLocaleString("en-IN"),filesize:A(a.size),file:a}),r.length===e.length&&(k((a=>[...a,...r])),D(r))},o.readAsDataURL(a)}))},multiple:!0})})}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{className:"kb-attach-box mb-3",children:(0,b.jsx)("div",{className:"row",children:e&&N.length>0?N.map((a=>(0,b.jsx)("div",{className:"col-6 col-md-3 mb-3",style:{position:"relative"},children:(0,b.jsx)(u.Z,{sx:{maxWidth:345},children:a.filename.match(/\.(jpg|jpeg|png|gif|svg)$/i)?(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)("img",{src:a.fileimage?a.fileimage:a.fileURL,alt:a.filename,className:"card-img-top",style:{maxHeight:"150px",objectFit:"cover"}}),(0,b.jsx)(h.Z,{"aria-label":"delete",disabled:S,onClick:()=>(a=>{if(window.confirm("Are you sure you want to delete this image?")){const e=N.find((e=>e.id===a));B((a=>[...a,e])),k((e=>e.filter((e=>e.id!==a))))}})(a.id),style:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.5)"},children:(0,b.jsx)(g.Z,{style:{color:"ff0000"}})})]}):(0,b.jsx)(m.Z,{children:(0,b.jsx)("i",{className:"far fa-file-alt"})})})},a.id))):(0,b.jsx)("div",{className:"col-12 text-center",children:(0,b.jsx)("p",{children:"No images selected"})})})}),(0,b.jsx)("div",{className:"kb-buttons-box",children:(0,b.jsx)("button",{type:"button",className:"btn form-submit",style:{backgroundColor:w?"#892CDC":"black",color:"white"},onClick:async()=>{if(e)try{if(1===C)await(0,d.ih)(r,e),await(0,d.eg)(r,I,e);else{const{imagesToDelete:a,newImages:o}=O(N,R);a.length>0&&await(0,d.xR)(r,a,e),o.length>0&&await(0,d.eg)(r,o,e)}y("Images Uploaded/Deleted","success")}catch(a){console.error("Error uploading/deleting images:",a)}else alert("No studio selected")},disabled:S,children:"Image Upload"})})]}),N.length>0&&(0,b.jsx)("div",{className:"kb-attach-box",hidden:!0,children:(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("hr",{}),N.map((a=>(0,b.jsx)("div",{className:"col-6 col-md-3 mb-3",children:(0,b.jsx)("div",{className:"card",children:a.filename.match(/\.(jpg|jpeg|png|gif|svg)$/i)?(0,b.jsx)("img",{src:a.fileimage,alt:a.filename,className:"card-img-top",style:{maxHeight:"150px",objectFit:"cover"}}):(0,b.jsx)("div",{className:"card-body",children:(0,b.jsx)("i",{className:"far fa-file-alt"})})})},a.id)))]})})]})})})})})})};C.defaultProps={maxImageCount:5,updateMode:!1,disable:!1};const E=C},83708:(a,e,r)=>{r.d(e,{A3:()=>g,QP:()=>f,RY:()=>d,Rb:()=>m,Ul:()=>h,i0:()=>t,lt:()=>u,n$:()=>n,uM:()=>s,zq:()=>l});var o=r(59135),i=r(80184);const n={SUBMITTED:"Submitted",UNDER_REVIEW:"Under Review",REVIEWED:"Reviewed",VERIFIED:"Verified",VERIFICATION_FAILED:"Verification Failed"},t={DRAFT_STUDIOS:"DraftStudios",DRAFT_WORKSHOPS:"DraftWorkshops",DRAFT_OPEN_CLASSES:"DraftOpenClasses",DRAFT_COURSES:"DraftCourses"},l={ALL:"All",BEGINNERS:"Beginner",INTERMEDIATE:"Intermediate",ADVANCED:"Advanced"},s={PROD:"https://nrityaserver-2b241e0a97e5.herokuapp.com/",LOCAL:"http://127.0.0.1:8000/"},c={GREEN:{backgroundColor:"#28a745",color:"#fff"},BLUE:{backgroundColor:"#007bff",color:"#fff"},YELLOW:{backgroundColor:"#ffc107",color:"#000"},RED:{backgroundColor:"#dc3545",color:"#fff"},PURPLE:{backgroundColor:"#6f42c1",color:"#fff"},ORANGE:{backgroundColor:"#fd7e14",color:"#fff"},TEAL:{backgroundColor:"#20c997",color:"#fff"},PINK:{backgroundColor:"#e83e8c",color:"#fff"},GRAY:{backgroundColor:"#6c757d",color:"#fff"},LIGHTBLUE:{backgroundColor:"#17a2b8",color:"#fff"},DARKBLUE:{backgroundColor:"#343a40",color:"#fff"},CYAN:{backgroundColor:"#00bcd4",color:"#fff"},INDIGO:{backgroundColor:"#6610f2",color:"#fff"},LIME:{backgroundColor:"#cddc39",color:"#000"},AMBER:{backgroundColor:"#ffca28",color:"#000"},BROWN:{backgroundColor:"#795548",color:"#fff"},LIGHTGREEN:{backgroundColor:"#8bc34a",color:"#000"},DEEPPURPLE:{backgroundColor:"#673ab7",color:"#fff"},DEEPORANGE:{backgroundColor:"#ff5722",color:"#fff"},BLACK:{backgroundColor:"#000000",color:"#fff"},WHITE:{backgroundColor:"#ffffff",color:"#000"},SILVER:{backgroundColor:"#c0c0c0",color:"#000"},GOLD:{backgroundColor:"#ffd700",color:"#000"},NAVY:{backgroundColor:"#001f3f",color:"#fff"},OLIVE:{backgroundColor:"#3d9970",color:"#fff"}},d={[l.ALL]:c.GREEN,[l.BEGINNERS]:c.BLUE,[l.INTERMEDIATE]:c.YELLOW,[l.ADVANCED]:c.RED},u=[c.PURPLE,c.ORANGE,c.TEAL,c.LIME],h={USER:"User",USER_KYC:"UserKyc",ADMIN:"Admin",REVIEWS:"Reviews",TRANSACTIONS:"Transactions",STUDIO:"Studio",INSTRUCTORS:"Instructors",FREE_TRIAL_BOOKINGS:"FreeTrialBookings",WORKSHOPS:"Workshops",OPEN_CLASSES:"OpenClasses",COURSES:"Courses",BOOKINGS:"Bookings"},m={STUDIOIMAGES:"StudioImages",STUDIOICON:"StudioIcon",STUDIOANNOUNCEMENTS:"StudioAnnouncements",USERIMAGE:"UserImage",INSTRUCTORIMAGES:"InstructorImages",WORKSHOPICON:"WorkshopIcon",WORKSHOPIMAGES:"WorkshopImages",OPENCLASSICON:"OpenClassIcon",COURSEICON:"CourseIcon",CREATORS_KYC_DOCUMENTS:"CreatorKycDocuments"},g="https://nrityaserver-2b241e0a97e5.herokuapp.com/",f={AC:(0,i.jsx)(o.l51,{}),"Free Wifi":(0,i.jsx)(o._0,{}),"RO Water":(0,i.jsx)(o.EXY,{}),Toilet:(0,i.jsx)(o.Iev,{}),"Power Backup":(0,i.jsx)(o.eKD,{}),"Fire Extinguisher":(0,i.jsx)(o.Ybg,{}),"First Aid Kit":(0,i.jsx)(o.FZx,{}),"CCTV Camera":(0,i.jsx)(o.KoQ,{}),"Card Payment":(0,i.jsx)(o.ypE,{}),"Parking Space":(0,i.jsx)(o.mxg,{})}},68449:(a,e,r)=>{r.d(e,{Gz:()=>C,Km:()=>g,Ld:()=>d,Us:()=>c,Xt:()=>m,eg:()=>b,gv:()=>u,ih:()=>f,oM:()=>s,to:()=>h,xR:()=>p});var o=r(12481),i=r(10159),n=r(30276),t=r(83708),l=r(644);const s=async a=>{console.log("setCreatorMode ",a);try{const e=(0,o.JU)(i.db,t.Ul.USER,a),r=await(0,o.QT)(e);if(r.exists())if(null!=r.data()){const a=r.data().CreatorMode;console.log("setCreatorMode: Is User a creator?",a),l.Z.setItem("CreatorMode",a)}else console.log("userSnap.data() null");else console.log("User not found")}catch(e){console.log(" error")}},c=async(a,e)=>{console.log("Debug ",`${a}/${e}`);const r=`${a}/${e}`,o=(0,n.iH)(i.tO,r);try{const a=await(0,n.aF)(o);if(a.items.length>0){const e=a.items[0],r=await(0,n.Jt)(e);return console.log("Debug URL:",r),r}return console.log("Debug No files found in the folder."),null}catch(t){return console.error("Error getting image URL:",t),null}},d=async(a,e)=>{const r=(0,o.JU)(i.db,a,e),n=await(0,o.QT)(r);return n.exists()?n.data():null},u=async(a,e,r)=>{const n=(0,o.JU)(i.db,a,e);return await(0,o.pl)(n,r,{merge:!0}),r},h=async(a,e,r)=>{const n=(0,o.JU)(i.db,a,e);return await(0,o.r7)(n,{isPhoneNumberVerified:!0,phoneNumber:r}),!0},m=async(a,e,r)=>{const n=(0,o.JU)(i.db,a,e);return await(0,o.r7)(n,r),{id:e,...r}},g=async(a,e,r,n)=>{console.log("Hiii ",a,e,r,n);const t=(0,o.IO)((0,o.hJ)(i.db,a),(0,o.ar)(e,r,n));return(await(0,o.Yp)(t)).data().count},f=async(a,e)=>{const r=`${a}/${e}`,o=(0,n.iH)(i.tO,r),t=await(0,n.aF)(o);await Promise.all(t.items.map((async a=>{await(0,n.oq)(a)})))},p=async(a,e,r)=>{await Promise.all(e.map((async e=>{const o=(0,n.iH)(i.tO,`${a}/${r}/${e.filename}`);await(0,n.oq)(o)})))},b=async(a,e,r)=>{console.log(a,r),await Promise.all(e.map((async e=>{const o=`${a}/${r}`,t=(0,n.iH)(i.tO,`${o}/${e.file.name}`);await(0,n.KV)(t,e.file)})))},C=async a=>{const e=`${a}`,r=(0,n.iH)(i.tO,e);try{const a=await(0,n.aF)(r);return await Promise.all(a.items.map((async a=>{const e=await(0,n.Jt)(a);return{id:a.name,filename:a.name,fileURL:e}})))}catch(o){throw console.error("Error retrieving images:",o),o}}},82873:a=>{a.exports=JSON.parse('{"c":["Agra","Ahmedabad","Ajmer","Alappuzha","Allahabad","Ambattur","Ambernath","Amritsar","Anantapur","Arrah","Aurangabad","Avadi","Bahadurgarh","Bahraich","Ballia","Bengaluru","Baranagar","Barasat","Bareilly","Barasat","Bathinda","Begusarai","Belgaum","Bellary","Berhampur","Bettiah","Bharatpur","Bharuch","Bhilai","Bhilwara","Bhimavaram","Bhiwani","Bhopal","Bhubaneswar","Bhuj","Bhusawal","Bidar","Bihar Sharif","Bilaspur","Bilimora","Bongaigaon","Bongaigaon","Bulandshahr","Buxar","Chandannagar","Chandigarh","Chandausi","Chapra","Chennai","Chikmagalur","Chittorgarh","Coimbatore","Cuttack","Darbhanga","Dehradun","Deoghar","Dewas","Dhanbad","Dhule","Dimapur","Dindigul","Durg","Eluru","Erode","Etawah","Faridabad","Farrukhabad","Gandhinagar","Gangapur","Gaya","Giridih","Godhra","Gopalpur","Gorakhpur","Guntakal","Guntur","Gurugram","Guwahati","Haldia","Hapur","Haridwar","Hazaribagh","Hindupur","Hisar","Hosur","Howrah","Hubballi","Hyderabad","Ichalkaranji","Imphal","Indore","Jabalpur","Jaipur","Jalandhar","Jalna","Jalgaon","Jammu","Jamnagar","Jamshedpur","Jaunpur","Jhansi","Jodhpur","Junagadh","Kadapa","Kakinada","Kalyan","Kamarhati","Kanpur","Karimnagar","Karnal","Katihar","Khammam","Khanna","Kharagpur","Kochi","Kolhapur","Kolkata","Kollam","Korba","Kota","Kottayam","Kozhikode","Krishnanagar","Kulti","Kumbakonam","Lakhimpur","Latur","Lucknow","Ludhiana","Madhyamgram","Madurai","Maheshtala","Malegaon","Malerkotla","Mango","Mathura","Meerut","Mirzapur","Moradabad","Morvi","Mumbai","Muzaffarnagar","Muzaffarpur","Mysore","Nabadwip","Nagaur","Nagpur","Naihati","Nalgonda","Nanded","Nashik","Navi Mumbai","Nellore","New Delhi","Nizamabad","North Dumdum","Orai","Ozhukarai","Pali","Pallavaram","Panihati","Panipat","Panvel","Parbhani","Patiala","Patna","Pimpri-Chinchwad","Puducherry","Pune","Purnia","Purulia","Raebareli","Raichur","Raiganj","Rajahmundry","Rajkot","Rajpur Sonarpur","Rampur","Ranchi","Ratlam","Raurkela","Rewa","Rohtak","Rourkela","Sagar","Saharanpur","Salem","Sangli","Sangli-Miraj & Kupwad","Satara","Satna","Secunderabad","Serampore","Shahjahanpur","Shimla","Shimoga","Shivpuri","Sikar","Siliguri","Singrauli","South Dumdum","Srikakulam","Srinagar","Sultanpur","Surendranagar","Surat","Thane","Thiruvananthapuram","Thrissur","Tiruchirappalli","Tirunelveli","Tirupati","Tiruvottiyur","Tumkur","Udaipur","Udupi","Unnao","Vadodara","Vapi","Varanasi","Vasai-Virar","Vellore","Vijayawada","Visakhapatnam","Warangal","Yamunanagar"]}')},51650:a=>{a.exports=JSON.parse('{"W":["Kuchipudi","Swing","Irish Dance","Folk Dance","Street Dance","Breaking","Voguing","House Dance","Bachata","Ballet","Ballroom","Belly Dance","Bhangra","Bharatanatyam","Bihu","Bollywood","Bollyhop","Butoh","Capoeira","Chhau","Clogging","Contemporary","Dandiya Raas","Flamenco","Garba","Giddha","Heels","Hip Hop","Irish Step Dance","Jazz","Jive","Kathak","Kathakali","Kizomba","Krumping","Lavani","Line Dance","Locking","Lyrical Hip-Hop","Manipuri","Modern Dance","Mohiniyattam","Odissi","Polynesian Dance","Popping","Rouf","Salsa","Sattriya","Tango","Tap Dance","Vogue","Waacking","Whacking","Zumba"]}')}}]);
//# sourceMappingURL=2352.7927e675.chunk.js.map