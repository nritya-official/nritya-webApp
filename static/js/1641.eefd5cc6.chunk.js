"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[1641],{71641:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var n=s(72791),t=s(43360),r=s(30018),c=s(24849),o=s(10159),i=s(12481),l=s(61221);const d=function(e,a){var s=Date.now();return 1e3*a<=s?s+24*e*60*60*1e3:a+24*e*60*60*1e3};var m=s(59434),u=s(60717),h=s(80184);const p={0:"fa-solid fa-paper-plane",1:"fa-solid fa-rocket",2:"fa-solid fa-satellite"};const x=function(){const e=(0,m.v9)(u.w),[a,s]=(0,n.useState)([]),[x,f]=(0,n.useState)(!0),[N,y]=(0,n.useState)(!1),[j,v]=(0,n.useState)(null),[g,b]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{const e=(0,i.hJ)(o.db,"CreatorPlans");let a=[];(0,i.PL)(e).then((e=>{e.forEach((e=>{a.push(e.data())})),s(a),f(!1)})).catch((e=>{console.log("Error getting documents: ",e),f(!1)}))})()}),[]);const w=(e,a,s)=>{y(!0),(async(e,a,s)=>{const n=document.createElement("script");n.src="https://checkout.razorpay.com/v1/checkout.js",n.async=!0,document.body.appendChild(n),n.onload=()=>{const n={key:"rzp_test_KGN4elrXhQOG65",amount:100*e,currency:"INR",name:"Nritya",description:"Payment for "+a,image:l,handler:async function(n){console.log("Payment successful!",n);const t=n.razorpay_payment_id;console.log("hiiiii : ",t);const r={userId:JSON.parse(localStorage.getItem("userInfo")).UserId,razorpay_order_id:t,razorpay_amount:e,description:"Payment for "+a,currency:"INR",date:Date.now(),duration:s};console.log("trans : ",r);const c=await(0,i.ET)((0,i.hJ)(o.db,"Transactions"),r);console.log("trans",c);const l=JSON.parse(localStorage.getItem("userInfo")).UserId,m=(0,i.JU)((0,i.hJ)(o.db,"User"),l),u=(await(0,i.QT)(m)).data();u.TransactionIDs.push(c),u.isPremium=d(s,u.isPremium);const h=JSON.parse(localStorage.getItem("userDetails"));h.isPremium=u.isPremium,await(0,i.pl)(m,u),localStorage.setItem("userDetails",JSON.stringify(h)),console.log(t,n.razorpay_amount),alert("Payment successful!")}};new window.Razorpay(n).open()},n.onerror=()=>{console.log("Error loading Razorpay script.")}})(e,a,s).catch((e=>{console.log("Payment error:",e),v("Payment failed. Please try again.")})).finally((()=>{y(!1),b(!0)}))},k=()=>{v(null),b(!1)};return(0,h.jsxs)("div",{className:e?"dark-theme":"light-theme",children:[(0,h.jsx)("section",{className:"pricing-section",children:(0,h.jsxs)("div",{className:"container ".concat(e?"dark-mode":""),children:[(0,h.jsxs)("div",{className:"sec-title text-center",children:[(0,h.jsx)("span",{className:"title",children:"Get plan"}),(0,h.jsx)("h2",{children:"Choose a Plan"})]}),(0,h.jsx)("div",{className:"outer-box",children:(0,h.jsx)("div",{className:"row",children:x?(0,h.jsx)(c.Z,{animation:"border",variant:"danger"}):a.sort(((e,a)=>e.level-a.level)).map(((a,s)=>(0,h.jsx)("div",{className:"pricing-block ".concat(e?"dark-mode":""," col-lg-4 col-md-6 col-sm-12 wow fadeInUp "),"data-wow-delay":"".concat(400*s,"ms"),children:(0,h.jsxs)("div",{className:"inner-box",children:[(0,h.jsx)("div",{className:"icon-box",children:(0,h.jsx)("div",{className:"icon-outer",children:(0,h.jsx)("i",{className:"".concat(p[s])})})}),(0,h.jsxs)("div",{className:"price-box",children:[(0,h.jsx)("div",{className:"title",children:a.title}),(0,h.jsxs)("h4",{className:"price",children:["\u20b9 ",a.money]})]}),(0,h.jsxs)("ul",{className:"features",children:[(0,h.jsx)("li",{className:a.studioVisibility?"true":"false",children:"Studio Visibility"}),(0,h.jsxs)("li",{className:a.duration?"true":"false",children:["Plan for ",a.duration?a.duration:""," days"]}),(0,h.jsxs)("li",{className:a["workShops-pm"]?"true":"false",children:[" ",a["workShops-pm"]?a["workShops-pm"]:""," workshops monthly"]}),(0,h.jsx)("li",{className:a.dedicatedSupport?"true":"false",children:" Dedicated Support"})]}),(0,h.jsx)("div",{className:"btn-box",children:a.netPrice>0?(0,h.jsx)(t.Z,{variant:"danger",onClick:()=>w(a.netPrice,a.title,a.duration),children:"Buy plan"}):(0,h.jsx)(t.Z,{variant:"danger",onClick:()=>{return e=a.duration,void console.log(e);var e},children:"Try plan"})})]})},s)))})})]})}),N&&(0,h.jsxs)(r.Z,{variant:"info",className:"toast-alert",children:[(0,h.jsx)(c.Z,{animation:"border",size:"sm",className:"mr-2"})," Processing payment...",(0,h.jsx)("button",{type:"button",className:"close",onClick:k,children:(0,h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),g&&(0,h.jsxs)(r.Z,{variant:"success",className:"toast-alert",children:["Payment successful!",(0,h.jsx)("button",{type:"button",className:"close",onClick:k,children:(0,h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),j&&(0,h.jsxs)(r.Z,{variant:"danger",className:"toast-alert",children:[j,(0,h.jsx)("button",{type:"button",className:"close",onClick:k,children:(0,h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]})}},30018:(e,a,s)=>{s.d(a,{Z:()=>v});var n=s(41418),t=s.n(n),r=s(72791),c=s(80239),o=s(39007),i=s(10162),l=s(27472),d=s(80184);const m=(0,l.Z)("h4");m.displayName="DivStyledAsH4";const u=r.forwardRef(((e,a)=>{let{className:s,bsPrefix:n,as:r=m,...c}=e;return n=(0,i.vE)(n,"alert-heading"),(0,d.jsx)(r,{ref:a,className:t()(s,n),...c})}));u.displayName="AlertHeading";const h=u;var p=s(16445);const x=r.forwardRef(((e,a)=>{let{className:s,bsPrefix:n,as:r=p.Z,...c}=e;return n=(0,i.vE)(n,"alert-link"),(0,d.jsx)(r,{ref:a,className:t()(s,n),...c})}));x.displayName="AlertLink";const f=x;var N=s(72709),y=s(80473);const j=r.forwardRef(((e,a)=>{const{bsPrefix:s,show:n=!0,closeLabel:r="Close alert",closeVariant:l,className:m,children:u,variant:h="primary",onClose:p,dismissible:x,transition:f=N.Z,...j}=(0,c.Ch)(e,{show:"onClose"}),v=(0,i.vE)(s,"alert"),g=(0,o.Z)((e=>{p&&p(!1,e)})),b=!0===f?N.Z:f,w=(0,d.jsxs)("div",{role:"alert",...b?void 0:j,ref:a,className:t()(m,v,h&&"".concat(v,"-").concat(h),x&&"".concat(v,"-dismissible")),children:[x&&(0,d.jsx)(y.Z,{onClick:g,"aria-label":r,variant:l}),u]});return b?(0,d.jsx)(b,{unmountOnExit:!0,...j,ref:void 0,in:n,children:w}):n?w:null}));j.displayName="Alert";const v=Object.assign(j,{Link:f,Heading:h})},24849:(e,a,s)=>{s.d(a,{Z:()=>l});var n=s(41418),t=s.n(n),r=s(72791),c=s(10162),o=s(80184);const i=r.forwardRef(((e,a)=>{let{bsPrefix:s,variant:n,animation:r="border",size:i,as:l="div",className:d,...m}=e;s=(0,c.vE)(s,"spinner");const u="".concat(s,"-").concat(r);return(0,o.jsx)(l,{ref:a,...m,className:t()(d,u,i&&"".concat(u,"-").concat(i),n&&"text-".concat(n))})}));i.displayName="Spinner";const l=i},61221:(e,a,s)=>{e.exports=s.p+"static/media/logo.aacdd5500f6cc7277585.png"}}]);
//# sourceMappingURL=1641.eefd5cc6.chunk.js.map