"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[3042],{26953:(e,t,l)=>{l.d(t,{Z:()=>o});l(72791);var r=l(21204),a=l(80184);const o=e=>{let{studio:t}=e;return(0,a.jsx)("a",{href:"#/studio/".concat(t.id),children:(0,a.jsx)(r.Z,{data:t,img_src:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg"})})}},21204:(e,t,l)=>{l.d(t,{Z:()=>j});l(72791);var r=l(92552),a=l(84654),o=l(28658),s=l(69597),n=l(43782),i=l(94294),d=l(18625),c=l(83168),u=l(36314),m=l(59434),h=l(60717),x=l(83708),g=l(97310),b=l(17237),p=l(80184);function j(e){let{img_src:t,data:l}=e;const j=(0,m.v9)(h.w),y=l.id?l.id:l.studioId,v={backgroundColor:j?"#444":"white",padding:"0px",color:j?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,p.jsxs)(a.Z,{variant:"solid",sx:{...v,"&:hover":{transform:"scale(1.01)"}},children:[(0,p.jsxs)(r.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,p.jsx)("img",{src:l&&l.iconUrl?l.iconUrl:x.Hi,loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",height:"auto",overflow:"hidden"}}),(0,p.jsx)(u.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:l&&l.danceStyles&&"string"===typeof l.danceStyles?l.danceStyles.split(",").slice(0,3).map(((e,t)=>(0,p.jsx)(s.Z,{color:t%2===0?"danger":"success",sx:{marginBottom:"10px",fontSize:"0.8rem",bgcolor:x.lt[t].backgroundColor,color:x.lt[t].color},children:e.trim()},t))):(0,p.jsx)(s.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)}),(0,p.jsx)(u.Z,{direction:"row",spacing:2,style:{position:"absolute",top:0,left:0,padding:"1px",paddingTop:"1px"},children:"true"===l.freeTrialAvailable||!0===l.freeTrialAvailable&&(0,p.jsx)(s.Z,{sx:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem",bgcolor:x.DM.LIME.backgroundColor,color:x.DM.LIME.color},children:"Free Trial Available"},1)})]}),(0,p.jsxs)(o.Z,{style:{padding:"10px"},children:[(0,p.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",columnGap:1,children:[(0,p.jsx)(d.Z,{alignSelf:"center",href:"#/studio/".concat(y),fontWeight:"bold",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",style:{color:j?"white":"black"},children:l&&l.studioName?l.studioName:"    "}),l&&l.avgRating&&l.avgRating>0?(0,p.jsxs)(c.ZP,{width:52,flexShrink:0,alignSelf:"center",style:{color:j?"white":"black"},children:["\u2b50 ",l.avgRating.toFixed(1)]}):null]}),(0,p.jsx)(c.ZP,{style:{color:j?"white":"black"},level:"body-xs",children:l.street?l.street:".  "}),(0,p.jsx)(g.ZP,{hidden:!0,"aria-label":"Like minimal photography",size:"md",variant:"solid",color:"danger",sx:{position:"absolute",zIndex:2,borderRadius:"50%",right:"1rem",bottom:"2rem",transform:"translateY(50%)"},children:(0,p.jsx)(b.Z,{})}),(0,p.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",children:[(0,p.jsx)(c.ZP,{alignSelf:"center",fontSize:12,style:{color:j?"white":"black"},children:l&&l.minFee&&l.minFee>=0&&"@ \u20b9".concat(l.minFee," onwards")}),(0,p.jsx)(i.Z,{size:"small",variant:"contained",sx:{alignSelf:"center",color:"white",backgroundColor:"#735EAB","&:hover":{backgroundColor:"#735EAB",color:"white"},"&.Mui-disabled":{backgroundColor:j?"rgba(115, 94, 171, 0.5)":"rgba(115, 94, 171, 0.3)",color:"rgba(255, 255, 255, 0.5)"}},type:"button",children:"Explore"})]})]})]})}},63042:(e,t,l)=>{l.r(t),l.d(t,{default:()=>he});var r=l(72791),a=l(89743),o=l(2677),s=l(10159),n=l(12481),i=l(83708),d=l(95313),c=l(94294),u=l(57482),m=l(62591),h=l(43360),x=l(56355),g=l(95316),b=l(80184);const p=e=>{var t;let{show:l,handleClose:r,handleSelect:s,defaultTime:n}=e;const i=n.split("-")[0].trim(),c=null===(t=n.split("-")[1])||void 0===t?void 0:t.trim(),u=e=>{console.log(e);const t=(()=>{const e=[];let t=[],l=[];for(let r=0;r<24;r++)for(let e=0;e<60;e+=15){const a=r.toString().padStart(2,"0"),o=e.toString().padStart(2,"0"),s="".concat(a,":").concat(o);if(r<12)t.push("".concat(s," AM"));else{const e=(r-12).toString().padStart(2,"0");l.push("".concat(e,":").concat(o," PM"))}}for(let r=0;r<t.length||r<l.length;r++)r<t.length&&e.push(t[r]),r<l.length&&e.push(l[r]);return e})();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:e,children:e}),t.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})};return(0,b.jsxs)(g.Z,{show:l,onHide:r,children:[(0,b.jsx)(g.Z.Header,{closeButton:!0,children:(0,b.jsx)(g.Z.Title,{children:"Select Time"})}),(0,b.jsx)(g.Z.Body,{children:(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(o.Z,{children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"Start Time"}),(0,b.jsx)(d.Z.Control,{as:"select",onChange:e=>s(e.target.value,null),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:u(i)})]})}),(0,b.jsx)(o.Z,{children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"End Time"}),(0,b.jsx)(d.Z.Control,{as:"select",onChange:e=>s(null,e.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:u(c)})]})})]})}),(0,b.jsx)(g.Z.Footer,{children:(0,b.jsx)(h.Z,{onClick:r,children:"Save"})})]})};var j=l(51650),y=l(5712),v=l(93006),f=l(14481);l(31896),l(36682);const S={M:"Mon",T:"Tues",W:"Wed",Th:"Thurs",F:"Fri",St:"Sat",Sn:"Sun"},k=e=>{const t=e.map((e=>S[e]||e));return[...new Set(t)]},C=["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],Z={Kids:"Kids",Adults:"Adults",Women_Only:"Women Only",Men_Only:"Men Only",Seniors:"Seniors",All:"All Ages, Open to All",Couples:"Couples",Families:"Families"};const w=function(e){let{tableData:t=[],setTableData:l,instructorNamesWithIds:a}=e;const[o,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),g=j.W,[S,w]=(0,r.useState)("12:00 PM - 01:00 PM"),N=(e,r,a)=>{l((l=>{"days"===r&&(a=Array.isArray(a)?a.join(","):a),console.log(t);const o=[...l];return o[e][r]=a,o}))},I=()=>{s(!1),i(null)},A=(e,t)=>{l((l=>{const r=[...l];if(null!==n&&r[n]){const l=r[n].time;if(void 0!==l){const[a,o]=l.split(" - ");null!==e&&(r[n].time="".concat(e," - ").concat(o)),null!==t&&(r[n].time="".concat(a," - ").concat(t))}}return r})),u(n)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(m.Z,{bordered:!0,variant:"light",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{style:{border:"1px solid black"},children:[(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Name"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Dance Form"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Days"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Time"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"20rem",border:"1px solid black"},children:"Instructors"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Fee (\u20b9)"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Level"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Free Trial"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Category"}),(0,b.jsx)("th",{style:{padding:"0rem"},children:(0,b.jsx)(h.Z,{variant:"primary",onClick:()=>{l((e=>[...e,{className:"",danceForms:"",days:"",time:"12:00 PM - 01:00 PM",instructors:[],fee:"",level:"",status:"",freeTrial:!1,classCategory:[]}]))},children:(0,b.jsx)(x.wEH,{})})})]})}),(0,b.jsx)("tbody",{style:{border:"1px solid black"},children:t.map(((e,r)=>{var u,m,j,S,O;return(0,b.jsxs)("tr",{className:c===r?"selected-row":"",children:[(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},type:"text",value:e.className,onChange:e=>N(r,"className",e.target.value)})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.danceForms,onChange:e=>N(r,"danceForms",e.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select a dance form"}),g.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})}),(0,b.jsx)("td",{style:{padding:"0rem",minWidth:"15rem",border:"1px solid black"},className:"m-0 p-0",children:(0,b.jsx)(f.N,{value:e.days&&k(null===e||void 0===e||null===(u=e.days)||void 0===u||null===(m=u.split)||void 0===m||null===(j=m.call(u,","))||void 0===j||null===(S=j.filter)||void 0===S?void 0:S.call(j,(e=>""!==e))),onChange:e=>N(r,"days",e.target.value),options:C,placeholder:"class days",maxSelectedLabels:7,className:"w-full md:w-20rem"})}),(0,b.jsxs)("td",{style:{padding:"0rem",border:"1px solid black"},children:[(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white"},type:"text",value:e.time,onClick:()=>((e,t)=>{w(t),i(e),s(!0)})(r,e.time)}),o&&(0,b.jsx)(p,{show:o,handleClose:I,handleSelect:A,defaultTime:(null===(O=t[n])||void 0===O?void 0:O.time)||"00:00-00:00"})]}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,id:"tags-standard",options:a,value:e.instructors,onChange:(e,t)=>N(r,"instructors",t),renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Instructors"})})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white"},type:"number",value:e.fee,onChange:e=>N(r,"fee",e.target.value)})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.level,onChange:e=>N(r,"level",e.target.value),children:["     ",(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,b.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,b.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,b.jsx)("option",{value:"Misc",children:"Misc"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.freeTrial,onChange:e=>N(r,"freeTrial",e.target.value),children:["     ",(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:!0,children:"Yes"}),(0,b.jsx)("option",{value:!1,children:"No"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:Array.isArray(e.classCategory)&&e.classCategory.length>0?e.classCategory[0]:"",onChange:e=>N(r,"classCategory",[e.target.value]),children:[(0,b.jsx)("option",{value:"",children:"Select Class Category"}),Object.values(Z).map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(h.Z,{variant:"danger",onClick:()=>(e=>{t.length-1!==0&&l((t=>{const l=[...t];return l.splice(e,1),l}))})(r),children:(0,b.jsx)(x.iFH,{})})})]},r)}))})]})})};var N=l(81018),I=l(21565),A=l(59434),O=l(60717),T=l(82873),F=l(65202),L=l(61979),D=l(44507),E=l(4708),P=l(63875),M=l(74512),U=l(15825),q=l(57689);const H=e=>{var t,l,r;let{StudioId:a}=e;const o=(0,q.s0)(),s=(0,A.v9)(O.w),n=document.getElementById("addStudioForm"),i=null===n||void 0===n||null===(t=n.studioName)||void 0===t?void 0:t.value,d=null===n||void 0===n||null===(l=n.street)||void 0===l?void 0:l.value,u=null===n||void 0===n||null===(r=n.city)||void 0===r?void 0:r.value;return(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("div",{className:"row justify-content-center",children:(0,b.jsxs)("div",{className:"col-md-12",children:[" ",(0,b.jsxs)("div",{className:"_success message-box",children:[(0,b.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),(0,b.jsxs)("h4",{style:{textTransform:"none",marginTop:"1rem",color:s?"white":"black"},children:["Your studio ",i," (Studio ID: ",a,"), located at ",d," in ",u," has been registered successfully \ud83c\udf89"]}),(0,b.jsx)(c.Z,{sx:{mt:1,px:3,color:"white",bgcolor:"#735EAB",textTransform:"none","&:hover":{bgcolor:"#735EAB"},"&:active":{bgcolor:"#735EAB"}},variant:"text",onClick:()=>{o("/studio/".concat(a))},children:"Check Now"})]})]})}),(0,b.jsx)("hr",{}),(0,b.jsx)("style",{jsx:!0,children:"\n        ._success {\n          padding: 45px;\n          width: 100%;\n          text-align: center;\n          margin: 30px auto;\n        }\n\n        ._success i {\n          font-size: 55px;\n          color: #28a745;\n        }\n\n        ._success h2 {\n          margin-bottom: 12px;\n          font-size: 30px;\n          font-weight: 300;\n          line-height: 1.2;\n          margin-top: 10px;\n        }\n\n        ._success p {\n          margin-bottom: 0px;\n          font-size: 18px;\n          color: #495057;\n          font-weight: 100;\n        }\n      "})]})};var W=l(18406),J=l(763);const B=JSON.parse('["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]');var R=l(16029);const _=e=>{let{isOn:t,handleToggle:l}=e;const r=(0,A.v9)(O.w);return(0,b.jsx)(R.Z,{onClick:l,style:{width:"40px",height:"20px",borderRadius:"10px",backgroundColor:t?"#f44336":r?"#555":"#ccc",display:"flex",alignItems:"center",justifyContent:t?"flex-end":"flex-start",padding:"2px",cursor:"pointer",transition:"background-color 0.3s"},children:(0,b.jsx)(R.Z,{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"#fff",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",transition:"transform 0.3s"}})})},V=e=>{const t=(()=>{let e=[],t=[];for(let l=0;l<24;l++)for(let r=0;r<60;r+=15){const a=l.toString().padStart(2,"0"),o=r.toString().padStart(2,"0"),s="".concat(a,":").concat(o);if(l<12)e.push("".concat(s," AM"));else{const e=(12===l?12:l-12).toString().padStart(2,"0");t.push("".concat(e,":").concat(o," PM"))}}return[...e,...t]})();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:e,children:e}),t.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})},z=e=>{let{timings:t,setTimings:l}=e;const r=(0,A.v9)(O.w),s=(e,r,a,o)=>{const s=[...t[e]];s[r][a]=o,l({...t,[e]:s})},n=e=>1===t[e].length&&"Closed"===t[e][0].open;return(0,b.jsx)(a.Z,{className:"gy-3",children:B.map((e=>(0,b.jsxs)(o.Z,{xs:12,sm:6,md:4,lg:3,children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsx)("span",{style:{fontWeight:"bold"},children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,b.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,b.jsx)("span",{style:{fontSize:"0.8rem",color:r?"#aaa":"#666"},children:n(e)?"Closed":"Open"}),(0,b.jsx)(_,{isOn:n(e),handleToggle:()=>(e=>{const r=1===t[e].length&&"Closed"===t[e][0].open;l(r?{...t,[e]:[{open:"09:00 AM",close:"06:00 PM"}]}:{...t,[e]:[{open:"Closed",close:"Closed"}]})})(e)})]})]}),n(e)?(0,b.jsx)("div",{className:"text-muted mb-3",children:"Studio is closed on this day"}):t[e].map(((n,i)=>(0,b.jsxs)(a.Z,{className:"mb-2 align-items-center",children:[(0,b.jsx)(o.Z,{xs:5,children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"Start Time"}),(0,b.jsx)(d.Z.Control,{as:"select",value:n.open,onChange:t=>s(e,i,"open",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px",color:r?"white":"#333333",backgroundColor:r?"#333333":"white"},children:V(n.open)})]})}),(0,b.jsx)(o.Z,{xs:5,children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"End Time"}),(0,b.jsx)(d.Z.Control,{as:"select",value:n.close,onChange:t=>s(e,i,"close",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px",color:r?"white":"#333333",backgroundColor:r?"#333333":"white"},children:V(n.close)})]})}),(0,b.jsx)(o.Z,{xs:2,children:(0,b.jsx)(h.Z,{variant:"danger",size:"sm",onClick:()=>((e,r)=>{const a=[...t[e]];a.length>1&&(a.splice(r,1),l({...t,[e]:a}))})(e,i),className:"mt-4",children:"-"})})]},i))),!n(e)&&(0,b.jsx)(c.Z,{variant:"contained",onClick:()=>(e=>{const r=[...t[e],{open:"09:00 AM",close:"06:00 PM"}];l({...t,[e]:r})})(e),sx:{color:r?"black":"white",bgcolor:r?"white":"black","&:hover":{bgcolor:r?"white":"black"}},children:"Add Time Slot"})]},e)))})};var G=l(75424);const Y=e=>{const t=(new TextEncoder).encode(e);return String.fromCharCode(...t)},K={tuesday:[{open:"09:00 AM",close:"06:00 PM"}],wednesday:[{open:"09:00 AM",close:"06:00 PM"}],thursday:[{open:"09:00 AM",close:"06:00 PM"}],friday:[{open:"09:00 AM",close:"06:00 PM"}],saturday:[{open:"09:00 AM",close:"06:00 PM"}],sunday:[{open:"09:00 AM",close:"06:00 PM"}],monday:[{open:"09:00 AM",close:"06:00 PM"}]};const Q=function(e){let{instructors:t}=e;const l=(0,r.useRef)(null),m=(0,r.useRef)(null),h=(0,r.useRef)(null),x=(0,r.useRef)(null),g=(0,r.useRef)(null),p=(0,G.D)(),[f,S]=(0,r.useState)(""),[k,C]=(0,r.useState)([{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",status:"",freeTrial:!1,classCategory:[]}]),[Z,q]=(0,r.useState)(null),B=(0,A.v9)(O.w),[R,_]=(0,r.useState)([]),[V,Q]=(0,r.useState)([]),[X,$]=(0,r.useState)([]),ee=t.map((e=>"".concat(e.name," - ").concat(e.id))),[te,le]=(0,r.useState)(!1),[re,ae]=(0,r.useState)(!1),[oe,se]=(0,r.useState)(K),ne=T.c,ie=F.$,de=j.W,ce=Object.keys(i.QP).map(String),[ue,me]=(0,r.useState)(0),[he,xe]=(0,r.useState)(""),ge=()=>{const e=document.getElementById("addStudioForm");return e.studioName.value?e.aboutStudio.value?e.founderName.value?e.aboutFounder.value?e.mobileNumber.value?e.whatsappNumber.value?e.numberOfHalls.value?e.maximumOccupancy.value?V.length?void 0:"At least one dance style must be selected":"Maximum occupancy is required":"Number of halls is required":"WhatsApp number is required":"Mobile number is required":"About Founder is required":"Founder name is required":"About Studio is required":"Studio name is required"},be=()=>{if(!Object.values(oe).every((e=>e.length>0)))return"All timing slots must be filled";if(!k.length)return"At least one class entry is required";for(const n of k){var e,t,l,r,a,o,s;if(null===(e=n.className)||void 0===e||!e.trim())return"Class name is required";if(null===(t=n.danceForms)||void 0===t||!t.trim())return"Dance forms are required";if(null===(l=n.days)||void 0===l||!l.trim())return"Days are required";if(null===(r=n.time)||void 0===r||!r.trim())return"Time is required";if(null===(a=n.fee)||void 0===a||!a.trim())return"Fee is required";if(null===(o=n.level)||void 0===o||!o.trim())return"Level is required";if(!n.instructors.length)return"At least one instructor is required";if(!n.classCategory.length||null===(s=n.classCategory[0])||void 0===s||!s.trim())return"Class category is required"}},pe=()=>{const e=document.getElementById("addStudioForm");return e.buildingName.value?e.street.value?e.city.value?e.pincode.value?e.state.value?he?Z?void 0:"Location selection is required":"Address is required":"State is required":"Pincode is required":"City is required":"Street is required":"Building name is required"},je=()=>{let e="";if(0===ue&&(e=ge()),1===ue&&(e=be()),2===ue&&(e=pe()),3===ue&&(e=(()=>{var e;if(null===(e=h.current)||void 0===e||!e.isValid())return"Please upload studio logo before proceeding"})()),4===ue&&(e=(()=>{var e,t;return null!==(e=x.current)&&void 0!==e&&e.isValid()?null!==(t=g.current)&&void 0!==t&&t.isValid()?void 0:"Please upload studio anouncement images before proceeding":"Please upload studio images before proceeding"})()),e)return p(e,"error");me((e=>e+1))},ye=()=>{me((e=>e-1))},ve=(0,L.Z)({palette:{mode:B?"dark":"light"}}),fe=async()=>{const e=document.getElementById("addStudioForm");try{const t=(0,n.IO)((0,n.hJ)(s.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),r=await(0,n.PL)(t);if(!r.empty){let t=[];r.forEach((e=>{t.push({id:e.id,...e.data()})}));let a=t[0];const o=(0,n.JU)(s.db,i.i0.DRAFT_STUDIOS,a.id),d=k.reduce(((e,t,l)=>(e[l]=t,e)),{}),c={studioName:e.studioName.value,aboutStudio:e.aboutStudio.value,founderName:e.founderName.value,aboutFounder:e.aboutFounder.value,mobileNumber:e.mobileNumber.value,whatsappNumber:e.whatsappNumber.value,mailAddress:e.mailAddress.value,danceStyles:V.join(","),numberOfHalls:e.numberOfHalls.value,maximumOccupancy:e.maximumOccupancy.value,instructorsNames:R,status:"OPEN",tableData:d,buildingName:e.buildingName.value,street:e.street.value,city:e.city.value,landmark:e.landmark.value,pincode:e.pincode.value,state:e.state.value,country:"India",mapAddress:he||"",geolocation:Z,gstNumber:e.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:!0,addAmenities:X.join(","),enrollmentProcess:Y(e.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:e.instagram.value,facebook:e.facebook.value,youtube:e.youtube.value,twitter:e.twitter.value,visibilty:1,timings:oe};(0,J.isEqual)(l.current,c)?p("No changes detected to save.","info"):(await(0,n.r7)(o,c),l.current=c,p("Draft saved successfully!","success"))}}catch(t){console.error("Error saving draft: ",t)}};return(0,r.useEffect)((()=>{!async function(){const e=document.getElementById("addStudioForm");try{const t=(0,n.IO)((0,n.hJ)(s.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),l=await(0,n.PL)(t);if(l.empty)await(0,n.ET)((0,n.hJ)(s.db,i.i0.DRAFT_STUDIOS),{studioName:e.studioName.value,aboutStudio:e.aboutStudio.value,founderName:e.founderName.value,aboutFounder:e.aboutFounder.value,mobileNumber:e.mobileNumber.value,whatsappNumber:e.whatsappNumber.value,mailAddress:e.mailAddress.value,danceStyles:V.join(","),numberOfHalls:e.numberOfHalls.value,maximumOccupancy:e.maximumOccupancy.value,instructorsNames:R,status:"OPEN",tableData:{0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",freeTrial:!1,classCategory:[]}},buildingName:e.buildingName.value,street:e.street.value,city:e.city.value,landmark:e.landmark.value,pincode:e.pincode.value,state:e.state.value,country:"India",mapAddress:he||"",geolocation:Z,gstNumber:e.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:!0,addAmenities:X.join(","),enrollmentProcess:Y(e.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:e.instagram.value,facebook:e.facebook.value,youtube:e.youtube.value,twitter:e.twitter.value,visibilty:1,timings:oe});else{let t=[];l.forEach((e=>{t.push({id:e.id,...e.data()})}));let r=t[0];e.studioName.value=r.studioName,e.aboutStudio.value=r.aboutStudio,e.founderName.value=r.founderName,e.aboutFounder.value=r.aboutFounder,e.mobileNumber.value=r.mobileNumber,e.whatsappNumber.value=r.whatsappNumber,e.mailAddress.value=r.mailAddress,Q(r.danceStyles.length?r.danceStyles.split(","):[]),e.numberOfHalls.value=r.numberOfHalls,e.maximumOccupancy.value=r.maximumOccupancy,_(r.instructorsNames),e.buildingName.value=r.buildingName,e.street.value=r.street,e.city.value=r.city,e.landmark.value=r.landmark,e.pincode.value=r.pincode,e.state.value=r.state,xe(r.mapAddress||""),q(r.geolocation),e.gstNumber.value=r.gstNumber,C(Object.values(r.tableData)),$(r.addAmenities.length?r.addAmenities.split(","):[]),e.enrollmentProcess.value=(e=>{const t=e.split("").map((e=>e.charCodeAt(0)));return(new TextDecoder).decode(new Uint8Array(t))})(r.enrollmentProcess),e.instagram.value=r.instagram,e.facebook.value=r.facebook,e.youtube.value=r.youtube,e.twitter.value=r.twitter,null!==r&&void 0!==r&&r.timings&&se(r.timings)}le(!0)}catch(t){console.error(t)}}()}),[]),(0,r.useEffect)((()=>{m.current=null;let e=null;return te&&async function(){const t=document.getElementById("addStudioForm");try{const l=(0,n.IO)((0,n.hJ)(s.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),r=await(0,n.PL)(l);if(!r.empty){let l=[];r.forEach((e=>{l.push({id:e.id,...e.data()})}));let a=l[0];const o=(0,n.JU)(s.db,i.i0.DRAFT_STUDIOS,a.id);m.current=setInterval((async()=>{try{const r=k.reduce(((e,t,l)=>(e[l]=t,e)),{}),a={studioName:t.studioName.value,aboutStudio:t.aboutStudio.value,founderName:t.founderName.value,aboutFounder:t.aboutFounder.value,mobileNumber:t.mobileNumber.value,whatsappNumber:t.whatsappNumber.value,mailAddress:t.mailAddress.value,danceStyles:V.join(","),numberOfHalls:t.numberOfHalls.value,maximumOccupancy:t.maximumOccupancy.value,instructorsNames:R,status:"OPEN",tableData:r,buildingName:t.buildingName.value,street:t.street.value,city:t.city.value,landmark:t.landmark.value,pincode:t.pincode.value,state:t.state.value,country:"India",mapAddress:he||"",geolocation:Z,gstNumber:t.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:!0,addAmenities:X.join(","),enrollmentProcess:Y(t.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:t.instagram.value,facebook:t.facebook.value,youtube:t.youtube.value,twitter:t.twitter.value,visibilty:1,timings:oe};if(!(0,J.isEqual)(e,a))try{await(0,n.r7)(o,a),e=a}catch(l){console.error(l)}}catch(l){console.error(l)}}),1e4)}}catch(l){console.error(l)}}(),()=>clearInterval(m.current)}),[te,V,R,k,he,Z,X]),(0,b.jsxs)("div",{children:[(0,b.jsx)(P.Z,{activeStep:ue,alternativeLabel:!0,children:["Basic Studio & Owner details","Instructors, Classes & Social Media","Address & Registration","Studio Icon","Studio & Class Images"].map((e=>(0,b.jsx)(M.Z,{children:(0,b.jsx)(U.Z,{children:(0,b.jsx)("p",{style:{color:B?"white":"black"},children:e})})},e)))}),(0,b.jsxs)("div",{hidden:ue>2,children:[(0,b.jsx)(d.Z,{id:"addStudioForm",onSubmit:async e=>{if(e.preventDefault(),ue<3){const e=[ge(),be(),pe()].filter(Boolean).join(", ");if(e)return p(e,"error")}if(!e.target.studioName.value)return;const t=k.reduce(((e,t,l)=>(e[l]=t,e)),{});try{var l;const r=null===(l=JSON.parse(localStorage.getItem("userInfo")))||void 0===l?void 0:l.email,a={studioName:e.target.studioName.value,aboutStudio:e.target.aboutStudio.value,founderName:e.target.founderName.value,aboutFounder:e.target.aboutFounder.value,mobileNumber:e.target.mobileNumber.value,whatsappNumber:e.target.whatsappNumber.value,mailAddress:e.target.mailAddress.value,danceStyles:V.join(","),numberOfHalls:e.target.numberOfHalls.value,maximumOccupancy:e.target.maximumOccupancy.value,instructorsNames:R,status:"OPEN",tableData:t,buildingName:e.target.buildingName.value,street:e.target.street.value,city:e.target.city.value,landmark:e.target.landmark.value,pincode:e.target.pincode.value,state:e.target.state.value,country:"India",mapAddress:he,geolocation:Z,gstNumber:e.target.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:true,addAmenities:X.join(","),enrollmentProcess:Y(e.target.enrollmentProcess.value),creatorEmail:r,instagram:e.target.instagram.value,facebook:e.target.facebook.value,youtube:e.target.youtube.value,twitter:e.target.twitter.value,visibilty:1,timings:oe};ae(!0);const o=r,d={entity_name:a.studioName,city:a.city},c=await(0,W.qC)(a,i.Ul.STUDIO,o,d);if(c.ok){m.current&&clearInterval(m.current);const e=await c.json();S(e.id),(async()=>{try{const e=(0,n.IO)((0,n.hJ)(s.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),t=await(0,n.PL)(e);if(!t.empty){let e=[];t.forEach((t=>{e.push({id:t.id,...t.data()})}));let l=e[0];const r=(0,n.JU)(s.db,i.i0.DRAFT_STUDIOS,l.id);await(0,n.oe)(r)}}catch(e){console.error(e)}})(),je()}}catch(r){console.error("Error adding studio: ",r)}finally{ae(!1)}},style:{backgroundColor:B?"#202020":"",color:B?"white":"black"},children:(0,b.jsxs)(d.Z.Group,{controlId:"formBasicAdd",children:[(0,b.jsxs)("div",{hidden:0!==ue,children:[(0,b.jsx)("h3",{style:{backgroundColor:B?"#202020":"",color:B?"white":"black"},children:"Basic Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Studio Name *"}),(0,b.jsx)(d.Z.Control,{rows:1,style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"studioName"}),(0,b.jsx)(d.Z.Label,{children:"About Studio *"}),(0,b.jsx)(d.Z.Control,{rows:6,style:{minHeight:"10rem",backgroundColor:B?"#333333":"",color:B?"white":"black"},as:"textarea",placeholder:"Enter studio's details",name:"aboutStudio"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Founder's Name *"}),(0,b.jsx)(d.Z.Control,{rows:1,style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},type:"textarea",placeholder:"Enter founder name",name:"founderName"}),(0,b.jsx)(d.Z.Label,{children:"About Founder *"}),(0,b.jsx)(d.Z.Control,{rows:6,style:{minheight:"10rem",backgroundColor:B?"#333333":"",color:B?"white":"black"},as:"textarea",placeholder:"Enter founder's details",name:"aboutFounder"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:B?"#202020":"",color:B?"white":"black"},children:"Contact Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mobile Number *"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},rows:1,placeholder:"Enter mobile number",name:"mobileNumber",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"WhatsApp Number *"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},rows:1,placeholder:"Enter whatsapp number",name:"whatsappNumber",type:"number"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mail Address"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},type:"email",rows:1,placeholder:"Enter mail address",name:"mailAddress"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:B?"#202020":"",color:B?"white":"black"},children:"Studio Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Dance Styles *"}),(0,b.jsxs)(D.Z,{theme:ve,children:[(0,b.jsx)(E.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},multiple:!0,id:"tags-standard",options:de,value:V,onChange:(e,t)=>{Q(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:B?"#333333":"",color:B?"white":"black"}})})]}),(0,b.jsx)(d.Z.Label,{children:"Number of Hall(s) *"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},rows:1,placeholder:"Number of Hall(s)",name:"numberOfHalls",type:"number"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Maximum Occupancy *"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},rows:1,placeholder:"Maximum Occupancy",name:"maximumOccupancy",type:"number"})]})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(o.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},disabled:!0,children:"Prev"})}),(0,b.jsxs)(o.Z,{xs:6,className:"d-flex justify-content-end gap-3",children:[(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:fe,children:"Save to Draft"}),(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:()=>je(),children:"Next"})]})]})]}),(0,b.jsxs)("div",{hidden:1!==ue,children:[(0,b.jsx)("h3",{style:{backgroundColor:B?"#202020":"",color:B?"white":"black"},children:"Instructor Details"}),(0,b.jsx)(d.Z.Label,{children:"Names of Instructors"}),(0,b.jsx)(a.Z,{children:(0,b.jsxs)(D.Z,{theme:ve,children:[(0,b.jsx)(E.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},multiple:!0,id:"tags-standard",options:ee,value:R,onChange:(e,t)=>{_(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Instructors",style:{backgroundColor:B?"#333333":"",color:B?"white":"black"}})})]})}),(0,b.jsx)("a",{href:"#/modifyInstructors",rel:"noreferrer",target:"_blank",style:{textDecoration:"none",color:B?"cyan":"blue"},children:"Go to Instrcutors' Add/update Page?"}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:B?"#202020":"",color:B?"white":"black"},children:"Class Schedule *"}),(0,b.jsx)("span",{children:"Time Table Of dance classes"}),(0,b.jsx)("div",{style:{overflowX:"auto",whiteSpace:"nowrap",scrollbarColor:B?"#888 #333":"#ccc #fff"},children:(0,b.jsx)(w,{tableData:k,setTableData:C,instructorNamesWithIds:ee})}),(0,b.jsx)("h3",{style:{backgroundColor:B?"#202020":"",color:B?"white":"black"},children:"Additional Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"GST Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},type:"text",rows:1,placeholder:"GST Number",name:"gstNumber"})]}),(0,b.jsxs)(o.Z,{md:8,children:[(0,b.jsx)(d.Z.Label,{children:"Add Amenities"}),(0,b.jsxs)(D.Z,{theme:ve,children:[(0,b.jsx)(E.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},multiple:!0,id:"tags-standard",options:ce,value:X,onChange:(e,t)=>{$(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Amenities",style:{backgroundColor:B?"#333333":"",color:B?"white":"black"}})})]})]})]}),(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(d.Z.Label,{children:"Enrollment Process"}),(0,b.jsx)(d.Z.Control,{rows:12,style:{height:"150px",backgroundColor:B?"#333333":"",color:B?"white":"black"},as:"textarea",placeholder:"Enrollment Process",name:"enrollmentProcess"})]}),(0,b.jsx)("h3",{style:{margin:"12px 0",backgroundColor:B?"#202020":"",color:B?"white":"black"},children:"Studio Timings *"}),(0,b.jsx)(z,{timings:oe,setTimings:se}),(0,b.jsx)("h3",{style:{margin:"32px 0 0 0",backgroundColor:B?"#202020":"",color:B?"white":"black"},children:"Social Media Links"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Instagram"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},type:"text",rows:1,placeholder:"Instagram Link",name:"instagram"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Facebook"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},type:"text",rows:1,placeholder:"Facebook Link",name:"facebook"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"YouTube"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},type:"text",rows:1,placeholder:"YouTube Link",name:"youtube"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Twitter"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},type:"text",rows:1,placeholder:"Twitter Link",name:"twitter"})]})]}),(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(o.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:()=>ye(),children:"Prev"})}),(0,b.jsxs)(o.Z,{xs:6,className:"d-flex justify-content-end gap-3",children:[(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:fe,children:"Save to Draft"}),(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:()=>je(),children:"Next"})]})]})]}),(0,b.jsxs)("div",{hidden:2!==ue,children:[(0,b.jsx)("h3",{style:{backgroundColor:B?"#202020":"",color:B?"white":"black"},children:"Address Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Building Name *"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},as:"textarea",rows:1,placeholder:"Enter building name",name:"buildingName"}),(0,b.jsx)(d.Z.Label,{children:"Street *"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},as:"textarea",rows:1,placeholder:"Enter street",name:"street"}),(0,b.jsx)(d.Z.Label,{children:"City *"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{backgroundColor:B?"#333333":"",color:B?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},name:"city",children:[(0,b.jsx)("option",{value:"",children:"Select a city"}),ne.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Landmark"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},rows:1,placeholder:"Enter landmark",name:"landmark"}),(0,b.jsx)(d.Z.Label,{children:"Pincode *"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:B?"#333333":"",color:B?"white":"black"},rows:1,placeholder:"Enter pincode",name:"pincode",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"State *"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{padding:"0 1.5rem",backgroundColor:B?"#333333":"",color:B?"white":"black"},rows:1,placeholder:"Enter state",name:"state",children:[(0,b.jsx)("option",{value:"",children:"Select a State"}),ie.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsx)(d.Z.Label,{children:"Save exact Address"}),(0,b.jsx)(I.Z,{selectedLocation:Z,setSelectedLocation:q,mapAddress:he,setMapAddress:xe})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(o.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:()=>ye(),children:"Prev"})}),(0,b.jsxs)(o.Z,{xs:6,className:"d-flex justify-content-end gap-3",children:[(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:fe,children:"Save to Draft"}),(0,b.jsx)(c.Z,{variant:"contained",disabled:re,style:{backgroundColor:B?"#892cdc":"black",color:"white"},type:"submit",children:"Add Studio & Next"})]})]})]})]})}),re&&(0,b.jsx)(u.Z,{}),""===f?"":(0,b.jsxs)("p",{children:["New Studio Created with id ",f,". Now u can upload images regarding them"]})]}),(0,b.jsxs)("div",{hidden:3!==ue,children:[(0,b.jsx)(N.Z,{entityId:f,title:"Studio Icon",storageFolder:i.Rb.STUDIOICON,maxImageCount:1,minImageCount:1,ref:h}),(0,b.jsx)(a.Z,{children:(0,b.jsx)(o.Z,{xs:12,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:()=>je(),children:"Next"})})})]}),(0,b.jsx)("div",{hidden:4!==ue,children:(0,b.jsx)(N.Z,{entityId:f,title:"Studio Images",maxImageCount:10,minImageCount:5,storageFolder:i.Rb.STUDIOIMAGES,ref:x})}),(0,b.jsxs)("div",{hidden:4!==ue,children:[(0,b.jsx)(N.Z,{entityId:f,title:"Studio Announcement Images",storageFolder:i.Rb.STUDIOANNOUNCEMENTS,maxImageCount:10,minImageCount:0,ref:g}),(0,b.jsxs)(a.Z,{className:"mt-3",children:[(0,b.jsx)(o.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:()=>ye(),children:"Prev"})}),(0,b.jsx)(o.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:B?"#892cdc":"black"},onClick:()=>je(),children:"Next"})})]})]}),(0,b.jsxs)("div",{hidden:5!==ue,style:{display:"flex",alignItems:"center",height:"auto"},children:[(0,b.jsx)(H,{StudioId:f}),(0,b.jsx)("br",{})]}),(0,b.jsx)("br",{})]})};var X=l(47022),$=l(30018);const ee=e=>{let{type:t="info",message:l="Default message",timeOfDisplay:a=5e3,fontSize:o="16px",fontWeight:s="normal",fontStyle:n="normal"}=e;const[i,d]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{const e=setTimeout((()=>{d(!1)}),a);return()=>{clearTimeout(e)}}),[a]),(0,b.jsx)(X.Z,{children:i&&(0,b.jsx)($.Z,{variant:t,style:{fontSize:o,fontWeight:s,fontStyle:n,textAlign:"center",marginTop:"10px",marginBottom:"0"},onClose:()=>d(!1),dismissible:!0,children:l})})},te={monday:[{open:"09:00 AM",close:"06:00 PM"}],tuesday:[{open:"09:00 AM",close:"06:00 PM"}],wednesday:[{open:"09:00 AM",close:"06:00 PM"}],thursday:[{open:"09:00 AM",close:"06:00 PM"}],friday:[{open:"09:00 AM",close:"06:00 PM"}],saturday:[{open:"09:00 AM",close:"06:00 PM"}],sunday:[{open:"09:00 AM",close:"06:00 PM"}]},le=["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],re={Kids:"Kids",Adults:"Adults",Women_Only:"Women Only",Men_Only:"Men Only",Seniors:"Seniors",All:"All Ages, Open to All",Couples:"Couples",Families:"Families"},ae=e=>{const t=(new TextEncoder).encode(e);return String.fromCharCode(...t)},oe=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("").map((e=>e.charCodeAt(0)));return(new TextDecoder).decode(new Uint8Array(e))};const se=function(e){let{studio:t,setStudio:l,studioId:c,setStudioId:g,instructors:S}=e;const C=(0,G.D)(),[Z,w]=(0,r.useState)(null),[P,M]=(0,r.useState)(null),[U,q]=(0,r.useState)([]),[H,J]=(0,r.useState)(-1),[B,R]=(0,r.useState)([]),[_,V]=(0,r.useState)(!1),[Y,K]=(0,r.useState)(null),[Q,X]=(0,r.useState)(!1),[$,se]=(0,r.useState)(null),[ne,ie]=(0,r.useState)("00:00-00:00"),de=T.c,ce=F.$,ue=j.W,me=Object.keys(i.QP).map(String),[he,xe]=(0,r.useState)(!1),[ge,be]=(0,r.useState)(!1),[pe,je]=(0,r.useState)(null),[ye,ve]=(0,r.useState)([]),fe=(0,A.v9)(O.w),[Se,ke]=(0,r.useState)(te),[Ce,Ze]=(0,r.useState)(""),we=S.map((e=>"".concat(e.name," - ").concat(e.id))),Ne=(0,L.Z)({palette:{mode:fe?"dark":"light"}}),[Ie,Ae]=(0,r.useState)({0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",freeTrial:!1,classCategory:[]}}),Oe=()=>{V(!1),K(null)},Te=(e,t)=>{Ae((l=>{const r={...l};if(null!==Y&&r[Y]){const l=r[Y].time;if(void 0!==l){const[a,o]=l.split(" - ");null!==e&&(r[Y].time="".concat(e," - ").concat(o)),null!==t&&(r[Y].time="".concat(a," - ").concat(t))}}return r})),se(Y)};(0,r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("StudioCreated"))||[];l(e);const t=e.map((e=>"".concat(e.studioName," : ").concat(e.id)));g(t)}),[]),(0,r.useEffect)((()=>{if(Z){if(q(Z.instructorsNames),Z&&Z.danceStyles&&ve(Z.danceStyles.split(",")),Z&&Z.addAmenities&&R(Z.addAmenities.split(",")),Z&&Z.tableData){const e=Math.max(...Object.keys(Ie).map(Number));J(e)}Z&&null!==Z&&void 0!==Z&&Z.timings&&ke(Z.timings),Z&&null!==Z&&void 0!==Z&&Z.mapAddress&&Ze(null===Z||void 0===Z?void 0:Z.mapAddress)}}),[Z]);const Fe=(e,t,l)=>{Ae((r=>("days"===t&&(l=Array.isArray(l)?l.join(","):l),{...r,[e]:{...r[e],[t]:l}})))},Le=()=>{const e=document.getElementById("updateStudioForm");if(!e.studioName.value)return"Studio name is required";if(!e.aboutStudio.value)return"About Studio is required";if(!e.founderName.value)return"Founder name is required";if(!e.aboutFounder.value)return"About Founder is required";if(!e.mobileNumber.value)return"Mobile number is required";if(!e.whatsappNumber.value)return"WhatsApp number is required";if(!e.numberOfHalls.value)return"Number of halls is required";if(!e.maximumOccupancy.value)return"Maximum occupancy is required";if(!ye.length)return"At least one dance style must be selected";if(!Object.values(Se).every((e=>e.length>0)))return"All timing slots must be filled";if(!Object.values(Ie).length)return"At least one class entry is required";for(const i of Object.values(Ie)){var t,l,r,a,o,s,n;if(null===(t=i.className)||void 0===t||!t.trim())return"Class name is required";if(null===(l=i.danceForms)||void 0===l||!l.trim())return"Dance forms are required";if(null===(r=i.days)||void 0===r||!r.trim())return"Days are required";if(null===(a=i.time)||void 0===a||!a.trim())return"Time is required";if(null===(o=i.fee)||void 0===o||!o.trim())return"Fee is required";if(null===(s=i.level)||void 0===s||!s.trim())return"Level is required";if(!i.instructors.length)return"At least one instructor is required";if(!i.classCategory.length||null===(n=i.classCategory[0])||void 0===n||!n.trim())return"Class category is required"}return e.buildingName.value?e.street.value?e.city.value?e.pincode.value?e.state.value?Ce?pe?void 0:"Location selection is required":"Address is required":"State is required":"Pincode is required":"City is required":"Street is required":"Building name is required"};return(0,b.jsxs)("div",{style:{backgroundColor:fe?"#202020":"",color:fe?"white":"black"},children:[(0,b.jsx)("br",{}),(0,b.jsxs)(d.Z,{id:"updateStudioForm",onSubmit:async e=>{e.preventDefault();const t=Le();if(t)return C(t,"error");X(!0);const l=e.target.nameId.value,r=l.lastIndexOf(":"),a=l.substring(r+1).trim();if(a&&a){try{const t={studioName:e.target.studioName.value,aboutStudio:e.target.aboutStudio.value,founderName:e.target.founderName.value,aboutFounder:e.target.aboutFounder.value,mobileNumber:e.target.mobileNumber.value,whatsappNumber:e.target.whatsappNumber.value,mailAddress:e.target.mailAddress.value,danceStyles:ye.join(","),numberOfHalls:e.target.numberOfHalls.value,maximumOccupancy:e.target.maximumOccupancy.value,instructorsNames:U,status:"OPEN",tableData:Ie,buildingName:e.target.buildingName.value,street:e.target.street.value,city:e.target.city.value,landmark:e.target.landmark.value,pincode:e.target.pincode.value,state:e.target.state.value,country:"India",mapAddress:Ce,geolocation:pe,gstNumber:e.target.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,addAmenities:B.join(","),enrollmentProcess:ae(e.target.enrollmentProcess.value),instagram:e.target.instagram.value,facebook:e.target.facebook.value,youtube:e.target.youtube.value,twitter:e.target.twitter.value,timings:Se};(await(0,W.fP)(t,i.Ul.STUDIO,a)).ok?(C("Studio Details Updated Successfully","success"),xe(!0),be(!1)):(xe(!1),be(!0))}catch(o){console.error("Error updating studio: ",o),xe(!1),be(!0)}finally{X(!1)}document.getElementById("updateStudioForm").reset()}},children:[(0,b.jsxs)(d.Z.Group,{controlId:"formBasicUpdate",children:[(0,b.jsx)(d.Z.Label,{children:"Id"}),(0,b.jsxs)(d.Z.Control,{as:"select",name:"nameId",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},onChange:async e=>{e.preventDefault();const t=e.target.value.split(":").pop().trim();M(t);try{const e=await(0,n.QT)((0,n.JU)(s.db,i.Ul.STUDIO,t));if(e.exists){if(w(e.data()),e.data().geolocation){const t=e.data().geolocation;je(t||null)}if(e.data().tableData){Ae(e.data().tableData);const t=Math.max(...Object.keys(Ie).map(Number));J(t)}else Ae({0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",freeTrial:!1,classCategory:[]}})}else w(null)}catch(l){console.error("Error fetching studio data:",l,t)}},children:[(0,b.jsx)("option",{value:"",children:"Select a studio..."}),c&&c.length>0?c.map((e=>(0,b.jsx)("option",{value:e,children:e},e))):(0,b.jsx)("option",{value:"",children:"No studio yet!"})]})]}),(0,b.jsx)("h3",{style:{backgroundColor:fe?"#202020":"",color:fe?"white":"black"},children:"Basic Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Studio Name *"}),(0,b.jsx)(d.Z.Control,{rows:1,defaultValue:Z?Z.studioName:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"studioName"}),(0,b.jsx)(d.Z.Label,{children:"About Studio *"}),(0,b.jsx)(d.Z.Control,{rows:6,defaultValue:Z?Z.aboutStudio:"",style:{minHeight:"150px",backgroundColor:fe?"#333333":"",color:fe?"white":"black"},as:"textarea",placeholder:"Enter studio details",name:"aboutStudio"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Founder's Name *"}),(0,b.jsx)(d.Z.Control,{rows:1,defaultValue:Z?Z.founderName:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"founderName"}),(0,b.jsx)(d.Z.Label,{children:"About Founder *"}),(0,b.jsx)(d.Z.Control,{rows:6,defaultValue:Z?Z.aboutFounder:"",style:{height:"150px",backgroundColor:fe?"#333333":"",color:fe?"white":"black"},as:"textarea",placeholder:"Enter studio details",name:"aboutFounder"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:fe?"#202020":"",color:fe?"white":"black"},children:"Contact Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mobile Number *"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.mobileNumber:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},rows:1,placeholder:"Enter studio details",name:"mobileNumber",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"WhatsApp Number *"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.whatsappNumber:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},rows:1,placeholder:"Enter studio details",name:"whatsappNumber",type:"number"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mail Address"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.mailAddress:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},type:"textarea",rows:1,placeholder:"Enter studio details",name:"mailAddress"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:fe?"#202020":"",color:fe?"white":"black"},children:"Studio Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Dance Styles *"}),(0,b.jsxs)(D.Z,{theme:Ne,children:[(0,b.jsx)(E.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},multiple:!0,id:"tags-standard",options:ue,value:ye,onChange:(e,t)=>{ve(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"}})})]}),(0,b.jsx)(d.Z.Label,{children:"Number of Hall(s) *"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.numberOfHalls:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},rows:1,placeholder:"Number of Hall(s)",name:"numberOfHalls",type:"number"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Maximum Occupancy *"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.maximumOccupancy:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},rows:1,placeholder:"Maximum Occupancy",name:"maximumOccupancy",type:"number"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:fe?"#202020":"",color:fe?"white":"black"},children:"Instructor Details"}),(0,b.jsx)(d.Z.Label,{children:"Names of Instructors"}),(0,b.jsx)(a.Z,{children:(0,b.jsx)(o.Z,{xs:6,children:(0,b.jsx)("div",{style:{backgroundColor:fe?"#202020":"",color:fe?"white":"black"},children:(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(D.Z,{theme:Ne,children:[(0,b.jsx)(E.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},multiple:!0,id:"tags-standard",options:we,value:U,onChange:(e,t)=>{q(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"}})})]}),(0,b.jsx)("a",{href:"#/modifyInstructors",rel:"noreferrer",target:"_blank",style:{textDecoration:"none",color:fe?"cyan":"blue"},children:"Go to Instrcutors' Add/update Page?"})]})})})}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:fe?"#202020":"",color:fe?"white":"black"},children:"Address Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Building Name *"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.buildingName:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},as:"textarea",rows:1,placeholder:"Enter building name",name:"buildingName"}),(0,b.jsx)(d.Z.Label,{children:"Street *"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.street:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},as:"textarea",rows:1,placeholder:"Enter street",name:"street"}),(0,b.jsx)(d.Z.Label,{children:"City *"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},name:"city",value:Z?Z.city:"",onChange:e=>{const t=e.target.value;w((e=>({...e,city:t})))},children:[(0,b.jsx)("option",{value:"",children:"Select a city"}),de.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Landmark"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.landmark:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},as:"textarea",rows:1,placeholder:"Enter landmark",name:"landmark"}),(0,b.jsx)(d.Z.Label,{children:"Pincode *"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.pincode:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},as:"textarea",rows:1,placeholder:"Enter pincode",name:"pincode",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"State *"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{padding:"0 1.5rem",backgroundColor:fe?"#333333":"",color:fe?"white":"black"},rows:1,placeholder:"Enter state",name:"state",value:Z?Z.state:"",children:[(0,b.jsx)("option",{value:"",children:"Select a State"}),ce.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsx)(d.Z.Label,{children:"Save exact Address"}),(0,b.jsx)(I.Z,{selectedLocation:pe,setSelectedLocation:je,mapAddress:Ce,setMapAddress:Ze})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:fe?"#202020":"white",color:fe?"white":"black"},children:"Additional Details"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"GST Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.gstNumber:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},type:"number",rows:1,placeholder:"GST Number",name:"gstNumber"})]}),(0,b.jsxs)(o.Z,{md:8,children:[(0,b.jsx)(d.Z.Label,{children:"Add Amenities"}),(0,b.jsxs)(D.Z,{theme:Ne,children:[(0,b.jsx)(E.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},multiple:!0,id:"tags-standard",options:me,value:B,onChange:(e,t)=>{R(t)},renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Amenities",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"}})})]})]})]}),(0,b.jsx)(a.Z,{children:(0,b.jsxs)(o.Z,{children:[(0,b.jsx)(d.Z.Label,{children:"Enrollment Process"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?oe(null===Z||void 0===Z?void 0:Z.enrollmentProcess):"",rows:6,style:{height:"150px",backgroundColor:fe?"#333333":"",color:fe?"white":"black"},as:"textarea",placeholder:"Enrollment Process",name:"enrollmentProcess"})]})}),(0,b.jsx)("br",{}),(0,b.jsx)("span",{children:"Time Table Of dance classes"}),(0,b.jsx)("div",{style:{overflowX:"auto",whiteSpace:"nowrap",scrollbarColor:fe?"#888 #333":"#ccc #fff"},children:(0,b.jsxs)(m.Z,{bordered:!0,variant:"light",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Name"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Dance Form"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Days"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Time"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"20rem",border:"1px solid black"},children:"Instructors"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Fee (\u20b9)"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Level"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Free Trial"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Category"}),(0,b.jsx)("th",{style:{padding:0},children:(0,b.jsx)(h.Z,{variant:"primary",onClick:()=>{Ae((e=>{const t=Object.keys(e).length;return{...e,[t]:{...Ie[0]}}}))},children:(0,b.jsx)(x.wEH,{})})})]})}),(0,b.jsx)("tbody",{children:Object.keys(Ie).map(((e,t)=>{var l,r,a,o,s,n,i,c;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{type:"text",value:Ie[e].className,onChange:t=>Fe(e,"className",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"}})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{as:"select",value:Ie[e].danceForms,onChange:t=>Fe(e,"danceForms",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:[(0,b.jsx)("option",{value:"",children:"Select a dance form"}),ue.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(f.N,{value:Ie[e]&&Ie[e].days&&k(null===Ie||void 0===Ie||null===(l=Ie[e])||void 0===l||null===(r=l.days)||void 0===r||null===(a=r.split)||void 0===a||null===(o=a.call(r,","))||void 0===o||null===(s=o.filter)||void 0===s?void 0:s.call(o,(e=>""!==e))),onChange:t=>Fe(e,"days",t.target.value),options:le,placeholder:"class days",maxSelectedLabels:7,className:"w-full md:w-20rem",style:{color:"#000",width:"100%"}})}),(0,b.jsxs)("td",{style:{padding:"0rem"},children:[(0,b.jsx)(d.Z.Control,{type:"text",value:Ie[e].time,onClick:()=>((e,t)=>{ie(t),K(e),V(!0)})(e,Ie[e].time)}),_&&(0,b.jsx)(p,{show:_,handleClose:Oe,handleSelect:Te,defaultTime:(null===(n=Ie[Y])||void 0===n?void 0:n.time)||"00:00-00:00"})]}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,options:we,value:Ie[e]&&Ie[e].instructors?Ie[e].instructors:[],onChange:(t,l)=>Fe(e,"instructors",l),renderInput:e=>(0,b.jsx)(v.Z,{...e,variant:"standard",placeholder:"Select Instructors"})})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{type:"number",value:Ie[e].fee?Ie[e].fee:"",onChange:t=>Fe(e,"fee",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"}})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{as:"select",value:Ie[e].level?Ie[e].level:"",onChange:t=>Fe(e,"level",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:[(0,b.jsx)("option",{value:"",children:"Select a Level"}),(0,b.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,b.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,b.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,b.jsx)("option",{value:"Misc",children:"Misc"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:null!==(i=Ie[t])&&void 0!==i&&i.freeTrial?Ie[t].freeTrial:"",onChange:e=>Fe(t,"freeTrial",e.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:!0,children:"Yes"}),(0,b.jsx)("option",{value:!1,children:"No"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:Array.isArray(Ie[t].classCategory)&&null!==(c=Ie[t].classCategory)&&void 0!==c&&c.length?Ie[t].classCategory[0]:"",onChange:e=>Fe(t,"classCategory",[e.target.value]),children:[(0,b.jsx)("option",{value:"",children:"Select Class Category"}),Object.values(re).map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(h.Z,{variant:"danger",onClick:()=>(e=>{Ae((t=>{const l={...t};return delete l[e],l}))})(e),children:(0,b.jsx)(x.iFH,{})})})]},e)}))})]})}),(0,b.jsx)("br",{}),(0,b.jsx)("h3",{style:{margin:"12px 0",backgroundColor:fe?"#202020":"",color:fe?"white":"black"},children:"Studio Timings *"}),(0,b.jsx)(z,{timings:Se,setTimings:ke}),(0,b.jsx)("h3",{style:{margin:"32px 0 0 0",backgroundColor:fe?"#202020":"",color:fe?"white":"black"},children:"Social Media Links"}),(0,b.jsxs)(a.Z,{children:[(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Instagram"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.instagram:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},type:"text",rows:1,placeholder:"Instagram Link",name:"instagram"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Facebook"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.facebook:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},type:"text",rows:1,placeholder:"Facebook Link",name:"facebook"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"YouTube"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.youtube:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},type:"text",rows:1,placeholder:"YouTube Link",name:"youtube"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Twitter"}),(0,b.jsx)(d.Z.Control,{defaultValue:Z?Z.twitter:"",style:{backgroundColor:fe?"#333333":"",color:fe?"white":"black"},type:"text",rows:1,placeholder:"Twitter Link",name:"twitter"})]})]}),(0,b.jsx)("br",{}),c&&c.length>0&&P&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{children:(0,b.jsx)(N.Z,{entityId:P,title:"Studio Images",storageFolder:i.Rb.STUDIOIMAGES,maxImageCount:10,minImageCount:5})}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{children:(0,b.jsx)(N.Z,{entityId:P,title:"Studio Icon",storageFolder:i.Rb.STUDIOICON,maxImageCount:1,minImageCount:1})}),(0,b.jsx)("div",{children:(0,b.jsx)(N.Z,{entityId:P,title:"Studio Announcement Images",storageFolder:i.Rb.STUDIOANNOUNCEMENTS,maxImageCount:10,minImageCount:0})}),(0,b.jsx)("br",{})]}),he&&(0,b.jsx)(ee,{type:"info",message:"Studio Updated successfully",timeOfDisplay:3e3,fontSize:"10px",fontWeight:"bold"}),ge&&(0,b.jsx)(ee,{type:"warning",message:"Studio Update failed",timeOfDisplay:3e3,fontSize:"10px",fontWeight:"bold"}),(0,b.jsx)(h.Z,{style:{backgroundColor:fe?"#892CDC":"black",color:"white"},type:"submit",disabled:Q,children:"Update Studio"}),Q&&(0,b.jsx)(u.Z,{})]})]})};var ne=l(61224),ie=l(26953),de=l(43896),ce=l(83449),ue=l(47283),me=l(82851);const he=function(){const[e,t]=(0,r.useState)([]),[l,d]=(0,r.useState)([]),c=(0,A.v9)(O.w),[u,m]=(0,r.useState)([]),[h,x]=(0,r.useState)(!1),[g,p]=(0,r.useState)(-1),{currentUser:j}=(0,ne.a)(),[y,v]=r.useState("1");return(0,r.useEffect)((()=>{console.log("Creator Studio getCreatorMode");(async e=>{try{const e=(0,n.JU)(s.db,"User",j.uid),t=await(0,n.QT)(e);t.exists()?(console.log("User there",t.data(),t.data().CreatorMode,JSON.parse(localStorage.getItem("userInfoFull"))),null!=t.data()?(x(t.data().CreatorMode),p(t.data().isPremium),console.log("Premium Till",g,t.data())):console.log("userSnap.data() null")):console.log("User not found but workshop created... error")}catch(t){console.log(" error")}})()}),[h]),(0,r.useEffect)((()=>{console.log("Creator Studio fetchInstructors");(async()=>{let e=null;if(JSON.parse(localStorage.getItem("userInfo"))&&JSON.parse(localStorage.getItem("userInfo")).UserId&&(e=JSON.parse(localStorage.getItem("userInfo")).UserId),!e)return console.log("User not found"),void alert("User not found");const t=(0,n.hJ)(s.db,i.Ul.INSTRUCTORS),l=(0,n.IO)(t,(0,n.ar)("createdBy","==",e)),r=await(0,n.PL)(l),a=[];r.forEach((e=>{a.push({id:e.id,name:e.data().name})})),console.log("Hiii",a),m(a)})()}),[]),(0,r.useEffect)((()=>{console.log("Creator Studio getStudioCreated");(async()=>{const r=(0,n.IO)((0,n.hJ)(s.db,i.Ul.STUDIO),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId));console.log("Hiiii",JSON.parse(localStorage.getItem("userInfo")).UserId);const a=await(0,n.PL)(r);console.log("Studios : ",a);const o=a.docs.filter((e=>e.data().studioName)).map((e=>{const t=e.data();return{id:e.id,...t}}));localStorage.setItem("StudioCreated",JSON.stringify(o)),t(o),d(o.map((e=>String(e.studioName)+" :"+String(e.id)))),console.log(e),console.log("studioId",l)})()}),[t]),(0,r.useEffect)((()=>{console.log("Creator Studio setStudioId");const r=JSON.parse(localStorage.getItem("StudioCreated"))||[];t(r);const a=r.map((e=>"".concat(e.studioName," : ").concat(e.id)));d(a),console.log("studio:",e),console.log("studioId",l)}),[d]),console.log("studio :",e),(0,b.jsxs)("div",{children:[(0,b.jsx)("br",{}),h?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(R.Z,{sx:{width:"100%",typography:"body1"},children:(0,b.jsxs)(ce.ZP,{value:y,children:[(0,b.jsx)(R.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,b.jsxs)(ue.Z,{style:{color:c?"white":"black"},onChange:(e,t)=>{v(t)},"aria-label":"lab API tabs example",children:[(0,b.jsx)(de.Z,{style:{color:c?"white":"black"},label:"Add Studio",value:"1"}),(0,b.jsx)(de.Z,{style:{color:c?"white":"black"},label:"Update Studio",value:"2"})]})}),(0,b.jsx)(me.Z,{value:"1",children:(0,b.jsx)(Q,{instructors:u})}),(0,b.jsx)(me.Z,{value:"2",children:(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(se,{studio:e,setStudio:t,instructors:u,studioId:l,setStudioId:d})})})]})})}):"",(0,b.jsx)("h3",{style:{color:c?"white":"black"},children:"Your Studios:"}),(0,b.jsxs)("ul",{children:[(0,b.jsx)(a.Z,{xs:1,md:3,lg:4,className:"g-4",children:e.length>0?e.map(((e,t)=>(0,b.jsx)(o.Z,{children:(0,b.jsx)("a",{href:"#/studio/".concat(e.studioId),style:{textDecoration:"none"},children:(0,b.jsx)(ie.Z,{studio:e})})},t))):(0,b.jsx)("p",{style:{color:c?"white":"black"},children:"No studio yet!"})}),(0,b.jsx)("br",{})]})]})}}}]);
//# sourceMappingURL=3042.ade535e0.chunk.js.map