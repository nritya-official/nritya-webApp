(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[3876,2716],{12716:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>x});var t=o(72791),n=o(84654),l=o(16029),i=o(5574),s=o(39157),a=o(94294),c=o(79253),d=o(23853),h=o(16856),u=o(21204),m=o(80184);const x=e=>{let{dataList:r,imgOnly:o=!1}=e;const x=Array.isArray(r)?r:Object.values(r),[g,p]=(0,t.useState)(!1),[f,b]=(0,t.useState)(null),[y,j]=(0,t.useState)(!1),[v,Z]=(0,t.useState)(!1),w=(0,t.useRef)(null),S=()=>{const e=w.current;e&&(j(e.scrollLeft>0),Z(e.scrollLeft<e.scrollWidth-e.clientWidth))},C=e=>{const r=w.current;"left"===e?r.scrollBy({left:-330,behavior:"smooth"}):"right"===e&&r.scrollBy({left:330,behavior:"smooth"})},k=()=>{p(!1),b(null)},P={transform:"scale(1.01)"};return(0,t.useEffect)((()=>{const e=w.current;if(e)return S(),e.addEventListener("scroll",S),()=>e.removeEventListener("scroll",S)}),[]),(0,m.jsxs)(l.Z,{sx:{display:"flex",p:0,m:0,position:"relative"},children:[y&&(0,m.jsx)("button",{className:"scroll-button left",onClick:()=>C("left"),children:(0,m.jsx)(h.lrP,{})}),(0,m.jsxs)("div",{ref:w,className:"horizontal-scroll-wrapper no-important scroll-wrapper",children:[x.map(((e,r)=>o?(0,m.jsx)("a",{className:"no-important",onClick:()=>{return r=e,console.log(r),b(r),void p(!0);var r},children:(0,m.jsx)(n.Z,{style:{marginRight:"0.5rem"},component:"li",sx:{height:300,width:534,"&:hover":{...P}},children:(0,m.jsxs)(c.Z,{children:[(0,m.jsx)("img",{src:e,loading:"lazy",alt:"Studio image"}),(0,m.jsx)("div",{className:"gallery-image-overlay",children:(0,m.jsx)(d.SJS,{size:50,color:"white",className:""})})]})},r)},r):(0,m.jsx)("a",{href:"#/studio/".concat(e.id),children:(0,m.jsx)(u.Z,{data:e,img_src:e.iconUrl},e.id)},r))),(0,m.jsx)(i.Z,{open:g,onClose:k,children:f&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{sx:{padding:0},children:(0,m.jsx)("img",{src:f,alt:"Image",style:{maxWidth:"100%",height:"auto"}})}),(0,m.jsx)(a.Z,{sx:{"&:hover":{backgroundColor:"#735EAB",color:"white"}},onClick:k,children:"Close"})]})})]}),v&&(0,m.jsx)("button",{className:"scroll-button right",onClick:()=>C("right"),children:(0,m.jsx)(h.KEG,{})})]})}},21204:(e,r,o)=>{"use strict";o.d(r,{Z:()=>b});o(72791);var t=o(92552),n=o(84654),l=o(28658),i=o(69597),s=o(43782),a=o(94294),c=o(18625),d=o(83168),h=o(36314),u=o(59434),m=o(60717),x=o(83708),g=o(97310),p=o(17237),f=o(80184);function b(e){let{img_src:r,data:o}=e;const b=(0,u.v9)(m.w),y=o.id?o.id:o.studioId,j={backgroundColor:b?"#444":"white",padding:"0px",color:b?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,f.jsxs)(n.Z,{variant:"solid",sx:{...j,"&:hover":{transform:"scale(1.01)"}},children:[(0,f.jsxs)(t.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,f.jsx)("img",{src:o&&o.iconUrl?o.iconUrl:x.Hi,loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",height:"auto",overflow:"hidden"}}),(0,f.jsx)(h.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:o&&o.danceStyles&&"string"===typeof o.danceStyles?o.danceStyles.split(",").slice(0,3).map(((e,r)=>(0,f.jsx)(i.Z,{color:r%2===0?"danger":"success",sx:{marginBottom:"10px",fontSize:"0.8rem",bgcolor:x.lt[r].backgroundColor,color:x.lt[r].color},children:e.trim()},r))):(0,f.jsx)(i.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)}),(0,f.jsx)(h.Z,{direction:"row",spacing:2,style:{position:"absolute",top:0,left:0,padding:"1px",paddingTop:"1px"},children:"true"===o.freeTrialAvailable||!0===o.freeTrialAvailable&&(0,f.jsx)(i.Z,{sx:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem",bgcolor:x.DM.LIME.backgroundColor,color:x.DM.LIME.color},children:"Free Trial Available"},1)})]}),(0,f.jsxs)(l.Z,{style:{padding:"10px"},children:[(0,f.jsxs)(s.Z,{display:"flex",justifyContent:"space-between",columnGap:1,children:[(0,f.jsx)(c.Z,{alignSelf:"center",href:"#/studio/".concat(y),fontWeight:"bold",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",style:{color:b?"white":"black"},children:o&&o.studioName?o.studioName:"    "}),o&&o.avgRating&&o.avgRating>0?(0,f.jsxs)(d.ZP,{width:52,flexShrink:0,alignSelf:"center",style:{color:b?"white":"black"},children:["\u2b50 ",o.avgRating.toFixed(1)]}):null]}),(0,f.jsx)(d.ZP,{style:{color:b?"white":"black"},level:"body-xs",children:o.street?o.street:".  "}),(0,f.jsx)(g.ZP,{hidden:!0,"aria-label":"Like minimal photography",size:"md",variant:"solid",color:"danger",sx:{position:"absolute",zIndex:2,borderRadius:"50%",right:"1rem",bottom:"2rem",transform:"translateY(50%)"},children:(0,f.jsx)(p.Z,{})}),(0,f.jsxs)(s.Z,{display:"flex",justifyContent:"space-between",children:[(0,f.jsx)(d.ZP,{alignSelf:"center",fontSize:12,style:{color:b?"white":"black"},children:o&&o.minFee&&o.minFee>=0&&"@ \u20b9".concat(o.minFee," onwards")}),(0,f.jsx)(a.Z,{size:"small",variant:"contained",sx:{alignSelf:"center",color:"white",backgroundColor:"#735EAB","&:hover":{backgroundColor:"#735EAB",color:"white"},"&.Mui-disabled":{backgroundColor:b?"rgba(115, 94, 171, 0.5)":"rgba(115, 94, 171, 0.3)",color:"rgba(255, 255, 255, 0.5)"}},type:"button",children:"Explore"})]})]})]})}},59894:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>M});var t=o(72791),n=o(89743),l=o(2677),i=o(95070),s=o(19275),a=o(83708),c=o(59434),d=o(60717),h=o(61224),u=o(68449),m=o(41893),x=o(57621),g=o(9585),p=o(93044),f=o(20890),b=o(20068),y=o(39504),j=o(18384),v=o(88447),Z=o(16029),w=o(93006),S=o(94294),C=o(5712),k=o(68096),P=o(94925),N=o(64415),E=o(23786),B=o(25351),T=o(94070),A=o(51650),O=o(74569),U=o.n(O),I=o(32808),R=o.n(I),W=o(80184);const D=a.A3,z=e=>{let{open:r,onClose:o,userProfileInfo:n,setUserProfileInfo:l}=e;const{currentUser:i}=(0,h.a)(),s=A.W,[c,d]=(0,t.useState)([]),[m,x]=(0,t.useState)(),[g,p]=(0,t.useState)(!1),[b,y]=(0,t.useState)(""),[j,O]=(0,t.useState)((null===n||void 0===n?void 0:n.isPhoneNumberVerified)||!1),[I,z]=(0,t.useState)(!1),[L,F]=(0,t.useState)(!1),[G,V]=(0,t.useState)(""),[M,_]=(0,t.useState)("info");(0,t.useEffect)((()=>{n&&n.DanceStyles&&""!==n.DanceStyles&&d(n.DanceStyles),n&&n.PhoneNumber&&""!==n.setUserPhoneNumber&&x(n.PhoneNumber)}),[n]);const H=e=>{l({...n,[e.target.name]:e.target.value})},Y=()=>{F(!1)};return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(v.Z,{open:r,onClose:o,style:{overflow:"scroll"},children:(0,W.jsxs)(Z.Z,{sx:{p:4,backgroundColor:"white",margin:"auto",mt:5,maxWidth:400,borderRadius:2},children:[(0,W.jsx)(f.Z,{variant:"h6",gutterBottom:!0,children:"Edit Profile"}),(0,W.jsx)(w.Z,{fullWidth:!0,label:"Name",name:"Name",value:n.Name,onChange:H,margin:"normal"}),(0,W.jsx)(w.Z,{fullWidth:!0,label:"Age",name:"Age",type:"number",value:n.Age,onChange:H,margin:"normal"}),(0,W.jsx)(w.Z,{fullWidth:!0,label:"Phone Number",name:"PhoneNumber",type:"number",value:n.PhoneNumber,onChange:H,margin:"normal",InputProps:{readOnly:j||n.isPhoneNumberVerified}}),j||n.isPhoneNumberVerified?(0,W.jsx)(f.Z,{color:"green",children:"Phone Number Verified"}):(0,W.jsx)(S.Z,{variant:"outlined",onClick:async()=>{try{if(200!==(await U().post("".concat(D,"djSms/request_otp/"),R().stringify({phone_number:n.PhoneNumber}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).status)throw new Error("Failed to send OTP.");z(!0),p(!0),V("OTP sent to your phone number."),_("info"),F(!0)}catch(e){console.error("Error sending OTP:",e),V("Error sending OTP, please try again."),_("error"),F(!0)}},children:I?"Resend OTP":"Verify Phone Number"}),(0,W.jsx)(C.Z,{multiple:!0,id:"tags-standard",options:s,value:c,onChange:(e,r)=>{d(r)},renderInput:e=>(0,W.jsx)(w.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:"white",color:"black"}})}),(0,W.jsxs)(k.Z,{fullWidth:!0,margin:"normal",children:[(0,W.jsx)(P.Z,{children:"Gender"}),(0,W.jsxs)(N.Z,{name:"Gender",value:n.Gender,onChange:H,children:[(0,W.jsx)(E.Z,{value:"Male",children:"Male"}),(0,W.jsx)(E.Z,{value:"Female",children:"Female"}),(0,W.jsx)(E.Z,{value:"Other",children:"Other"})]})]}),(0,W.jsx)(w.Z,{fullWidth:!0,label:"Bio",name:"Bio",value:n.Bio,onChange:H,multiline:!0,rows:4,margin:"normal"}),(0,W.jsxs)(Z.Z,{mt:2,display:"flex",justifyContent:"space-between",children:[(0,W.jsx)(S.Z,{variant:"outlined",onClick:o,children:"Cancel"}),(0,W.jsx)(S.Z,{variant:"contained",onClick:async()=>{n.DanceStyles=c;await(0,u.gv)(a.Ul.USER,i.uid,n)&&(V("Profile Updated"),_("success"),F(!0))},children:"Save"})]})]})}),(0,W.jsx)(v.Z,{open:g,onClose:()=>p(!1),children:(0,W.jsxs)(Z.Z,{sx:{p:4,backgroundColor:"white",margin:"auto",mt:5,maxWidth:300,borderRadius:2},children:[(0,W.jsx)(f.Z,{variant:"h6",gutterBottom:!0,children:"Enter OTP"}),(0,W.jsx)(w.Z,{fullWidth:!0,label:"4-Digit OTP",value:b,onChange:e=>y(e.target.value),margin:"normal"}),(0,W.jsxs)(Z.Z,{mt:2,display:"flex",justifyContent:"space-between",children:[(0,W.jsx)(S.Z,{variant:"outlined",onClick:()=>p(!1),children:"Cancel"}),(0,W.jsx)(S.Z,{variant:"contained",onClick:async()=>{try{const e=await U().post("".concat(D,"djSms/confirm_otp/"),R().stringify({phone_number:n.PhoneNumber,otp:b}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});console.log(e),e&&e.data&&"success"===e.data.status?(O(!0),l({...n,isPhoneNumberVerified:!0}),p(!1),(async()=>{(0,u.to)(a.Ul.USER,i.uid,n.PhoneNumber)})(),V("Phone number verified successfully."),_("success"),F(!0)):(V(e.message||"Invalid OTP."),_("error"),F(!0))}catch(e){console.error("Error verifying OTP:",e),V("Error verifying OTP, please try again."),_("error"),F(!0)}},children:"Submit OTP"})]})]})}),(0,W.jsx)(B.Z,{open:L,autoHideDuration:600,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:Y,children:(0,W.jsx)(T.Z,{onClose:Y,severity:M,sx:{width:"100%"},children:G})})]})};var L=o(9806),F=(o(12481),o(11632)),G=o(12716),V=(o(10159),o(56510));const M=function(){const[e,r]=(0,t.useState)(!1),[o,v]=(0,t.useState)({Name:"",Age:"",DanceStyles:"",Gender:"",Bio:""}),Z=(0,c.v9)(d.w),{currentUser:w}=(0,h.a)();console.log("currentUser",w);const S=[["Transactions","All","#/transactions"],["My Bookings","All","#/myBookings"],["Instructors","Creator","#/modifyInstructors"],["Studios","Creator","#/modifyStudios"],["DashBoard","Creator","#/creatorDashboard"]],{setIsLoading:C}=(0,V.U)(),[k,P]=(0,t.useState)(!1),[N,E]=(0,t.useState)([]);S.sort(((e,r)=>e[0].localeCompare(r[0]))),(0,t.useEffect)((()=>{w&&w.uid&&console.log("Recently watched disabled");(async()=>{try{C(!0);const e=await(0,u.Ld)(a.Ul.USER,w.uid);if(e){v({Name:e.Name||"",Age:e.Age||"",DanceStyles:e.DanceStyles||"",Gender:e.Gender||"",Bio:e.Bio||"",PhoneNumber:e.PhoneNumber||"",isPhoneNumberVerified:e.isPhoneNumberVerified||!1});const o=await(0,u.gG)(w.uid);r(o)}else console.log("User not found but workshop created... error")}catch(e){console.log("Error fetching user data or creator mode: ",e)}finally{C(!1)}})()}),[e]);const B={background:Z?"black":"white",color:Z?"white":"black",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"10px",cursor:"pointer"};return(0,W.jsxs)("div",{children:[(0,W.jsx)("h1",{style:{color:Z?"white":"black",textTransform:"capitalize"},children:"Profile"}),(0,W.jsxs)(x.Z,{sx:{maxWidth:400,background:Z?"black":"white",color:Z?"white":"black"},children:[(0,W.jsx)(g.Z,{avatar:(0,W.jsx)(p.Z,{alt:"Picture",src:w.photoURL,sx:{width:40,height:40}}),title:(0,W.jsxs)(f.Z,{variant:"h6",component:"div",sx:{display:"flex",color:Z?"white":"black",alignItems:"center"},children:[w.displayName,e&&(0,W.jsx)(b.Z,{title:"You are a verified user.",arrow:!0,children:(0,W.jsx)(j.Z,{sx:{color:"green",marginLeft:.5,fontSize:20}})})]}),subheader:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(f.Z,{variant:"body2",component:"div",sx:{color:Z?"white":"black"},children:[w.email,o.Age].filter(Boolean).join(" || ")}),o.DanceStyles&&(0,W.jsx)(f.Z,{variant:"body2",component:"div",sx:{mt:1,color:Z?"white":"black"},children:o.DanceStyles}),o.Bio&&(0,W.jsx)(f.Z,{variant:"body2",component:"div",sx:{mt:1,color:Z?"white":"black"},children:o.Bio})]}),subheaderTypographyProps:{sx:{color:Z?"gray":"darkgray"}}}),(0,W.jsx)(s.Z,{sx:{ml:2},variant:"outlined",onClick:()=>{P(!0)},children:"Edit Profile"}),(0,W.jsx)(z,{open:k,onClose:()=>{P(!1)},userProfileInfo:o,setUserProfileInfo:v}),(0,W.jsx)(y.Z,{children:(0,W.jsx)(f.Z,{variant:"body2",color:"text.secondary",style:{color:Z?"white":"black"},children:e?"List your studios now!!":"Welcome to the Nritya! \n Verify your profile to list your studio."})})]}),(0,W.jsx)("br",{}),(0,W.jsx)(n.Z,{children:S.map((r=>{let[o,t,n]=r;return"Creator"!==t||e?(0,W.jsx)(l.Z,{xs:12,sm:6,md:6,lg:3,xl:3,className:"mb-4",children:(0,W.jsx)("a",{href:n,children:(0,W.jsx)(i.Z,{style:B,children:(0,W.jsx)(i.Z.Body,{children:(0,W.jsx)(i.Z.Title,{children:o})})})})},o):null}))}),(0,W.jsx)(m.default,{}),(0,W.jsxs)(n.Z,{hidden:!0,children:[N.length>0&&(0,W.jsxs)("h4",{style:{color:Z?"white":"black"},children:[" ",(0,W.jsx)(L.G,{icon:F.SZw,size:"1x"})," Recently Viewed"]}),N.length>0?(0,W.jsx)(G.default,{dataList:N,imgOnly:!1}):""]})]})}},24654:()=>{}}]);
//# sourceMappingURL=3876.a37d3cc3.chunk.js.map