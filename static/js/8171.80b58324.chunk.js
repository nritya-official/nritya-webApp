"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[8171],{98171:(t,a,o)=>{o.r(a),o.d(a,{default:()=>w});var n=o(72791),c=o(59434),e=o(60717),s=o(61224),r=o(68449),i=o(83708),l=o(20890),u=o(61889),d=o(57621),h=o(39504),m=o(99875),g=(o(64415),o(23786),o(68096),o(94925),o(35527),o(61979),o(44507),o(4708),o(19881),o(57482),o(80184));const w=function(){const[t,a]=(0,n.useState)({instructorsCount:0,studiosCount:0,workshopsCount:0,openClassesCount:0,coursesCount:0}),o=(0,c.v9)(e.w),{currentUser:w}=(0,s.a)();(0,n.useEffect)((()=>{(async()=>{const t=await(0,r.Km)(i.Ul.INSTRUCTORS,"createdBy","==",w.uid),o=await(0,r.Km)(i.Ul.STUDIO,"UserId","==",w.uid),n=await(0,r.Km)(i.Ul.WORKSHOPS,"UserId","==",w.uid),c=await(0,r.Km)(i.Ul.OPEN_CLASSES,"UserId","==",w.uid),e=await(0,r.Km)(i.Ul.COURSES,"UserId","==",w.uid);a({instructorsCount:t,studiosCount:o,workshopsCount:n,openClassesCount:c,coursesCount:e})})()}),[w]);const y=[{title:"Total Studios",data:t.studiosCount,link:"#/modifyStudios"},{title:"Total Instructors",data:t.instructorsCount,link:"#/modifyInstructors"}];return(0,g.jsxs)("div",{style:{minHeight:"75vh"},children:[(0,g.jsx)(l.Z,{variant:"h4",sx:{color:o?"white":"black",textTransform:"capitalize"},children:"Dashboard"}),(0,g.jsx)(u.ZP,{container:!0,spacing:2,children:y.map(((t,a)=>(0,g.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(d.Z,{sx:{backgroundColor:o?"black":"white"},children:(0,g.jsxs)(h.Z,{children:[(0,g.jsx)(l.Z,{variant:"h6",component:"div",sx:{color:o?"white":"black"},children:(0,g.jsxs)(g.Fragment,{children:[t.title,(0,g.jsx)("a",{href:t.link,children:(0,g.jsx)(m.Z,{baseClassName:"fas",className:"fa-plus-circle",color:"primary"})})]})}),(0,g.jsx)(l.Z,{variant:"h4",sx:{color:o?"white":"black"},children:t.data})]})})},a)))}),(0,g.jsx)("br",{}),false]})}},68449:(t,a,o)=>{o.d(a,{FV:()=>C,Km:()=>y,Ld:()=>h,Us:()=>d,XG:()=>x,Xt:()=>w,eg:()=>b,gG:()=>u,gY:()=>l,gv:()=>m,ih:()=>f,oM:()=>i,qS:()=>p,to:()=>g,xR:()=>U});var n=o(12481),c=o(10159),e=o(30276),s=o(83708),r=o(644);const i=async t=>{const a=s.A3,o="".concat(a,"crud/getUserMode/").concat(t);try{const t=await fetch(o),a=await t.json();if(a.success){let t=!1;!0===a.data&&(t=!0),r.Z.setItem("CreatorMode",t)}else console.log("Error: ",a.message||"Unknown error")}catch(n){console.log("Error fetching user mode: ",n),r.Z.setItem("CreatorMode",!1)}},l=async(t,a,o)=>{const n=s.A3;try{const c="".concat(n,"crud/").concat(t,"/").concat(a,"/");console.log(c);const e=await fetch(c),s=await e.json();s.success?o(s.data):console.error("Error fetching ".concat(a,":"),s.error)}catch(c){console.error("Error fetching ".concat(a,":"),c)}},u=async t=>(await i(t),await(async()=>{try{const t=r.Z.getItem("CreatorMode");return console.log("getCreatorMode ",t),t||!1}catch(t){return console.log(" error"),!1}})()),d=async(t,a)=>{console.log("Debug ","".concat(t,"/").concat(a));const o="".concat(t,"/").concat(a),n=(0,e.iH)(c.tO,o);try{const t=await(0,e.aF)(n);if(t.items.length>0){const a=t.items[0],o=await(0,e.Jt)(a);return console.log("Debug URL:",o),o}return console.log("Debug No files found in the folder."),null}catch(s){return console.error("Error getting image URL:",s),null}},h=async(t,a)=>{const o=(0,n.JU)(c.db,t,a),e=await(0,n.QT)(o);return e.exists()?e.data():null},m=async(t,a,o)=>{const e=(0,n.JU)(c.db,t,a);return await(0,n.pl)(e,o,{merge:!0}),o},g=async(t,a,o)=>{const e=(0,n.JU)(c.db,t,a);return await(0,n.r7)(e,{isPhoneNumberVerified:!0,phoneNumber:o}),!0},w=async(t,a,o)=>{const e=(0,n.JU)(c.db,t,a);return await(0,n.r7)(e,o),{id:a,...o}},y=async(t,a,o,e)=>{console.log("Hiii ",t,a,o,e);const s=(0,n.IO)((0,n.hJ)(c.db,t),(0,n.ar)(a,o,e));return(await(0,n.Yp)(s)).data().count},f=async(t,a)=>{const o="".concat(t,"/").concat(a),n=(0,e.iH)(c.tO,o),s=await(0,e.aF)(n);await Promise.all(s.items.map((async t=>{await(0,e.oq)(t)})))},p=async(t,a,o)=>{const n="".concat(t,"/").concat(a,"/").concat(o),s=(0,e.iH)(c.tO,n),r=await(0,e.aF)(s);await Promise.all(r.items.map((async t=>{await(0,e.oq)(t)})))},U=async function(t,a,o,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const r=a.length;let i=0;await Promise.all(a.map((async a=>{let l="".concat(t,"/").concat(o,"/").concat(a.filename);s&&(l="".concat(t,"/").concat(o,"/").concat(s,"/").concat(a.filename));const u=(0,e.iH)(c.tO,l);await(0,e.oq)(u),i+=1,n(i/r*100)})))},b=async function(t,a,o,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;console.log(t,o);const r=a.length;let i=0;await Promise.all(a.map((async a=>{let l="".concat(t,"/").concat(o);s&&(l="".concat(t,"/").concat(o,"/").concat(s));const u=(0,e.iH)(c.tO,"".concat(l,"/").concat(a.file.name));await(0,e.KV)(u,a.file),i+=1,n(i/r*100)})))},C=async function(t,a,o){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,i="".concat(t,"/").concat(o);n&&(i="".concat(t,"/").concat(o,"/").concat(n)),console.log(a,a.name);const l=(0,e.iH)(c.tO,"".concat(i,"/").concat(a.name)),u=(0,e.B0)(l,a);u.on("state_changed",(t=>{const a=t.totalBytes,o=t.bytesTransferred,n=a>0?(o/a*100).toFixed(2):-1;switch(s(n),console.log("Upload is "+n+"% done"),t.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(t=>{t.code}),(()=>{(0,e.Jt)(u.snapshot.ref).then((t=>{console.log("File available at",t),r(t)}))}))},x=async t=>{const a="".concat(t),o=(0,e.iH)(c.tO,a);try{const t=await(0,e.aF)(o);return await Promise.all(t.items.map((async t=>{const a=await(0,e.Jt)(t);return{id:t.name,filename:t.name,fileURL:a}})))}catch(n){throw console.error("Error retrieving images:",n),n}}}}]);
//# sourceMappingURL=8171.80b58324.chunk.js.map