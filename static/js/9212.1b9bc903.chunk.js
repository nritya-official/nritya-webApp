"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[9212],{79212:(o,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(25167),e=a(43360),c=a(10159),s=a(60717),r=a(59434),i=a(61221),l=a(72791),d=a(644),g=a(68449),u=a(80184);const h=function(o){let{showProfileOffcanvas:t,closeProfileOffcanvas:a}=o;const h=(0,r.v9)(s.w);(0,l.useEffect)((()=>{(()=>{let o=0;const t=JSON.parse(localStorage.getItem("userInfoFull")),a=null===t||void 0===t?void 0:t.uid;for(;o<2&&null==d.Z.getItem("CreatorMode");)(0,g.oM)(a),o+=1})()}),[]);const m=[{action:()=>window.location.hash="#/profile",name:"Profile",show:!0},{action:()=>window.location.hash="#/transactions",name:"Transactions",show:!0},{action:()=>window.location.hash="#/creatorDashboard",name:"Dashboard",show:d.Z.getItem("CreatorMode")},{action:()=>window.location.hash="#/myBookings",name:"Bookings",show:!0},{action:async()=>{console.log("Logging out SideMenu");try{await c.I8.signOut(),localStorage.clear(),d.Z.clear()}catch(o){console.error("Error during logout:",o.message)}},name:"Sign Out",show:!0}];return(0,u.jsxs)(n.Z,{style:{width:"20rem",backgroundColor:h?"black":"white",color:h?"white":"black"},show:t,onHide:a,children:[(0,u.jsx)(n.Z.Header,{closeButton:!0,children:(0,u.jsx)("img",{style:{width:"6rem",height:"6rem",borderRadius:"50%"},src:i,alt:"Logo"})}),(0,u.jsx)(n.Z.Body,{children:(0,u.jsx)("ul",{className:"menu",children:(0,u.jsx)("ul",{className:"vertical-menu",children:m.map(((o,t)=>{let{action:a,name:n,show:c}=o;return(0,u.jsx)("li",{hidden:!c,children:(0,u.jsx)(e.Z,{variant:"outline-warning",className:"rounded-pill menu-button",onClick:a,children:n})},t)}))})})})]})}},68449:(o,t,a)=>{a.d(t,{FV:()=>O,Km:()=>f,Ld:()=>u,Us:()=>g,XG:()=>U,Xt:()=>w,eg:()=>v,gG:()=>d,gY:()=>l,gv:()=>h,ih:()=>y,oM:()=>i,qS:()=>p,to:()=>m,xR:()=>b});var n=a(12481),e=a(10159),c=a(30276),s=a(83708),r=a(644);const i=async o=>{const t=s.A3,a="".concat(t,"crud/getUserMode/").concat(o);try{const o=await fetch(a),t=await o.json();if(t.success){let o=!1;!0===t.data&&(o=!0),r.Z.setItem("CreatorMode",o)}else console.log("Error: ",t.message||"Unknown error")}catch(n){console.log("Error fetching user mode: ",n),r.Z.setItem("CreatorMode",!1)}},l=async(o,t,a)=>{const n=s.A3;try{const e="".concat(n,"crud/").concat(o,"/").concat(t,"/");console.log(e);const c=await fetch(e),s=await c.json();s.success?a(s.data):console.error("Error fetching ".concat(t,":"),s.error)}catch(e){console.error("Error fetching ".concat(t,":"),e)}},d=async o=>(await i(o),await(async()=>{try{const o=r.Z.getItem("CreatorMode");return console.log("getCreatorMode ",o),o||!1}catch(o){return console.log(" error"),!1}})()),g=async(o,t)=>{console.log("Debug ","".concat(o,"/").concat(t));const a="".concat(o,"/").concat(t),n=(0,c.iH)(e.tO,a);try{const o=await(0,c.aF)(n);if(o.items.length>0){const t=o.items[0],a=await(0,c.Jt)(t);return console.log("Debug URL:",a),a}return console.log("Debug No files found in the folder."),null}catch(s){return console.error("Error getting image URL:",s),null}},u=async(o,t)=>{const a=(0,n.JU)(e.db,o,t),c=await(0,n.QT)(a);return c.exists()?c.data():null},h=async(o,t,a)=>{const c=(0,n.JU)(e.db,o,t);return await(0,n.pl)(c,a,{merge:!0}),a},m=async(o,t,a)=>{const c=(0,n.JU)(e.db,o,t);return await(0,n.r7)(c,{isPhoneNumberVerified:!0,phoneNumber:a}),!0},w=async(o,t,a)=>{const c=(0,n.JU)(e.db,o,t);return await(0,n.r7)(c,a),{id:t,...a}},f=async(o,t,a,c)=>{console.log("Hiii ",o,t,a,c);const s=(0,n.IO)((0,n.hJ)(e.db,o),(0,n.ar)(t,a,c));return(await(0,n.Yp)(s)).data().count},y=async(o,t)=>{const a="".concat(o,"/").concat(t),n=(0,c.iH)(e.tO,a),s=await(0,c.aF)(n);await Promise.all(s.items.map((async o=>{await(0,c.oq)(o)})))},p=async(o,t,a)=>{const n="".concat(o,"/").concat(t,"/").concat(a),s=(0,c.iH)(e.tO,n),r=await(0,c.aF)(s);await Promise.all(r.items.map((async o=>{await(0,c.oq)(o)})))},b=async function(o,t,a,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const r=t.length;let i=0;await Promise.all(t.map((async t=>{let l="".concat(o,"/").concat(a,"/").concat(t.filename);s&&(l="".concat(o,"/").concat(a,"/").concat(s,"/").concat(t.filename));const d=(0,c.iH)(e.tO,l);await(0,c.oq)(d),i+=1,n(i/r*100)})))},v=async function(o,t,a,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;console.log(o,a);const r=t.length;let i=0;await Promise.all(t.map((async t=>{let l="".concat(o,"/").concat(a);s&&(l="".concat(o,"/").concat(a,"/").concat(s));const d=(0,c.iH)(e.tO,"".concat(l,"/").concat(t.file.name));await(0,c.KV)(d,t.file),i+=1,n(i/r*100)})))},O=async function(o,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,i="".concat(o,"/").concat(a);n&&(i="".concat(o,"/").concat(a,"/").concat(n)),console.log(t,t.name);const l=(0,c.iH)(e.tO,"".concat(i,"/").concat(t.name)),d=(0,c.B0)(l,t);d.on("state_changed",(o=>{const t=o.totalBytes,a=o.bytesTransferred,n=t>0?(a/t*100).toFixed(2):-1;switch(s(n),console.log("Upload is "+n+"% done"),o.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(o=>{o.code}),(()=>{(0,c.Jt)(d.snapshot.ref).then((o=>{console.log("File available at",o),r(o)}))}))},U=async o=>{const t="".concat(o),a=(0,c.iH)(e.tO,t);try{const o=await(0,c.aF)(a);return await Promise.all(o.items.map((async o=>{const t=await(0,c.Jt)(o);return{id:o.name,filename:o.name,fileURL:t}})))}catch(n){throw console.error("Error retrieving images:",n),n}}},61221:(o,t,a)=>{o.exports=a.p+"static/media/logo.aacdd5500f6cc7277585.png"}}]);
//# sourceMappingURL=9212.1b9bc903.chunk.js.map