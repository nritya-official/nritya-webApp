(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[1069],{87472:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>h});var n=o(72791),t=o(84654),a=o(73542),i=o(30195),s=o(94294),l=o(79253),c=o(21204),d=o(80184);const h=e=>{let{dataList:r,imgOnly:o=!1}=e;console.log("Debug from CardSlider",o),console.log(r);const h=Array.isArray(r)?r:Object.values(r);console.log(h);const[u,m]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null),p=()=>{m(!1),g(null)},y={transform:"scale(1.01)"};return(0,d.jsxs)("div",{className:"horizontal-scroll-wrapper",children:[h.map(((e,r)=>o?(0,d.jsx)("a",{onClick:()=>{return r=e,console.log(r),g(r),void m(!0);var r},children:(0,d.jsx)(t.Z,{style:{marginRight:"0.5rem"},component:"li",sx:{height:300,width:534,"&:hover":{...y}},children:(0,d.jsx)(l.Z,{children:(0,d.jsx)("img",{src:e,loading:"lazy",alt:"Studio image"})})},r)},r):(0,d.jsx)("a",{href:`#/studio/${e.id}`,children:(0,d.jsx)(c.Z,{data:e,img_src:e.iconUrl},e.id)},r))),(0,d.jsx)(a.Z,{open:u,onClose:p,children:x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z,{sx:{padding:0},children:(0,d.jsx)("img",{src:x,alt:"Image",style:{maxWidth:"100%",height:"auto"}})}),(0,d.jsx)(s.Z,{sx:{"&:hover":{backgroundColor:"#735EAB",color:"white"}},onClick:p,children:"Close"})]})})]})}},21204:(e,r,o)=>{"use strict";o.d(r,{Z:()=>p});o(72791);var n=o(92552),t=o(84654),a=o(28658),i=o(69597),s=o(18625),l=o(83168),c=o(36314),d=o(59434),h=o(60717),u=o(83708),m=o(97310),x=o(17237),g=o(80184);function p(e){let{img_src:r,data:o}=e;const p=(0,d.v9)(h.w),y=o.id?o.id:o.studioId,b={backgroundColor:p?"#444":"white",padding:"0px",color:p?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,g.jsxs)(t.Z,{variant:"solid",sx:{...b,"&:hover":{transform:"scale(1.01)"}},children:[(0,g.jsxs)(n.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,g.jsx)("img",{src:o&&o.iconUrl?o.iconUrl:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg",loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",height:"auto",overflow:"hidden"}}),(0,g.jsx)(c.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:o&&o.danceStyles&&"string"===typeof o.danceStyles?o.danceStyles.split(",").slice(0,3).map(((e,r)=>(0,g.jsx)(i.Z,{color:r%2===0?"danger":"success",sx:{marginBottom:"10px",fontSize:"0.8rem",bgcolor:u.lt[r].backgroundColor,color:u.lt[r].color},children:e.trim()},r))):(0,g.jsx)(i.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)})]}),(0,g.jsxs)(a.Z,{style:{padding:"10px"},children:[(0,g.jsx)(s.Z,{href:`#/studio/${y}`,fontWeight:"bold",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,style:{color:p?"white":"black"},children:o&&o.studioName?o.studioName:"    "}),(0,g.jsx)(l.ZP,{style:{color:p?"white":"black"},level:"body-xs",children:o.street?o.street:".  "}),(0,g.jsx)(m.ZP,{hidden:!0,"aria-label":"Like minimal photography",size:"md",variant:"solid",color:"danger",sx:{position:"absolute",zIndex:2,borderRadius:"50%",right:"1rem",bottom:"2rem",transform:"translateY(50%)"},children:(0,g.jsx)(x.Z,{})}),(0,g.jsxs)(l.ZP,{style:{color:p?"white":"black"},children:["\u2b50 ",o&&o.avgRating?o.avgRating.toFixed(1):" Not rated yet"]})]})]})}},59894:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>H});var n=o(72791),t=o(89743),a=o(2677),i=o(95070),s=o(19275),l=o(83708),c=o(59434),d=o(60717),h=o(61224),u=o(68449),m=o(37645),x=o(57621),g=o(9585),p=o(93044),y=o(20890),b=o(20068),j=o(39504),f=o(18384),v=o(88447),Z=o(697),w=o(76989),S=o(94294),k=o(49644),C=o(68096),P=o(94925),N=o(68837),B=o(5022),D=o(93543),U=o(94070),O=o(51650),T=o(74569),I=o.n(T),W=o(32808),R=o.n(W),E=o(80184);const z="https://nrityaserver-2b241e0a97e5.herokuapp.com",A=e=>{let{open:r,onClose:o,userProfileInfo:t,setUserProfileInfo:a}=e;const{currentUser:i}=(0,h.a)(),s=O.W,[c,d]=(0,n.useState)([]),[m,x]=(0,n.useState)(),[g,p]=(0,n.useState)(!1),[b,j]=(0,n.useState)(""),[f,T]=(0,n.useState)((null===t||void 0===t?void 0:t.isPhoneNumberVerified)||!1),[W,A]=(0,n.useState)(!1),[V,L]=(0,n.useState)(!1),[_,F]=(0,n.useState)(""),[G,H]=(0,n.useState)("info");(0,n.useEffect)((()=>{t&&t.DanceStyles&&""!==t.DanceStyles&&d(t.DanceStyles),t&&t.PhoneNumber&&""!==t.setUserPhoneNumber&&x(t.PhoneNumber)}),[t]);const M=e=>{a({...t,[e.target.name]:e.target.value})},J=()=>{L(!1)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(v.Z,{open:r,onClose:o,style:{overflow:"scroll"},children:(0,E.jsxs)(Z.Z,{sx:{p:4,backgroundColor:"white",margin:"auto",mt:5,maxWidth:400,borderRadius:2},children:[(0,E.jsx)(y.Z,{variant:"h6",gutterBottom:!0,children:"Edit Profile"}),(0,E.jsx)(w.Z,{fullWidth:!0,label:"Name",name:"Name",value:t.Name,onChange:M,margin:"normal"}),(0,E.jsx)(w.Z,{fullWidth:!0,label:"Age",name:"Age",type:"number",value:t.Age,onChange:M,margin:"normal"}),(0,E.jsx)(w.Z,{fullWidth:!0,label:"Phone Number",name:"PhoneNumber",type:"number",value:t.PhoneNumber,onChange:M,margin:"normal",InputProps:{readOnly:f||t.isPhoneNumberVerified}}),f||t.isPhoneNumberVerified?(0,E.jsx)(y.Z,{color:"green",children:"Phone Number Verified"}):(0,E.jsx)(S.Z,{variant:"outlined",onClick:async()=>{try{if(200!==(await I().post(`${z}/djSms/request_otp/`,R().stringify({phone_number:t.PhoneNumber}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).status)throw new Error("Failed to send OTP.");A(!0),p(!0),F("OTP sent to your phone number."),H("info"),L(!0)}catch(e){console.error("Error sending OTP:",e),F("Error sending OTP, please try again."),H("error"),L(!0)}},children:W?"Resend OTP":"Verify Phone Number"}),(0,E.jsx)(k.Z,{multiple:!0,id:"tags-standard",options:s,value:c,onChange:(e,r)=>{d(r)},renderInput:e=>(0,E.jsx)(w.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:"white",color:"black"}})}),(0,E.jsxs)(C.Z,{fullWidth:!0,margin:"normal",children:[(0,E.jsx)(P.Z,{children:"Gender"}),(0,E.jsxs)(N.Z,{name:"Gender",value:t.Gender,onChange:M,children:[(0,E.jsx)(B.Z,{value:"Male",children:"Male"}),(0,E.jsx)(B.Z,{value:"Female",children:"Female"}),(0,E.jsx)(B.Z,{value:"Other",children:"Other"})]})]}),(0,E.jsx)(w.Z,{fullWidth:!0,label:"Bio",name:"Bio",value:t.Bio,onChange:M,multiline:!0,rows:4,margin:"normal"}),(0,E.jsxs)(Z.Z,{mt:2,display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(S.Z,{variant:"outlined",onClick:o,children:"Cancel"}),(0,E.jsx)(S.Z,{variant:"contained",onClick:async()=>{t.DanceStyles=c;await(0,u.gv)(l.Ul.USER,i.uid,t)&&(F("Profile Updated"),H("success"),L(!0))},children:"Save"})]})]})}),(0,E.jsx)(v.Z,{open:g,onClose:()=>p(!1),children:(0,E.jsxs)(Z.Z,{sx:{p:4,backgroundColor:"white",margin:"auto",mt:5,maxWidth:300,borderRadius:2},children:[(0,E.jsx)(y.Z,{variant:"h6",gutterBottom:!0,children:"Enter OTP"}),(0,E.jsx)(w.Z,{fullWidth:!0,label:"4-Digit OTP",value:b,onChange:e=>j(e.target.value),margin:"normal"}),(0,E.jsxs)(Z.Z,{mt:2,display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(S.Z,{variant:"outlined",onClick:()=>p(!1),children:"Cancel"}),(0,E.jsx)(S.Z,{variant:"contained",onClick:async()=>{try{const e=await I().post(`${z}/djSms/confirm_otp/`,R().stringify({phone_number:t.PhoneNumber,otp:b}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});console.log(e),e&&e.data&&"success"===e.data.status?(T(!0),a({...t,isPhoneNumberVerified:!0}),p(!1),(async()=>{(0,u.to)(l.Ul.USER,i.uid,t.PhoneNumber)})(),F("Phone number verified successfully."),H("success"),L(!0)):(F(e.message||"Invalid OTP."),H("error"),L(!0))}catch(e){console.error("Error verifying OTP:",e),F("Error verifying OTP, please try again."),H("error"),L(!0)}},children:"Submit OTP"})]})]})}),(0,E.jsx)(D.Z,{open:V,autoHideDuration:600,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:J,children:(0,E.jsx)(U.Z,{onClose:J,severity:G,sx:{width:"100%"},children:_})})]})};var V=o(9806),L=o(12481),_=o(11632),F=o(87472),G=o(10159);const H=function(){const[e,r]=(0,n.useState)(!1),[o,v]=(0,n.useState)({Name:"",Age:"",DanceStyles:"",Gender:"",Bio:""}),Z=(0,c.v9)(d.w),{currentUser:w}=(0,h.a)();console.log("currentUser",w);const S=[["Transactions","All","#/transactions"],["My Bookings","All","#/myBookings"],["Instructors","Creator","#/modifyInstructors"],["Studios","Creator","#/modifyStudios"],["DashBoard","Creator","#/creatorDashboard"]],[k,C]=(0,n.useState)(!1),[P,N]=(0,n.useState)([]);S.sort(((e,r)=>e[0].localeCompare(r[0]))),(0,n.useEffect)((()=>{w&&w.uid&&(async e=>{try{const r=(0,L.JU)(G.db,l.Ul.USER,e),o=await(0,L.QT)(r),n=o.exists()?o.data().recentlyWatched:{},t=Object.values(n).map((async e=>{if(!e)return console.warn("Invalid studioId:",e),null;console.log("studioId",e);const r=(0,L.JU)(G.db,l.Ul.STUDIO,e),o=await(0,L.QT)(r);return o.exists()?{id:e,...o.data()}:(console.warn(`Studio document not found for ID: ${e}`),null)})),a=(await Promise.all(t)).filter((e=>null!==e));N(a)}catch(r){console.error("Error fetching recently watched studios:",r)}})(w.uid);(async()=>{try{const e=await(0,u.Ld)(l.Ul.USER,w.uid);e?(v({Name:e.Name||"",Age:e.Age||"",DanceStyles:e.DanceStyles||"",Gender:e.Gender||"",Bio:e.Bio||"",PhoneNumber:e.PhoneNumber||"",isPhoneNumberVerified:e.isPhoneNumberVerified||!1}),r(e.CreatorMode)):console.log("User not found but workshop created... error")}catch(e){console.log(" error")}})()}),[e]);const B={background:Z?"black":"white",color:Z?"white":"black",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"10px",cursor:"pointer"};return(0,E.jsxs)("div",{children:[(0,E.jsx)("h1",{style:{color:Z?"white":"black",textTransform:"capitalize"},children:"Profile"}),(0,E.jsxs)(x.Z,{sx:{maxWidth:400,background:Z?"black":"white",color:Z?"white":"black"},children:[(0,E.jsx)(g.Z,{avatar:(0,E.jsx)(p.Z,{alt:"Picture",src:w.photoURL,sx:{width:40,height:40}}),title:(0,E.jsxs)(y.Z,{variant:"h6",component:"div",sx:{display:"flex",color:Z?"white":"black",alignItems:"center"},children:[w.displayName,e&&(0,E.jsx)(b.Z,{title:"You are a verified user.",arrow:!0,children:(0,E.jsx)(f.Z,{sx:{color:"green",marginLeft:.5,fontSize:20}})})]}),subheader:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(y.Z,{variant:"body2",component:"div",sx:{color:Z?"white":"black"},children:[w.email,o.Age].filter(Boolean).join(" || ")}),o.DanceStyles&&(0,E.jsx)(y.Z,{variant:"body2",component:"div",sx:{mt:1,color:Z?"white":"black"},children:o.DanceStyles}),o.Bio&&(0,E.jsx)(y.Z,{variant:"body2",component:"div",sx:{mt:1,color:Z?"white":"black"},children:o.Bio})]}),subheaderTypographyProps:{sx:{color:Z?"gray":"darkgray"}}}),(0,E.jsx)(s.Z,{sx:{ml:2},variant:"outlined",onClick:()=>{C(!0)},children:"Edit Profile"}),(0,E.jsx)(A,{open:k,onClose:()=>{C(!1)},userProfileInfo:o,setUserProfileInfo:v}),(0,E.jsx)(j.Z,{children:(0,E.jsx)(y.Z,{variant:"body2",color:"text.secondary",style:{color:Z?"white":"black"},children:e?"List your studios now!!":"Welcome to the Nritya! \n Verify your profile to list your studio."})})]}),(0,E.jsx)("br",{}),(0,E.jsx)(t.Z,{children:S.map((r=>{let[o,n,t]=r;return"Creator"!==n||e?(0,E.jsx)(a.Z,{xs:12,sm:6,md:6,lg:3,xl:3,className:"mb-4",children:(0,E.jsx)("a",{href:t,children:(0,E.jsx)(i.Z,{style:B,children:(0,E.jsx)(i.Z.Body,{children:(0,E.jsx)(i.Z.Title,{children:o})})})})},o):null}))}),(0,E.jsx)(m.default,{}),(0,E.jsxs)(t.Z,{children:[P.length>0&&(0,E.jsxs)("h4",{style:{color:Z?"white":"black"},children:[" ",(0,E.jsx)(V.G,{icon:_.SZw,size:"1x"})," Recently Viewed"]}),P.length>0?(0,E.jsx)(F.default,{dataList:P,imgOnly:!1}):""]})]})}},24654:()=>{},51650:e=>{"use strict";e.exports=JSON.parse('{"W":["Kuchipudi","Swing","Irish Dance","Folk Dance","Street Dance","Breaking","Voguing","House Dance","Bachata","Ballet","Ballroom","Belly Dance","Bhangra","Bharatanatyam","Bihu","Bollywood","Bollyhop","Butoh","Capoeira","Chhau","Clogging","Contemporary","Dandiya Raas","Flamenco","Garba","Giddha","Heels","Hip Hop","Irish Step Dance","Jazz","Jive","Kathak","Kathakali","Kizomba","Krumping","Lavani","Line Dance","Locking","Lyrical Hip-Hop","Manipuri","Modern Dance","Mohiniyattam","Odissi","Polynesian Dance","Popping","Rouf","Salsa","Sattriya","Tango","Tap Dance","Vogue","Waacking","Whacking","Zumba"]}')}}]);
//# sourceMappingURL=1069.1796ec0d.chunk.js.map