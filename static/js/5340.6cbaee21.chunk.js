"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[5340],{26953:(e,t,a)=>{a.d(t,{Z:()=>s});a(72791);var l=a(21204),r=a(80184);const s=e=>{let{studio:t}=e;return(0,r.jsx)("a",{href:`#/studio/${t.id}`,children:(0,r.jsx)(l.Z,{data:t,img_src:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg"})})}},21204:(e,t,a)=>{a.d(t,{Z:()=>g});a(72791);var l=a(92552),r=a(84654),s=a(28658),o=a(69597),n=a(18625),i=a(83168),d=a(36314),c=a(59434),u=a(60717),h=a(83708),m=a(97310),x=a(17237),b=a(80184);function g(e){let{img_src:t,data:a}=e;const g=(0,c.v9)(u.w),j=a.id?a.id:a.studioId,p={backgroundColor:g?"#444":"white",padding:"0px",color:g?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,b.jsxs)(r.Z,{variant:"solid",sx:{...p,"&:hover":{transform:"scale(1.01)"}},children:[(0,b.jsxs)(l.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,b.jsx)("img",{src:a&&a.iconUrl?a.iconUrl:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg",loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",height:"auto",overflow:"hidden"}}),(0,b.jsx)(d.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:a&&a.danceStyles&&"string"===typeof a.danceStyles?a.danceStyles.split(",").slice(0,3).map(((e,t)=>(0,b.jsx)(o.Z,{color:t%2===0?"danger":"success",sx:{marginBottom:"10px",fontSize:"0.8rem",bgcolor:h.lt[t].backgroundColor,color:h.lt[t].color},children:e.trim()},t))):(0,b.jsx)(o.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)})]}),(0,b.jsxs)(s.Z,{style:{padding:"10px"},children:[(0,b.jsx)(n.Z,{href:`#/studio/${j}`,fontWeight:"md",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,style:{color:g?"white":"black",extDecoder:"one"},children:a&&a.studioName?a.studioName:"    "}),(0,b.jsx)(i.ZP,{style:{color:g?"white":"black"},level:"body-xs",children:a.street?a.street:".  "}),(0,b.jsx)(m.ZP,{hidden:!0,"aria-label":"Like minimal photography",size:"md",variant:"solid",color:"danger",sx:{position:"absolute",zIndex:2,borderRadius:"50%",right:"1rem",bottom:"2rem",transform:"translateY(50%)"},children:(0,b.jsx)(x.Z,{})}),(0,b.jsxs)(i.ZP,{style:{color:g?"white":"black"},children:["\u2b50 ",a&&a.avgRating?a.avgRating.toFixed(1):" Not rated yet"]})]})]})}},75340:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var l=a(72791),r=a(89743),s=a(2677),o=a(10159),n=a(12481),i=a(83708),d=a(13855),c=a(94294),u=a(62591),h=a(43360),m=a(59135),x=a(95316),b=a(80184);const g=e=>{var t;let{show:a,handleClose:l,handleSelect:o,defaultTime:n}=e;const i=n.split("-")[0].trim(),c=null===(t=n.split("-")[1])||void 0===t?void 0:t.trim(),u=e=>{console.log(e);const t=(()=>{const e=[];let t=[],a=[];for(let l=0;l<24;l++)for(let e=0;e<60;e+=15){const r=l.toString().padStart(2,"0"),s=e.toString().padStart(2,"0"),o=`${r}:${s}`;if(l<12)t.push(`${o} AM`);else{const e=(l-12).toString().padStart(2,"0");a.push(`${e}:${s} PM`)}}for(let l=0;l<t.length||l<a.length;l++)l<t.length&&e.push(t[l]),l<a.length&&e.push(a[l]);return e})();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:e,children:e}),t.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})};return(0,b.jsxs)(x.Z,{show:a,onHide:l,children:[(0,b.jsx)(x.Z.Header,{closeButton:!0,children:(0,b.jsx)(x.Z.Title,{children:"Select Time"})}),(0,b.jsx)(x.Z.Body,{children:(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(s.Z,{children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"Start Time"}),(0,b.jsx)(d.Z.Control,{as:"select",onChange:e=>o(e.target.value,null),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:u(i)})]})}),(0,b.jsx)(s.Z,{children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"End Time"}),(0,b.jsx)(d.Z.Control,{as:"select",onChange:e=>o(null,e.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:u(c)})]})})]})}),(0,b.jsx)(x.Z.Footer,{children:(0,b.jsx)(h.Z,{onClick:l,children:"Save"})})]})};var j=a(51650),p=a(49644),y=a(76989),v=a(14481);a(31896),a(36682);const Z=["M","T","W","Th","F","St","Sn"];const k=function(e){let{tableData:t=[],setTableData:a,instructorNamesWithIds:r}=e;const[s,o]=(0,l.useState)(!1),[n,i]=(0,l.useState)(null),[c,x]=(0,l.useState)(null),k=j.W,[S,f]=(0,l.useState)("00:00-00:00"),w=(e,t,l)=>{a((a=>{"days"===t&&(l=Array.isArray(l)?l.join(","):l);const r=[...a];return r[e][t]=l,r}))},C=()=>{o(!1),i(null)},N=(e,t)=>{a((a=>{const l=[...a];if(null!==n&&l[n]){const a=l[n].time;if(void 0!==a){const[r,s]=a.split(" - ");null!==e&&(l[n].time=`${e} - ${s}`),null!==t&&(l[n].time=`${r} - ${t}`)}}return l})),x(n)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(u.Z,{bordered:!0,variant:"light",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{padding:"0.6rem"},children:"Class Name"}),(0,b.jsx)("th",{style:{padding:"0.6rem"},children:"Dance Forms"}),(0,b.jsx)("th",{style:{padding:"0.6rem"},children:"Days"}),(0,b.jsx)("th",{style:{padding:"0.6rem"},children:"Time"}),(0,b.jsx)("th",{style:{padding:"0.6rem"},children:"Instructors"}),(0,b.jsx)("th",{style:{padding:"0.6rem"},children:"Fee"}),(0,b.jsx)("th",{style:{padding:"0.6rem"},children:"Level"}),(0,b.jsx)("th",{style:{padding:"0.6rem"},children:(0,b.jsx)(h.Z,{variant:"primary",onClick:()=>{a((e=>[...e,{className:"",danceForms:"",days:"",time:"00:00 - 00:00",instructors:[],fee:"",level:"",status:""}]))},children:(0,b.jsx)(m.wEH,{})})})]})}),(0,b.jsx)("tbody",{children:t.map(((e,l)=>{var u;return(0,b.jsxs)("tr",{className:c===l?"selected-row":"",children:[(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},type:"text",value:e.className,onChange:e=>w(l,"className",e.target.value)})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.danceForms,onChange:e=>w(l,"danceForms",e.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select a dance form"}),k.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})}),(0,b.jsx)("td",{style:{padding:"0rem"},className:"m-0 p-0",children:(0,b.jsx)(v.N,{value:e.days&&e.days.split(",").filter((e=>""!==e)),onChange:e=>w(l,"days",e.target.value),options:Z,placeholder:"class days",maxSelectedLabels:7,className:"w-full md:w-20rem"})}),(0,b.jsxs)("td",{style:{padding:"0rem"},children:[(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white"},type:"text",value:e.time,onClick:()=>((e,t)=>{f(t),i(e),o(!0)})(l,e.time)}),s&&(0,b.jsx)(g,{show:s,handleClose:C,handleSelect:N,defaultTime:(null===(u=t[n])||void 0===u?void 0:u.time)||"00:00-00:00"})]}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsx)(p.Z,{multiple:!0,id:"tags-standard",options:r,value:e.instructors,onChange:(e,t)=>w(l,"instructors",t),renderInput:e=>(0,b.jsx)(y.Z,{...e,variant:"standard",placeholder:"Select Instructors"})})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white"},type:"text",value:e.fee,onChange:e=>w(l,"fee",e.target.value)})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.level,onChange:e=>w(l,"level",e.target.value),children:["     ",(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,b.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,b.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,b.jsx)("option",{value:"Misc",children:"Misc"})]})}),(0,b.jsx)("td",{style:{padding:"0.6rem"},children:(0,b.jsx)(h.Z,{variant:"danger",onClick:()=>(e=>{a((t=>{const a=[...t];return a.splice(e,1),a}))})(l),children:(0,b.jsx)(m.iFH,{})})})]},l)}))})]})})};var S=a(81018),f=a(2040),w=a(20382),C=a(7993);const N=["places"];const I=()=>(0,b.jsx)("div",{style:{position:"relative",textAlign:"center"},children:(0,b.jsx)(m.Nh4,{style:{color:"green",fontSize:"24px"}})}),O=function(e){let{selectedLocation:t,setSelectedLocation:a}=e;const[r,s]=(0,l.useState)(t||{lat:0,lng:0}),[o,n]=(0,l.useState)(""),i="AIzaSyAAPq5IMotbu90TZAEtyj8qgYyVJoROzsQ";return(0,l.useEffect)((()=>{t&&s(t)}),[t]),(0,b.jsx)(C.KJ,{googleMapsApiKey:i,libraries:N,children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("br",{}),(0,b.jsx)(w.ZP,{value:o,onChange:e=>n(e),onSelect:async e=>{const t=await(0,w.NU)(e),l=await(0,w.WV)(t[0]);n(e),s(l),a(l)},children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:l,loading:r}=e;return(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{...t({placeholder:"Enter address...",className:"location-search-input",style:{height:"40px",fontSize:"16px",width:"100%"}})}),(0,b.jsxs)("div",{className:"autocomplete-dropdown-container",children:[r&&(0,b.jsx)("div",{children:"Loading..."}),a.map((e=>{const t=e.active?"suggestion-item--active":"suggestion-item";return(0,b.jsx)("div",{...l(e,{className:t}),children:(0,b.jsx)("span",{children:e.description})})}))]})]})}}),(0,b.jsx)("br",{})]}),(0,b.jsx)("div",{style:{height:"400px",width:"100%"},children:(0,b.jsx)(f.ZP,{bootstrapURLKeys:{key:i},defaultCenter:r,center:r,defaultZoom:16,onClick:e=>{let{lat:t,lng:l}=e;a({lat:t,lng:l})},children:(0,b.jsx)(I,{lat:t&&t.lat?t.lat:0,lng:t&&t.lng?t.lng:0,text:"Selected Location"})})})]})})};var L=a(59434),A=a(60717),E=a(82873),T=a(67107),D=a(44507),U=a(4708),F=a(63875),P=a(74512),H=a(15825);const J=e=>{let{StudioId:t}=e;return(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("div",{className:"row justify-content-center",children:(0,b.jsxs)("div",{className:"col-md-12",children:[" ",(0,b.jsxs)("div",{className:"_success message-box",children:[(0,b.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),(0,b.jsx)("h3",{children:"Your Studio registration was successful"}),(0,b.jsxs)("p",{children:[t," is now registered \ud83c\udf89"]})]})]})}),(0,b.jsx)("hr",{}),(0,b.jsx)("style",{jsx:!0,children:"\n        ._success {\n          padding: 45px;\n          width: 100%;\n          text-align: center;\n          margin: 30px auto;\n        }\n\n        ._success i {\n          font-size: 55px;\n          color: #28a745;\n        }\n\n        ._success h2 {\n          margin-bottom: 12px;\n          font-size: 30px;\n          font-weight: 300;\n          line-height: 1.2;\n          margin-top: 10px;\n        }\n\n        ._success p {\n          margin-bottom: 0px;\n          font-size: 18px;\n          color: #495057;\n          font-weight: 100;\n        }\n      "})]})},M=e=>{const t=(new TextEncoder).encode(e);return String.fromCharCode(...t)};const $=function(e){let{instructors:t}=e;const[a,u]=(0,l.useState)(""),[h,m]=(0,l.useState)([{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",status:""}]),[x,g]=(0,l.useState)(null),v=(0,L.v9)(A.w),[Z,f]=(0,l.useState)([]),[w,C]=(0,l.useState)([]),[N,I]=(0,l.useState)([]),$=t.map((e=>`${e.name} - ${e.id}`)),[V,B]=(0,l.useState)(!1),R=E.c,_=j.W,W=Object.keys(i.QP).map(String),[z,G]=(0,l.useState)(0),Y=()=>{G((e=>e+1))},Q=()=>{G((e=>e-1))},K=(0,T.Z)({palette:{mode:v?"dark":"light"}});return(0,l.useEffect)((()=>{!async function(){const e=document.getElementById("addStudioForm");try{const t=(0,n.IO)((0,n.hJ)(o.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),a=await(0,n.PL)(t);if(a.empty)await(0,n.ET)((0,n.hJ)(o.db,i.i0.DRAFT_STUDIOS),{studioName:e.studioName.value,aboutStudio:e.aboutStudio.value,founderName:e.founderName.value,aboutFounder:e.aboutFounder.value,mobileNumber:e.mobileNumber.value,whatsappNumber:e.whatsappNumber.value,mailAddress:e.mailAddress.value,danceStyles:w.join(","),numberOfHalls:e.numberOfHalls.value,maximumOccupancy:e.maximumOccupancy.value,instructorsNames:Z,status:"OPEN",tableData:{0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:""}},buildingName:e.buildingName.value,street:e.street.value,city:e.city.value,landmark:e.landmark.value,pincode:e.pincode.value,state:e.state.value,country:"India",geolocation:x,aadharNumber:e.aadharNumber.value,gstNumber:e.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:!0,addAmenities:N.join(","),enrollmentProcess:M(e.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:e.instagram.value,facebook:e.facebook.value,youtube:e.youtube.value,twitter:e.twitter.value,visibilty:1});else{let t=[];a.forEach((e=>{t.push({id:e.id,...e.data()})}));let l=t[0];e.studioName.value=l.studioName,e.aboutStudio.value=l.aboutStudio,e.founderName.value=l.founderName,e.aboutFounder.value=l.aboutFounder,e.mobileNumber.value=l.mobileNumber,e.whatsappNumber.value=l.whatsappNumber,e.mailAddress.value=l.mailAddress,C(l.danceStyles.length?l.danceStyles.split(","):[]),e.numberOfHalls.value=l.numberOfHalls,e.maximumOccupancy.value=l.maximumOccupancy,f(l.instructorsNames),e.buildingName.value=l.buildingName,e.street.value=l.street,e.city.value=l.city,e.landmark.value=l.landmark,e.pincode.value=l.pincode,e.state.value=l.state,g(l.geolocation),e.aadharNumber.value=l.aadharNumber,e.gstNumber.value=l.gstNumber,m(Object.values(l.tableData)),I(l.addAmenities.length?l.addAmenities.split(","):[]),e.enrollmentProcess.value=(e=>{const t=e.split("").map((e=>e.charCodeAt(0)));return(new TextDecoder).decode(new Uint8Array(t))})(l.enrollmentProcess),e.instagram.value=l.instagram,e.facebook.value=l.facebook,e.youtube.value=l.youtube,e.twitter.value=l.twitter}B(!0)}catch(t){console.error(t)}}()}),[]),(0,l.useEffect)((()=>{let e=null;return V&&async function(){const t=document.getElementById("addStudioForm");try{const a=(0,n.IO)((0,n.hJ)(o.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),l=await(0,n.PL)(a);if(!l.empty){let a=[];l.forEach((e=>{a.push({id:e.id,...e.data()})}));let r=a[0];const s=(0,n.JU)(o.db,i.i0.DRAFT_STUDIOS,r.id);e=setInterval((async()=>{try{const e=h.reduce(((e,t,a)=>(e[a]=t,e)),{});await(0,n.r7)(s,{studioName:t.studioName.value,aboutStudio:t.aboutStudio.value,founderName:t.founderName.value,aboutFounder:t.aboutFounder.value,mobileNumber:t.mobileNumber.value,whatsappNumber:t.whatsappNumber.value,mailAddress:t.mailAddress.value,danceStyles:w.join(","),numberOfHalls:t.numberOfHalls.value,maximumOccupancy:t.maximumOccupancy.value,instructorsNames:Z,status:"OPEN",tableData:e,buildingName:t.buildingName.value,street:t.street.value,city:t.city.value,landmark:t.landmark.value,pincode:t.pincode.value,state:t.state.value,country:"India",geolocation:x,aadharNumber:t.aadharNumber.value,gstNumber:t.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:!0,addAmenities:N.join(","),enrollmentProcess:M(t.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:t.instagram.value,facebook:t.facebook.value,youtube:t.youtube.value,twitter:t.twitter.value,visibilty:1})}catch(e){console.error(e)}}),1e4)}}catch(a){console.error(a)}}(),()=>clearInterval(e)}),[V,w,Z,h,x,N]),(0,b.jsxs)("div",{children:[(0,b.jsx)(F.Z,{activeStep:z,alternativeLabel:!0,children:["Basic Studio & Owner details","Instructors, Classes & Social Media","Address & Registration","Studio Icon","Studio & Class Images"].map((e=>(0,b.jsx)(P.Z,{children:(0,b.jsx)(H.Z,{children:(0,b.jsx)("p",{style:{color:v?"white":"black"},children:e})})},e)))}),(0,b.jsxs)("div",{hidden:z>2,children:[(0,b.jsx)(d.Z,{id:"addStudioForm",onSubmit:async e=>{e.preventDefault();if(!e.target.studioName.value)return;const t=h.reduce(((e,t,a)=>(e[a]=t,e)),{});try{const a=await(0,n.ET)((0,n.hJ)(o.db,i.Ul.STUDIO),{studioName:e.target.studioName.value,aboutStudio:e.target.aboutStudio.value,founderName:e.target.founderName.value,aboutFounder:e.target.aboutFounder.value,mobileNumber:e.target.mobileNumber.value,whatsappNumber:e.target.whatsappNumber.value,mailAddress:e.target.mailAddress.value,danceStyles:w.join(","),numberOfHalls:e.target.numberOfHalls.value,maximumOccupancy:e.target.maximumOccupancy.value,instructorsNames:Z,status:"OPEN",tableData:t,buildingName:e.target.buildingName.value,street:e.target.street.value,city:e.target.city.value,landmark:e.target.landmark.value,pincode:e.target.pincode.value,state:e.target.state.value,country:"India",geolocation:x,aadharNumber:e.target.aadharNumber.value,gstNumber:e.target.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:true,addAmenities:N.join(","),enrollmentProcess:M(e.target.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:e.target.instagram.value,facebook:e.target.facebook.value,youtube:e.target.youtube.value,twitter:e.target.twitter.value,visibilty:1});u(a.id);const l=(0,n.JU)(o.db,"User",JSON.parse(localStorage.getItem("userInfo")).UserId),r=await(0,n.QT)(l);r.exists()&&null!=r.data()&&await(0,n.r7)(l,{StudioCreated:[...r.data().StudioCreated,a.id]}),(async()=>{try{const e=(0,n.IO)((0,n.hJ)(o.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),t=await(0,n.PL)(e);if(!t.empty){let e=[];t.forEach((t=>{e.push({id:t.id,...t.data()})}));let a=e[0];const l=(0,n.JU)(o.db,i.i0.DRAFT_STUDIOS,a.id);await(0,n.oe)(l)}}catch(e){console.error(e)}})(),Y()}catch(a){console.error("Error adding studio: ",a)}},style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:(0,b.jsxs)(d.Z.Group,{controlId:"formBasicAdd",children:[(0,b.jsxs)("div",{hidden:0!==z,children:[(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Basic Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Studio Name"}),(0,b.jsx)(d.Z.Control,{rows:1,style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"studioName"}),(0,b.jsx)(d.Z.Label,{children:"About Studio"}),(0,b.jsx)(d.Z.Control,{rows:6,style:{minHeight:"10rem",backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",placeholder:"Enter studio's details",name:"aboutStudio"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Founder's Name"}),(0,b.jsx)(d.Z.Control,{rows:1,style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"textarea",placeholder:"Enter founder name",name:"founderName"}),(0,b.jsx)(d.Z.Label,{children:"About Founder"}),(0,b.jsx)(d.Z.Control,{rows:6,style:{minheight:"10rem",backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",placeholder:"Enter founder's details",name:"aboutFounder"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Contact Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mobile Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter mobile number",name:"mobileNumber",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"WhatsApp Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter whatsapp number",name:"whatsappNumber",type:"number"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mail Address"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"email",rows:1,placeholder:"Enter mail address",name:"mailAddress"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Studio Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Dance Styles"}),(0,b.jsxs)(D.Z,{theme:K,children:[(0,b.jsx)(U.ZP,{}),(0,b.jsx)(p.Z,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},multiple:!0,id:"tags-standard",options:_,value:w,onChange:(e,t)=>{C(t)},renderInput:e=>(0,b.jsx)(y.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:v?"#333333":"",color:v?"white":"black"}})})]}),(0,b.jsx)(d.Z.Label,{children:"Number of Hall(s)"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Number of Hall(s)",name:"numberOfHalls",type:"number"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Maximum Occupancy"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Maximum Occupancy",name:"maximumOccupancy",type:"number"})]})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(s.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},disabled:!0,children:"Prev"})}),(0,b.jsx)(s.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>Y(),children:"Next"})})]})]}),(0,b.jsxs)("div",{hidden:1!==z,children:[(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Instructor Details"}),(0,b.jsx)(d.Z.Label,{children:"Names of Instructors"}),(0,b.jsx)(r.Z,{children:(0,b.jsxs)(D.Z,{theme:K,children:[(0,b.jsx)(U.ZP,{}),(0,b.jsx)(p.Z,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},multiple:!0,id:"tags-standard",options:$,value:Z,onChange:(e,t)=>{f(t)},renderInput:e=>(0,b.jsx)(y.Z,{...e,variant:"standard",placeholder:"Select Instructors",style:{backgroundColor:v?"#333333":"",color:v?"white":"black"}})})]})}),(0,b.jsx)("a",{href:"#/modifyInstructors",rel:"noreferrer",target:"_blank",style:{textDecoration:"none",color:v?"cyan":"blue"},children:"Go to Instrcutors' Add/update Page?"}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Class Schedule"}),(0,b.jsx)("span",{children:"Time Table Of dance classes"}),(0,b.jsx)(k,{tableData:h,setTableData:m,instructorNamesWithIds:$}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Additional Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Owner's Aadhar Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"number",rows:1,placeholder:"Enter aadhar Number",name:"aadharNumber"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"GST Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"GST Number",name:"gstNumber"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Add Amenities"}),(0,b.jsxs)(D.Z,{theme:K,children:[(0,b.jsx)(U.ZP,{}),(0,b.jsx)(p.Z,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},multiple:!0,id:"tags-standard",options:W,value:N,onChange:(e,t)=>{I(t)},renderInput:e=>(0,b.jsx)(y.Z,{...e,variant:"standard",placeholder:"Select Amenities",style:{backgroundColor:v?"#333333":"",color:v?"white":"black"}})})]})]})]}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(d.Z.Label,{children:"Enrollment Process"}),(0,b.jsx)(d.Z.Control,{rows:12,style:{height:"150px",backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",placeholder:"Enrollment Process",name:"enrollmentProcess"})]}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Social Media Links"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Instagram"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"Instagram Link",name:"instagram"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Facebook"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"Facebook Link",name:"facebook"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"YouTube"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"YouTube Link",name:"youtube"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Twitter"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"Twitter Link",name:"twitter"})]})]}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(s.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>Q(),children:"Prev"})}),(0,b.jsx)(s.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>Y(),children:"Next"})})]})]}),(0,b.jsxs)("div",{hidden:2!==z,children:[(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Address Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Building Name"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",rows:1,placeholder:"Enter building name",name:"buildingName"}),(0,b.jsx)(d.Z.Label,{children:"Street"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",rows:1,placeholder:"Enter street",name:"street"}),(0,b.jsx)(d.Z.Label,{children:"City"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{backgroundColor:v?"#333333":"",color:v?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},name:"city",children:[(0,b.jsx)("option",{value:"",children:"Select a city"}),R.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Landmark"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter landmark",name:"landmark"}),(0,b.jsx)(d.Z.Label,{children:"Pincode"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter pincode",name:"pincode",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"State"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter state",name:"state"})]}),(0,b.jsx)(d.Z.Label,{children:"Save exact Address"}),(0,b.jsx)(O,{selectedLocation:x,setSelectedLocation:g})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(s.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>Q(),children:"Prev"})}),(0,b.jsx)(s.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black",color:"white"},type:"submit",children:"Add Studio & Next"})})]})]})]})}),""===a?"":(0,b.jsxs)("p",{children:["New Studio Created with id ",a,". Now u can upload images regarding them"]})]}),(0,b.jsxs)("div",{hidden:3!==z,children:[(0,b.jsx)(S.Z,{entityId:a,title:"Studio Icon",storageFolder:i.Rb.STUDIOICON,maxImageCount:1}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(s.Z,{xs:12,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>Y(),children:"Next"})})})]}),(0,b.jsxs)("div",{hidden:4!==z,children:[(0,b.jsx)(S.Z,{entityId:a,title:"Studio Images",storageFolder:i.Rb.STUDIOIMAGES}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(s.Z,{xs:12,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>Y(),children:"Next"})})})]}),(0,b.jsxs)("div",{hidden:5!==z,style:{display:"flex",alignItems:"center",height:"auto"},children:[(0,b.jsx)(J,{StudioId:a}),(0,b.jsx)("br",{})]}),(0,b.jsx)("br",{})]})};var V=a(47022),B=a(30018);const R=e=>{let{type:t="info",message:a="Default message",timeOfDisplay:r=5e3,fontSize:s="16px",fontWeight:o="normal",fontStyle:n="normal"}=e;const[i,d]=(0,l.useState)(!0);return(0,l.useEffect)((()=>{const e=setTimeout((()=>{d(!1)}),r);return()=>{clearTimeout(e)}}),[r]),(0,b.jsx)(V.Z,{children:i&&(0,b.jsx)(B.Z,{variant:t,style:{fontSize:s,fontWeight:o,fontStyle:n,textAlign:"center",marginTop:"10px",marginBottom:"0"},onClose:()=>d(!1),dismissible:!0,children:a})})},_=["M","T","W","Th","F","St","Sn"],W=e=>{const t=(new TextEncoder).encode(e);return String.fromCharCode(...t)},z=e=>{const t=e.split("").map((e=>e.charCodeAt(0)));return(new TextDecoder).decode(new Uint8Array(t))};const G=function(e){let{studio:t,setStudio:a,studioId:c,setStudioId:x,instructors:Z}=e;const[k,f]=(0,l.useState)(null),[w,C]=(0,l.useState)(null),[N,I]=(0,l.useState)([]),[F,P]=(0,l.useState)(-1),[H,J]=(0,l.useState)([]),[M,$]=(0,l.useState)(!1),[V,B]=(0,l.useState)(null),[G,Y]=(0,l.useState)(null),[Q,K]=(0,l.useState)("00:00-00:00"),q=E.c,X=j.W,ee=Object.keys(i.QP).map(String),[te,ae]=(0,l.useState)(!1),[le,re]=(0,l.useState)(!1),[se,oe]=(0,l.useState)(null),[ne,ie]=(0,l.useState)([]),de=(0,L.v9)(A.w),ce=Z.map((e=>`${e.name} - ${e.id}`)),ue=(0,T.Z)({palette:{mode:de?"dark":"light"}}),[he,me]=(0,l.useState)({0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:""}}),xe=()=>{$(!1),B(null)},be=(e,t)=>{me((a=>{const l={...a};if(null!==V&&l[V]){const a=l[V].time;if(void 0!==a){const[r,s]=a.split(" - ");null!==e&&(l[V].time=`${e} - ${s}`),null!==t&&(l[V].time=`${r} - ${t}`)}}return l})),Y(V)};(0,l.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("StudioCreated"))||[];a(e);const t=e.map((e=>`${e.studioName} : ${e.id}`));x(t)}),[]),(0,l.useEffect)((()=>{if(k&&(I(k.instructorsNames),k&&k.danceStyles&&ie(k.danceStyles.split(",")),k&&k.addAmenities&&J(k.addAmenities.split(",")),k&&k.tableData)){const e=Math.max(...Object.keys(he).map(Number));P(e)}}),[k]);const ge=(e,t,a)=>{me((l=>("days"===t&&(a=Array.isArray(a)?a.join(","):a),{...l,[e]:{...l[e],[t]:a}})))};return(0,b.jsxs)("div",{style:{backgroundColor:de?"#202020":"",color:de?"white":"black"},children:[(0,b.jsx)("br",{}),(0,b.jsxs)(d.Z,{id:"updateStudioForm",onSubmit:async e=>{e.preventDefault();const t=e.target.nameId.value,a=t.lastIndexOf(":"),l=t.substring(a+1).trim();if(l){try{const t=(0,n.JU)(o.db,i.Ul.STUDIO,l);await(0,n.r7)(t,{studioName:e.target.studioName.value,aboutStudio:e.target.aboutStudio.value,founderName:e.target.founderName.value,aboutFounder:e.target.aboutFounder.value,mobileNumber:e.target.mobileNumber.value,whatsappNumber:e.target.whatsappNumber.value,mailAddress:e.target.mailAddress.value,danceStyles:ne.join(","),numberOfHalls:e.target.numberOfHalls.value,maximumOccupancy:e.target.maximumOccupancy.value,instructorsNames:N,status:"OPEN",tableData:he,buildingName:e.target.buildingName.value,street:e.target.street.value,city:e.target.city.value,landmark:e.target.landmark.value,pincode:e.target.pincode.value,state:e.target.state.value,country:"India",geolocation:se,aadharNumber:e.target.aadharNumber.value,gstNumber:e.target.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,addAmenities:H.join(","),enrollmentProcess:W(e.target.enrollmentProcess.value),instagram:e.target.instagram.value,facebook:e.target.facebook.value,youtube:e.target.youtube.value,twitter:e.target.twitter.value}),alert("Studio Update successfully"),ae(!0),re(!1)}catch(r){console.error("Error updating studio: ",r),ae(!1),re(!0)}document.getElementById("updateStudioForm").reset()}},children:[(0,b.jsxs)(d.Z.Group,{controlId:"formBasicUpdate",children:[(0,b.jsx)(d.Z.Label,{children:"Id"}),(0,b.jsxs)(d.Z.Control,{as:"select",name:"nameId",style:{backgroundColor:de?"#333333":"",color:de?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},onChange:async e=>{e.preventDefault();const t=e.target.value.split(":").pop().trim();C(t);try{const e=await(0,n.QT)((0,n.JU)(o.db,i.Ul.STUDIO,t));if(e.exists){if(f(e.data()),e.data().geolocation){const t=e.data().geolocation;oe(t)}if(e.data().tableData){me(e.data().tableData);const t=Math.max(...Object.keys(he).map(Number));F(t)}else me({0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:""}})}else f(null)}catch(a){console.error("Error fetching studio data:",a,t)}},children:[(0,b.jsx)("option",{value:"",children:"Select a studio..."}),c&&c.length>0?c.map((e=>(0,b.jsx)("option",{value:e,children:e},e))):(0,b.jsx)("option",{value:"",children:"No studio yet!"})]})]}),(0,b.jsx)("h3",{style:{backgroundColor:de?"#202020":"",color:de?"white":"black"},children:"Basic Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Studio Name"}),(0,b.jsx)(d.Z.Control,{rows:1,defaultValue:k?k.studioName:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"studioName"}),(0,b.jsx)(d.Z.Label,{children:"About Studio"}),(0,b.jsx)(d.Z.Control,{rows:6,defaultValue:k?k.aboutStudio:"",style:{minHeight:"150px",backgroundColor:de?"#333333":"",color:de?"white":"black"},as:"textarea",placeholder:"Enter studio details",name:"aboutStudio"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Founder's Name"}),(0,b.jsx)(d.Z.Control,{rows:1,defaultValue:k?k.founderName:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"founderName"}),(0,b.jsx)(d.Z.Label,{children:"About Founder"}),(0,b.jsx)(d.Z.Control,{rows:6,defaultValue:k?k.aboutFounder:"",style:{height:"150px",backgroundColor:de?"#333333":"",color:de?"white":"black"},as:"textarea",placeholder:"Enter studio details",name:"aboutFounder"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:de?"#202020":"",color:de?"white":"black"},children:"Contact Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mobile Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.mobileNumber:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},rows:1,placeholder:"Enter studio details",name:"mobileNumber",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"WhatsApp Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.whatsappNumber:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},rows:1,placeholder:"Enter studio details",name:"whatsappNumber",type:"number"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mail Address"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.mailAddress:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},type:"textarea",rows:1,placeholder:"Enter studio details",name:"mailAddress"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:de?"#202020":"",color:de?"white":"black"},children:"Studio Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Dance Styles"}),(0,b.jsxs)(D.Z,{theme:ue,children:[(0,b.jsx)(U.ZP,{}),(0,b.jsx)(p.Z,{style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},multiple:!0,id:"tags-standard",options:X,value:ne,onChange:(e,t)=>{ie(t)},renderInput:e=>(0,b.jsx)(y.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"}})})]}),(0,b.jsx)(d.Z.Label,{children:"Number of Hall(s)"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.numberOfHalls:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},rows:1,placeholder:"Number of Hall(s)",name:"numberOfHalls",type:"number"})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Maximum Occupancy"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.maximumOccupancy:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},rows:1,placeholder:"Maximum Occupancy",name:"maximumOccupancy",type:"number"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:de?"#202020":"",color:de?"white":"black"},children:"Instructor Details"}),(0,b.jsx)(d.Z.Label,{children:"Names of Instructors"}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(s.Z,{xs:6,children:(0,b.jsx)("div",{style:{backgroundColor:de?"#202020":"",color:de?"white":"black"},children:(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(D.Z,{theme:ue,children:[(0,b.jsx)(U.ZP,{}),(0,b.jsx)(p.Z,{style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},multiple:!0,id:"tags-standard",options:ce,value:N,onChange:(e,t)=>{I(t)},renderInput:e=>(0,b.jsx)(y.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"}})})]}),(0,b.jsx)("a",{href:"#/modifyInstructors",rel:"noreferrer",target:"_blank",style:{textDecoration:"none",color:de?"cyan":"blue"},children:"Go to Instrcutors' Add/update Page?"})]})})})}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:de?"#202020":"",color:de?"white":"black"},children:"Address Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Building Name"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.buildingName:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},as:"textarea",rows:1,placeholder:"Enter building name",name:"buildingName"}),(0,b.jsx)(d.Z.Label,{children:"Street"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.street:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},as:"textarea",rows:1,placeholder:"Enter street",name:"street"}),(0,b.jsx)(d.Z.Label,{children:"City"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{backgroundColor:de?"#333333":"",color:de?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},name:"city",value:k?k.city:"",onChange:e=>{const t=e.target.value;f((e=>({...e,city:t})))},children:[(0,b.jsx)("option",{value:"",children:"Select a city"}),q.map(((e,t)=>(0,b.jsx)("option",{value:e,children:e},t)))]})]}),(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Landmark"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.landmark:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},as:"textarea",rows:1,placeholder:"Enter landmark",name:"landmark"}),(0,b.jsx)(d.Z.Label,{children:"Pincode"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.pincode:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},as:"textarea",rows:1,placeholder:"Enter pincode",name:"pincode",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"State"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.state:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},as:"textarea",rows:1,placeholder:"Enter state",name:"state"})]}),(0,b.jsx)(d.Z.Label,{children:"Save exact Address"}),(0,b.jsx)(O,{selectedLocation:k&&k.geolocation?k.geolocation:se,setSelectedLocation:oe})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:de?"#202020":"white",color:de?"white":"black"},children:"Additional Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Owner's Aadhar Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.aadharNumber:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},type:"number",rows:1,placeholder:"Enter aadhar Number",name:"aadharNumber"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"GST Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.gstNumber:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},type:"number",rows:1,placeholder:"GST Number",name:"gstNumber"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Add Amenities"}),(0,b.jsxs)(D.Z,{theme:ue,children:[(0,b.jsx)(U.ZP,{}),(0,b.jsx)(p.Z,{style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},multiple:!0,id:"tags-standard",options:ee,value:H,onChange:(e,t)=>{J(t)},renderInput:e=>(0,b.jsx)(y.Z,{...e,variant:"standard",placeholder:"Select Amenities",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"}})})]})]})]}),(0,b.jsx)(r.Z,{children:(0,b.jsxs)(s.Z,{children:[(0,b.jsx)(d.Z.Label,{children:"Enrollment Process"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?z(k.enrollmentProcess):"",rows:6,style:{height:"150px",backgroundColor:de?"#333333":"",color:de?"white":"black"},as:"textarea",placeholder:"Enrollment Process",name:"enrollmentProcess"})]})}),(0,b.jsx)("br",{}),(0,b.jsx)("span",{children:"Time Table Of dance classes"}),(0,b.jsxs)(u.Z,{bordered:!0,variant:"light",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Class Name"}),(0,b.jsx)("th",{children:"Dance Forms"}),(0,b.jsx)("th",{children:"Days"}),(0,b.jsx)("th",{children:"Time"}),(0,b.jsx)("th",{children:"Instructors"}),(0,b.jsx)("th",{children:"Fee"}),(0,b.jsx)("th",{children:"Level"}),(0,b.jsx)("th",{style:{paddingLeft:0,paddingRight:0},children:(0,b.jsx)(h.Z,{variant:"primary",onClick:()=>{me((e=>{const t=Object.keys(e).length;return{...e,[t]:{...he[0]}}}))},children:(0,b.jsx)(m.wEH,{})})})]})}),(0,b.jsx)("tbody",{children:Object.keys(he).map(((e,t)=>{var a;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{type:"text",value:he[e].className,onChange:t=>ge(e,"className",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"}})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{as:"select",value:he[e].danceForms,onChange:t=>ge(e,"danceForms",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:[(0,b.jsx)("option",{value:"",children:"Select a dance form"}),X.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(v.N,{value:he[e]&&he[e].days&&he[e].days.split(",").filter((e=>""!==e)),onChange:t=>ge(e,"days",t.target.value),options:_,placeholder:"class days",maxSelectedLabels:7,className:"w-full md:w-20rem",style:{color:"#000",width:"100%"}})}),(0,b.jsxs)("td",{style:{padding:"0rem"},children:[(0,b.jsx)(d.Z.Control,{type:"text",value:he[e].time,onClick:()=>((e,t)=>{K(t),B(e),$(!0)})(e,he[e].time)}),M&&(0,b.jsx)(g,{show:M,handleClose:xe,handleSelect:be,defaultTime:(null===(a=he[V])||void 0===a?void 0:a.time)||"00:00-00:00"})]}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsx)(p.Z,{multiple:!0,options:ce,value:he[e]&&he[e].instructors?he[e].instructors:[],onChange:(t,a)=>ge(e,"instructors",a),renderInput:e=>(0,b.jsx)(y.Z,{...e,variant:"standard",placeholder:"Select Instructors"})})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{type:"text",value:he[e].fee?he[e].fee:"",onChange:t=>ge(e,"fee",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"}})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{as:"select",value:he[e].level?he[e].level:"",onChange:t=>ge(e,"level",t.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:[(0,b.jsx)("option",{value:"",children:"Select a Level"}),(0,b.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,b.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,b.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,b.jsx)("option",{value:"Misc",children:"Misc"})]})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(h.Z,{variant:"danger",onClick:()=>(e=>{me((t=>{const a={...t};return delete a[e],a}))})(e),children:(0,b.jsx)(m.iFH,{})})})]},e)}))})]}),(0,b.jsx)("br",{}),(0,b.jsx)("h3",{style:{backgroundColor:de?"#202020":"",color:de?"white":"black"},children:"Social Media Links"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Instagram"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.instagram:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},type:"text",rows:1,placeholder:"Instagram Link",name:"instagram"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Facebook"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.facebook:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},type:"text",rows:1,placeholder:"Facebook Link",name:"facebook"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"YouTube"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.youtube:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},type:"text",rows:1,placeholder:"YouTube Link",name:"youtube"})]}),(0,b.jsxs)(s.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Twitter"}),(0,b.jsx)(d.Z.Control,{defaultValue:k?k.twitter:"",style:{backgroundColor:de?"#333333":"",color:de?"white":"black"},type:"text",rows:1,placeholder:"Twitter Link",name:"twitter"})]})]}),(0,b.jsx)("br",{}),(0,b.jsx)(h.Z,{style:{backgroundColor:de?"#892CDC":"black",color:"white"},type:"submit",children:"Update Studio"})]}),c&&c.length>0&&w&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{children:(0,b.jsx)(S.Z,{entityId:w,title:"Studio Images",storageFolder:i.Rb.STUDIOIMAGES,maxImageCount:10})}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{children:(0,b.jsx)(S.Z,{entityId:w,title:"Studio Icon",storageFolder:i.Rb.STUDIOICON,maxImageCount:1})}),(0,b.jsx)("div",{children:(0,b.jsx)(S.Z,{entityId:w,title:"Studio Announcement Images",storageFolder:i.Rb.STUDIOANNOUNCEMENTS,maxImageCount:10})}),(0,b.jsx)("br",{})]}),te&&(0,b.jsx)(R,{type:"info",message:"Studio Updated successfully",timeOfDisplay:3e3,fontSize:"10px",fontWeight:"bold"}),le&&(0,b.jsx)(R,{type:"warning",message:"Studio Update failed",timeOfDisplay:3e3,fontSize:"10px",fontWeight:"bold"})]})};var Y=a(61224),Q=a(26953),K=a(43896),q=a(83449),X=a(47283),ee=a(82851),te=a(697);const ae=function(){const[e,t]=(0,l.useState)([]),[a,d]=(0,l.useState)([]),c=(0,L.v9)(A.w),[u,h]=(0,l.useState)([]),[m,x]=(0,l.useState)(!1),[g,j]=(0,l.useState)(-1),{currentUser:p}=(0,Y.a)(),[y,v]=l.useState("1");return(0,l.useEffect)((()=>{console.log("Creator Studio getCreatorMode");(async e=>{try{const e=(0,n.JU)(o.db,"User",p.uid),t=await(0,n.QT)(e);t.exists()?(console.log("User there",t.data(),t.data().CreatorMode,JSON.parse(localStorage.getItem("userInfoFull"))),null!=t.data()?(x(t.data().CreatorMode),j(t.data().isPremium),console.log("Premium Till",g,t.data())):console.log("userSnap.data() null")):console.log("User not found but workshop created... error")}catch(t){console.log(" error")}})()}),[m]),(0,l.useEffect)((()=>{console.log("Creator Studio fetchInstructors");(async()=>{let e=null;if(JSON.parse(localStorage.getItem("userInfo"))&&JSON.parse(localStorage.getItem("userInfo")).UserId&&(e=JSON.parse(localStorage.getItem("userInfo")).UserId),!e)return console.log("User not found"),void alert("User not found");const t=(0,n.hJ)(o.db,i.Ul.INSTRUCTORS),a=(0,n.IO)(t,(0,n.ar)("createdBy","==",e)),l=await(0,n.PL)(a),r=[];l.forEach((e=>{r.push({id:e.id,name:e.data().name})})),console.log("Hiii",r),h(r)})()}),[]),(0,l.useEffect)((()=>{console.log("Creator Studio getStudioCreated");(async()=>{const l=(0,n.IO)((0,n.hJ)(o.db,i.Ul.STUDIO),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId));console.log("Hiiii",JSON.parse(localStorage.getItem("userInfo")).UserId);const r=await(0,n.PL)(l);console.log("Studios : ",r);const s=r.docs.filter((e=>e.data().studioName)).map((e=>{const t=e.data();return{id:e.id,...t}}));localStorage.setItem("StudioCreated",JSON.stringify(s)),t(s),d(s.map((e=>String(e.studioName)+" :"+String(e.id)))),console.log(e),console.log("studioId",a)})()}),[t]),(0,l.useEffect)((()=>{console.log("Creator Studio setStudioId");const l=JSON.parse(localStorage.getItem("StudioCreated"))||[];t(l);const r=l.map((e=>`${e.studioName} : ${e.id}`));d(r),console.log("studio:",e),console.log("studioId",a)}),[d]),console.log("studio :",e),(0,b.jsxs)("div",{children:[(0,b.jsx)("br",{}),m?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(te.Z,{sx:{width:"100%",typography:"body1"},children:(0,b.jsxs)(q.ZP,{value:y,children:[(0,b.jsx)(te.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,b.jsxs)(X.Z,{style:{color:c?"white":"black"},onChange:(e,t)=>{v(t)},"aria-label":"lab API tabs example",children:[(0,b.jsx)(K.Z,{style:{color:c?"white":"black"},label:"Add Studio",value:"1"}),(0,b.jsx)(K.Z,{style:{color:c?"white":"black"},label:"Update Studio",value:"2"})]})}),(0,b.jsx)(ee.Z,{value:"1",children:(0,b.jsx)($,{instructors:u})}),(0,b.jsx)(ee.Z,{value:"2",children:(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(G,{studio:e,setStudio:t,instructors:u,studioId:a,setStudioId:d})})})]})})}):"",(0,b.jsx)("h3",{style:{color:c?"white":"black"},children:"Your Studios:"}),(0,b.jsxs)("ul",{children:[(0,b.jsx)(r.Z,{xs:1,md:3,lg:4,className:"g-4",children:e.length>0?e.map(((e,t)=>(0,b.jsx)(s.Z,{children:(0,b.jsx)("a",{href:`#/studio/${e.studioId}`,style:{textDecoration:"none"},children:(0,b.jsx)(Q.Z,{studio:e})})},t))):(0,b.jsx)("p",{style:{color:c?"white":"black"},children:"No studio yet!"})}),(0,b.jsx)("br",{})]})]})}}}]);
//# sourceMappingURL=5340.6cbaee21.chunk.js.map