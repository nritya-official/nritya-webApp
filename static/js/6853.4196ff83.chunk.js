"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[6853],{46022:(e,o,r)=>{r.d(o,{Z:()=>s});r(72791);var t=r(697),n=r(80184);const s=e=>{let{youtubeId:o,imageUrl:r,altText:s}=e;return o?(0,n.jsx)(t.Z,{sx:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",borderRadius:"8px"},children:(0,n.jsx)(t.Z,{component:"iframe",src:`https://www.youtube.com/embed/${o}?autoplay=1&mute=1`,title:s||"Workshop Video",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0,borderRadius:"8px"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):(0,n.jsx)(t.Z,{component:"img",src:r,alt:s||"Workshop Image",sx:{width:"100%",height:"auto",objectFit:"cover",borderRadius:"8px"}})}},66853:(e,o,r)=>{r.r(o),r.d(o,{default:()=>Z});var t=r(72791),n=r(697),s=r(13239),l=r(61889),a=r(20890),i=r(36314),c=r(94294),d=r(81918),h=r(13400),u=r(5574),g=r(65661),f=r(39157),x=r(79836),p=r(56890),b=r(35855),m=r(53994),C=r(53382),S=r(97123),E=r(57689),I=r(59434),k=r(83708),O=r(68449),j=r(60717),R=r(59135),w=r(75424),y=r(18406),N=r(49071),v=r(10884),U=r(46022),T=r(80184);const Z=function(){var e,o,r,Z,A,P,D;const{courseId:_}=(0,E.UO)();console.log("From CourseFullPage,",_);const L=(0,E.s0)(),$=(0,w.D)(),B=(0,I.v9)(j.w),[M,F]=(0,t.useState)(null),[W,G]=(0,t.useState)(null),[H,K]=(0,t.useState)(1),[V,J]=(0,t.useState)(!1),Y=null===(e=JSON.parse(localStorage.getItem("userInfo")))||void 0===e?void 0:e.UserId,z=null===(o=JSON.parse(localStorage.getItem("userInfo")))||void 0===o?void 0:o.email,q=W&&H?W.price*H+k.rM.INTERNET_CONV_CHARGES_WORKSHOPS_COURSES_INR:0;if(console.log("CourseFullPage before useEffect"),(0,t.useEffect)((()=>{_&&((async()=>{console.log("CourseFullPage fetchData");try{const e=await(0,O.Ld)(k.Ul.COURSES,_);if(console.log("CourseFullPage fetchData data",e),G(e),console.log("CourseFullPage before useEffect",e),e&&e.StudioId){const o=await(0,O.Ld)(k.Ul.STUDIO,e.StudioId);G((e=>({...e,studioDetails:o})))}}catch(e){console.error("Error fetching workshop data:",e),$("Failed to load workshop details.","error")}})(),(async()=>{try{const e=await(0,O.Us)(k.Rb.COURSEICON,_);F(e||"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg")}catch(e){console.error("Error fetching image URL:",e),F("https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg")}})())}),[_,$]),!W)return(0,T.jsx)(n.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,T.jsx)(s.Z,{color:"primary"})});const Q=encodeURIComponent("Hey, I found your Studio on nritya.co.in. I'm interested"),X=()=>{J(!1)};return(0,T.jsxs)(n.Z,{sx:{padding:"0rem",minHeight:"100vh",color:B?"white":"black"},children:[(0,T.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,T.jsx)(l.ZP,{item:!0,xs:12,lg:8,children:(0,T.jsx)(U.Z,{youtubeId:W.youtubeId,imageUrl:M,altText:W.courseName||W.workshopName})}),(0,T.jsx)(l.ZP,{item:!0,xs:12,lg:4,children:(0,T.jsxs)(n.Z,{sx:{bgcolor:B?"black":"#efefef",p:3,borderRadius:"8px",display:"flex",flexDirection:"column",height:"100%",justifyContent:"space-between"},children:[(0,T.jsxs)(n.Z,{children:[(0,T.jsx)(a.Z,{variant:"h4",style:{color:B?"white":"black",textTransform:"none",textDecoration:"none"},children:W.courseName||W.workshopName||"Open Class Name"}),(0,T.jsx)("br",{}),(0,T.jsx)(a.Z,{variant:"subtitle ",style:{color:B?"white":"black"},children:W.date}),(0,T.jsx)("br",{}),(0,T.jsx)(a.Z,{variant:"subtitle",style:{color:B?"white":"black"},children:W.time}),(0,T.jsx)(a.Z,{variant:"body1",sx:{mt:"1rem",color:B?"white":"black"},children:W.city||"City"})]}),(0,T.jsxs)(n.Z,{sx:{mt:"2rem",display:"flex",flexDirection:"column",gap:"1rem",color:B?"white":"black"},children:[(0,T.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,T.jsxs)("tbody",{children:[(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{padding:"8px",color:B?"white":"black"},children:W&&W.price&&(0,T.jsx)("span",{children:"Price per person"})}),(0,T.jsx)("td",{style:{padding:"8px",color:B?"white":"black"},children:W&&W.price&&(0,T.jsxs)("span",{children:[" \u20b9",W.price]})})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{padding:"8px",color:B?"white":"black"},children:(0,T.jsx)("span",{sx:{color:B?"white":"black"},children:"Person(s)"})}),(0,T.jsx)("td",{style:{padding:"8px"},children:(0,T.jsx)(n.Z,{sx:{display:"flex",alignItems:"center",gap:"1rem"},children:(0,T.jsxs)(i.Z,{direction:"row",spacing:0,alignItems:"center",children:[(0,T.jsx)(c.Z,{variant:"contained",onClick:()=>K((e=>Math.max(e-1,1))),disabled:H<=1,sx:{flex:1,height:"40px",border:"1px solid",borderColor:B?"white":"black",color:"black",backgroundColor:"#fce4ec","&:hover":{backgroundColor:"#fce4ff",color:"black"}},children:(0,T.jsx)(R.iFH,{})}),(0,T.jsx)(c.Z,{variant:"contained",sx:{flex:1,height:"40px",border:"1px solid",borderColor:B?"white":"black",color:B?"white":"black",backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.2)"}},children:H}),(0,T.jsx)(c.Z,{variant:"contained",onClick:()=>K((e=>Math.min(e+1,k.rM.COURSES_BOOKING_LIMIT))),disabled:H>=k.rM.COURSES_BOOKING_LIMIT,sx:{flex:1,height:"40px",border:"1px solid",borderColor:B?"white":"black",color:"black",backgroundColor:"#fce4ec","&:hover":{backgroundColor:"#fce4ff",color:"black"}},children:(0,T.jsx)(R.wEH,{})})]})})})]})]})}),(0,T.jsx)(c.Z,{variant:"contained",onClick:async()=>{if(!Y)return $("Please login to book","warning"),void L("/login");try{const e={userId:Y,entityType:k.Ul.COURSES,courseId:_,associatedStudioId:W.StudioId,emailLearner:z,personsAllowed:H,pricePerPerson:W.price,internetConvCharges:k.rM.INTERNET_CONV_CHARGES_WORKSHOPS_COURSES_INR,totalPrice:q},o=await(0,y.C9)(e);if(o&&200===o.nSuccessCode)$("Workshop booked","success");else if(o&&205===o.nSuccessCode){const e=o.bookedAt,r=new Date(1e3*e).toLocaleString();$(`Workshop already booked at ${r}`,"info")}else{const e=o?`Error: ${JSON.stringify(o)}`:"An unknown error occurred.";$(e,"error")}}catch(e){console.error(e),$((null===e||void 0===e?void 0:e.message)||"Something went wrong","error")}},sx:{textTransform:"none",fontSize:16,padding:"8px 16px",backgroundColor:B?"white":"black",color:B?"black":"white","&:hover":{backgroundColor:B?"#f0f0f0":"#333333"}},children:Y?`Book Now @${q}`:"Login to Book"}),(0,T.jsx)(c.Z,{hidden:0===q,variant:"text",onClick:()=>{J(!0)},sx:{textTransform:"none",fontSize:16,color:B?"white":"black","&:hover":{backgroundColor:"transparent",textDecoration:"none"}},children:"Price Breakdown (i)"}),Y&&(0,T.jsx)(a.Z,{variant:"caption",sx:{mt:"0.5rem",textAlign:"center"},children:"Book and groove at the venue"})]})]})}),(0,T.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,T.jsx)(a.Z,{variant:"h4",style:{color:B?"white":"black",textTransform:"none",textDecoration:"none"},gutterBottom:!0,children:W.courseName||W.workshopName||"Open Class Name "}),(0,T.jsxs)(a.Z,{variant:"subtitle1",style:{color:B?"white":"black",textTransform:"none",textDecoration:"none"},gutterBottom:!0,children:["By ",(null===(r=W.studioDetails)||void 0===r?void 0:r.studioName)||"Studio Name",W.danceStyles&&W.danceStyles.length>0&&(0,T.jsxs)(T.Fragment,{children:[" ","| ",W.danceStyles.join(", ")]})]}),(0,T.jsx)(d.Z,{sx:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem",bgcolor:(null===(Z=k.RY[W.level])||void 0===Z?void 0:Z.backgroundColor)||"grey",color:(null===(A=k.RY[W.level])||void 0===A?void 0:A.color)||"white"},label:W.level}),(0,T.jsxs)(n.Z,{sx:{display:"flex",gap:"0.5rem",mb:"1rem",color:B?"white":"black"},children:[(null===(P=W.studioDetails)||void 0===P?void 0:P.whatsappNumber)&&(0,T.jsx)(h.Z,{color:"success",size:"small",target:"_blank",rel:"noopener noreferrer",href:`https://wa.me/91${W.studioDetails.whatsappNumber}?text=${Q}`,children:(0,T.jsx)(n.Z,{component:"img",src:N,alt:"WhatsApp",sx:{width:30,height:28}})}),(null===(D=W.studioDetails)||void 0===D?void 0:D.mobileNumber)&&(0,T.jsx)(h.Z,{color:"primary",size:"small",target:"_blank",rel:"noopener noreferrer",href:`tel:${W.studioDetails.mobileNumber}`,children:(0,T.jsx)(n.Z,{component:"img",src:v,alt:"Phone Call",sx:{width:30,height:28}})})]}),(0,T.jsx)(a.Z,{variant:"body1 ",style:{color:B?"white":"black"},children:W.description||"Workshop Description"})]})]}),(0,T.jsxs)(u.Z,{open:V,onClose:X,fullWidth:!0,maxWidth:"sm",children:[(0,T.jsx)(g.Z,{children:"Price Breakdown"}),(0,T.jsx)(f.Z,{children:(0,T.jsxs)(x.Z,{children:[(0,T.jsx)(p.Z,{children:(0,T.jsxs)(b.Z,{children:[(0,T.jsx)(m.Z,{children:(0,T.jsx)("strong",{children:"Item"})}),(0,T.jsx)(m.Z,{align:"right",children:(0,T.jsx)("strong",{children:"Amount (\u20b9)"})})]})}),(0,T.jsxs)(C.Z,{children:[(0,T.jsxs)(b.Z,{children:[(0,T.jsx)(m.Z,{children:"Price per Person"}),(0,T.jsx)(m.Z,{align:"right",children:W.price})]}),(0,T.jsxs)(b.Z,{children:[(0,T.jsx)(m.Z,{children:"Number of Persons"}),(0,T.jsx)(m.Z,{align:"right",children:H})]}),(0,T.jsxs)(b.Z,{children:[(0,T.jsx)(m.Z,{children:"Subtotal"}),(0,T.jsx)(m.Z,{align:"right",children:W.price*H})]}),(0,T.jsxs)(b.Z,{children:[(0,T.jsx)(m.Z,{children:"Internet Convenience Charges"}),(0,T.jsx)(m.Z,{align:"right",children:k.rM.INTERNET_CONV_CHARGES_WORKSHOPS_COURSES_INR})]}),(0,T.jsxs)(b.Z,{children:[(0,T.jsx)(m.Z,{children:(0,T.jsx)("strong",{children:"Total Price"})}),(0,T.jsx)(m.Z,{align:"right",children:(0,T.jsxs)("strong",{children:["\u20b9",q]})})]})]})]})}),(0,T.jsx)(S.Z,{children:(0,T.jsx)(c.Z,{onClick:X,variant:"outlined",children:"Close"})})]})]})}},83708:(e,o,r)=>{r.d(o,{A3:()=>x,DM:()=>d,QP:()=>p,RY:()=>h,Rb:()=>f,Ul:()=>g,i0:()=>l,lt:()=>u,n$:()=>s,rM:()=>i,uM:()=>c,zq:()=>a});var t=r(59135),n=r(80184);const s={SUBMITTED:"Submitted",UNDER_REVIEW:"Under Review",REVIEWED:"Reviewed",VERIFIED:"Verified",VERIFICATION_FAILED:"Verification Failed"},l={DRAFT_STUDIOS:"DraftStudios",DRAFT_WORKSHOPS:"DraftWorkshops",DRAFT_OPEN_CLASSES:"DraftOpenClasses",DRAFT_COURSES:"DraftCourses"},a={ALL:"All",BEGINNERS:"Beginner",INTERMEDIATE:"Intermediate",ADVANCED:"Advanced"},i={INTERNET_CONV_CHARGES_WORKSHOPS_COURSES_INR:30,WORKSHOPS_BOOKING_LIMIT:10,OPEN_CLASSES_BOOKING_LIMIT:2,COURSES_BOOKING_LIMIT:10},c={PROD:"https://nrityaserver-2b241e0a97e5.herokuapp.com/",LOCAL:"http://127.0.0.1:8000/"},d={GREEN:{backgroundColor:"#28a745",color:"#fff"},BLUE:{backgroundColor:"#007bff",color:"#fff"},YELLOW:{backgroundColor:"#ffc107",color:"#000"},RED:{backgroundColor:"#dc3545",color:"#fff"},PURPLE:{backgroundColor:"#6f42c1",color:"#fff"},ORANGE:{backgroundColor:"#fd7e14",color:"#fff"},TEAL:{backgroundColor:"#20c997",color:"#fff"},PINK:{backgroundColor:"#e83e8c",color:"#fff"},GRAY:{backgroundColor:"#6c757d",color:"#fff"},LIGHTBLUE:{backgroundColor:"#17a2b8",color:"#fff"},DARKBLUE:{backgroundColor:"#343a40",color:"#fff"},CYAN:{backgroundColor:"#00bcd4",color:"#fff"},INDIGO:{backgroundColor:"#6610f2",color:"#fff"},LIME:{backgroundColor:"#cddc39",color:"#000"},AMBER:{backgroundColor:"#ffca28",color:"#000"},BROWN:{backgroundColor:"#795548",color:"#fff"},LIGHTGREEN:{backgroundColor:"#8bc34a",color:"#000"},DEEPPURPLE:{backgroundColor:"#673ab7",color:"#fff"},DEEPORANGE:{backgroundColor:"#ff5722",color:"#fff"},BLACK:{backgroundColor:"#000000",color:"#fff"},WHITE:{backgroundColor:"#ffffff",color:"#000"},SILVER:{backgroundColor:"#c0c0c0",color:"#000"},GOLD:{backgroundColor:"#ffd700",color:"#000"},NAVY:{backgroundColor:"#001f3f",color:"#fff"},OLIVE:{backgroundColor:"#3d9970",color:"#fff"}},h={[a.ALL]:d.GREEN,[a.BEGINNERS]:d.BLUE,[a.INTERMEDIATE]:d.YELLOW,[a.ADVANCED]:d.RED},u=[d.PURPLE,d.ORANGE,d.TEAL,d.LIME],g={USER:"User",USER_KYC:"UserKyc",ADMIN:"Admin",REVIEWS:"Reviews",TRANSACTIONS:"Transactions",STUDIO:"Studio",INSTRUCTORS:"Instructors",FREE_TRIAL_BOOKINGS:"FreeTrialBookings",WORKSHOPS:"Workshops",OPEN_CLASSES:"OpenClasses",COURSES:"Courses",BOOKINGS:"Bookings"},f={STUDIOIMAGES:"StudioImages",STUDIOICON:"StudioIcon",STUDIOANNOUNCEMENTS:"StudioAnnouncements",USERIMAGE:"UserImage",INSTRUCTORIMAGES:"InstructorImages",WORKSHOPICON:"WorkshopIcon",WORKSHOPIMAGES:"WorkshopImages",OPENCLASSICON:"OpenClassIcon",COURSEICON:"CourseIcon",CREATORS_KYC_DOCUMENTS:"CreatorKycDocuments"},x="https://nrityaserver-2b241e0a97e5.herokuapp.com/",p={AC:(0,n.jsx)(t.l51,{}),"Free Wifi":(0,n.jsx)(t._0,{}),"RO Water":(0,n.jsx)(t.EXY,{}),Toilet:(0,n.jsx)(t.Iev,{}),"Power Backup":(0,n.jsx)(t.eKD,{}),"Fire Extinguisher":(0,n.jsx)(t.Ybg,{}),"First Aid Kit":(0,n.jsx)(t.FZx,{}),"CCTV Camera":(0,n.jsx)(t.KoQ,{}),"Card Payment":(0,n.jsx)(t.ypE,{}),"Parking Space":(0,n.jsx)(t.mxg,{})}},18406:(e,o,r)=>{r.d(o,{C9:()=>n});var t=r(83708);const n=async e=>{const o=`${t.uM.PROD}bookings/bookEntity/`;try{const r=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.userId,entityType:e.entityType,entityId:e.entityId,associatedStudioId:e.associatedStudioId,emailLearner:e.emailLearner,personsAllowed:e.personsAllowed,pricePerPerson:e.pricePerPerson})}),t=await r.json();return r.ok?(console.log("Booking successful:",t),t):(console.error("Booking failed:",t),t)}catch(r){return console.error("Error occurred while booking:",r),null}}},68449:(e,o,r)=>{r.d(o,{FV:()=>C,Km:()=>f,Ld:()=>d,Us:()=>c,XG:()=>S,Xt:()=>g,eg:()=>m,gv:()=>h,ih:()=>x,oM:()=>i,qS:()=>p,to:()=>u,xR:()=>b});var t=r(12481),n=r(10159),s=r(30276),l=r(83708),a=r(644);const i=async e=>{console.log("creatorMode uid",e);try{const o=(0,t.JU)(n.db,l.Ul.USER,e),r=await(0,t.QT)(o);if(r.exists())if(null!=r.data()){const e=r.data().CreatorMode;console.log("setCreatorMode: Is User a creator?",e),a.Z.setItem("CreatorMode",e)}else console.log("userSnap.data() null");else console.log("User not found")}catch(o){console.log(" error",o)}},c=async(e,o)=>{console.log("Debug ",`${e}/${o}`);const r=`${e}/${o}`,t=(0,s.iH)(n.tO,r);try{const e=await(0,s.aF)(t);if(e.items.length>0){const o=e.items[0],r=await(0,s.Jt)(o);return console.log("Debug URL:",r),r}return console.log("Debug No files found in the folder."),null}catch(l){return console.error("Error getting image URL:",l),null}},d=async(e,o)=>{const r=(0,t.JU)(n.db,e,o),s=await(0,t.QT)(r);return s.exists()?s.data():null},h=async(e,o,r)=>{const s=(0,t.JU)(n.db,e,o);return await(0,t.pl)(s,r,{merge:!0}),r},u=async(e,o,r)=>{const s=(0,t.JU)(n.db,e,o);return await(0,t.r7)(s,{isPhoneNumberVerified:!0,phoneNumber:r}),!0},g=async(e,o,r)=>{const s=(0,t.JU)(n.db,e,o);return await(0,t.r7)(s,r),{id:o,...r}},f=async(e,o,r,s)=>{console.log("Hiii ",e,o,r,s);const l=(0,t.IO)((0,t.hJ)(n.db,e),(0,t.ar)(o,r,s));return(await(0,t.Yp)(l)).data().count},x=async(e,o)=>{const r=`${e}/${o}`,t=(0,s.iH)(n.tO,r),l=await(0,s.aF)(t);await Promise.all(l.items.map((async e=>{await(0,s.oq)(e)})))},p=async(e,o,r)=>{const t=`${e}/${o}/${r}`,l=(0,s.iH)(n.tO,t),a=await(0,s.aF)(l);await Promise.all(a.items.map((async e=>{await(0,s.oq)(e)})))},b=async function(e,o,r,t){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=o.length;let i=0;await Promise.all(o.map((async o=>{let c=`${e}/${r}/${o.filename}`;l&&(c=`${e}/${r}/${l}/${o.filename}`);const d=(0,s.iH)(n.tO,c);await(0,s.oq)(d),i+=1,t(i/a*100)})))},m=async function(e,o,r,t){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;console.log(e,r);const a=o.length;let i=0;await Promise.all(o.map((async o=>{let c=`${e}/${r}`;l&&(c=`${e}/${r}/${l}`);const d=(0,s.iH)(n.tO,`${c}/${o.file.name}`);await(0,s.KV)(d,o.file),i+=1,t(i/a*100)})))},C=async function(e,o,r){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=`${e}/${r}`;t&&(i=`${e}/${r}/${t}`),console.log(o,o.name);const c=(0,s.iH)(n.tO,`${i}/${o.name}`),d=(0,s.B0)(c,o);d.on("state_changed",(e=>{const o=e.totalBytes,r=e.bytesTransferred,t=o>0?(r/o*100).toFixed(2):-1;switch(l(t),console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(e=>{e.code}),(()=>{(0,s.Jt)(d.snapshot.ref).then((e=>{console.log("File available at",e),a(e)}))}))},S=async e=>{const o=`${e}`,r=(0,s.iH)(n.tO,o);try{const e=await(0,s.aF)(r);return await Promise.all(e.items.map((async e=>{const o=await(0,s.Jt)(e);return{id:e.name,filename:e.name,fileURL:o}})))}catch(t){throw console.error("Error retrieving images:",t),t}}},10884:(e,o,r)=>{e.exports=r.p+"static/media/india_11009487.98ac2ba43166eaa84593.png"},49071:(e,o,r)=>{e.exports=r.p+"static/media/whatsapp.8d81ece5885274edfd73.png"}}]);
//# sourceMappingURL=6853.4196ff83.chunk.js.map