"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[5340],{26953:(e,a,t)=>{t.d(a,{Z:()=>o});t(72791);var l=t(21204),r=t(80184);const o=e=>{let{studio:a}=e;return(0,r.jsx)("a",{href:`#/studio/${a.id}`,children:(0,r.jsx)(l.Z,{data:a,img_src:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg"})})}},81018:(e,a,t)=>{t.d(a,{Z:()=>y});var l=t(72791),r=t(6429),o=t.n(r),s=t(30276),n=t(10159),i=t(59434),d=t(60717),c=t(68449),u=t(57621),h=t(13400),m=t(39504),g=t(27247),x=t(75424),b=t(83708),p=t(80184);const j=e=>{let{entityId:a,storageFolder:t,title:r,maxImageCount:j=10,updateMode:y,disable:f}=e;(0,x.D)();const[v,S]=(0,l.useState)([]),[k,C]=(0,l.useState)([]),[w,N]=(0,l.useState)([]),[Z,I]=(0,l.useState)([]),O=(0,i.v9)(d.w),[A,E]=(0,l.useState)(-1),[T,D]=(0,l.useState)(-1);console.log("Kyc enitity id ",a,f);const L=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const t=a<0?0:a,l=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,l)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][l]};(0,l.useEffect)((()=>{a&&P(a)}),[a]),(0,l.useEffect)((()=>{if(j&&v.length>j){const e=v.slice(0,j);alert(`Exceeded maxImageCount, keeping first ${j} files.`),S(e)}}),[v,j]);const U=(e,a)=>{const t=e.map((e=>e.id)),l=a.map((e=>e.id));return{imagesToDelete:a.filter((e=>!t.includes(e.id))),newImages:e.filter((e=>!l.includes(e.id)))}},P=async e=>{S([]),N([]),I([]);try{const a=`${t}/${e}`;console.log(a);const l=(0,s.iH)(n.tO,a),r=await(0,s.aF)(l),o=await Promise.all(r.items.map((async e=>{const a=await(0,s.Jt)(e);return{id:e.name,filename:e.name,fileURL:a}})));C(o),S(o)}catch(a){console.error("Error fetching user images:",a)}};return(0,p.jsx)("div",{className:"fileupload-view",style:{display:"flex",width:"100%",justifyContent:"center"},children:(0,p.jsx)("div",{className:"row justify-content-center m-0",style:{flex:"1",justifyContent:"center"},children:(0,p.jsx)("div",{className:"col-md-6",style:{flex:"1",justifyContent:"center"},children:(0,p.jsx)("div",{className:"card mt-5",children:(0,p.jsxs)("div",{className:"card-body",style:{backgroundColor:O?"#333333":"white"},children:[(0,p.jsxs)("div",{className:"kb-data-box",children:[(0,p.jsx)("div",{className:"kb-modal-data-title",children:(0,p.jsxs)("div",{className:"kb-data-title",style:{justifyContent:"center",flex:"1"},children:[(0,p.jsx)("h4",{children:r}),(0,p.jsxs)("p",{children:["Max no of image(s):",j," ",t===b.Rb.STUDIOIMAGES&&(0,p.jsx)("p",{children:"Add at least 5 images"})]})]})}),(0,p.jsxs)("form",{style:{backgroundColor:O?"#333333":"white"},children:[(0,p.jsx)("div",{className:"kb-file-upload",children:(0,p.jsx)("div",{className:"file-upload-box",children:(0,p.jsx)("input",{type:"file",id:"fileupload",className:"file-upload-input",onChange:e=>{const a=Array.from(e.target.files),t=[];a.forEach((e=>{const l=new FileReader;l.onloadend=()=>{t.push({id:o().generate(),filename:e.name,filetype:e.type,fileimage:l.result,datetime:e.lastModifiedDate.toLocaleString("en-IN"),filesize:L(e.size),file:e}),t.length===a.length&&(S((e=>[...e,...t])),N(t))},l.readAsDataURL(e)}))},multiple:!0})})}),(0,p.jsx)("br",{}),(0,p.jsx)("div",{className:"kb-attach-box mb-3",children:(0,p.jsx)("div",{className:"row",children:a&&v.length>0?v.map((e=>(0,p.jsx)("div",{className:"col-6 col-md-3 mb-3",style:{position:"relative"},children:(0,p.jsx)(u.Z,{sx:{maxWidth:345},children:e.filename.match(/\.(jpg|jpeg|png|gif|svg)$/i)?(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)("img",{src:e.fileimage?e.fileimage:e.fileURL,alt:e.filename,className:"card-img-top",style:{maxHeight:"150px",objectFit:"cover"}}),(0,p.jsx)(h.Z,{"aria-label":"delete",disabled:f,onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this image?")){const a=v.find((a=>a.id===e));I((e=>[...e,a])),S((a=>a.filter((a=>a.id!==e))))}})(e.id),style:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.5)"},children:(0,p.jsx)(g.Z,{style:{color:"ff0000"}})})]}):(0,p.jsx)(m.Z,{children:(0,p.jsx)("i",{className:"far fa-file-alt"})})})},e.id))):(0,p.jsx)("div",{className:"col-12 text-center",children:(0,p.jsx)("p",{children:"No images selected"})})})}),(0,p.jsx)("div",{className:"kb-buttons-box",children:(0,p.jsx)("button",{type:"button",className:"btn form-submit",style:{backgroundColor:O?"#892CDC":"black",color:"white"},onClick:async()=>{if(a)try{if(1===j)await(0,c.ih)(t,a),await(0,c.eg)(t,w,a);else{const{imagesToDelete:e,newImages:l}=U(v,k);e.length>0&&await(0,c.xR)(t,e,a,E),l.length>0&&await(0,c.eg)(t,l,a,D)}}catch(e){console.error("Error uploading/deleting images:",e)}else alert("No studio selected")},disabled:f,children:"Image Upload"})})]}),v.length>0&&(0,p.jsx)("div",{className:"kb-attach-box",hidden:!0,children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("hr",{}),v.map((e=>(0,p.jsx)("div",{className:"col-6 col-md-3 mb-3",children:(0,p.jsx)("div",{className:"card",children:e.filename.match(/\.(jpg|jpeg|png|gif|svg)$/i)?(0,p.jsx)("img",{src:e.fileimage,alt:e.filename,className:"card-img-top",style:{maxHeight:"150px",objectFit:"cover"}}):(0,p.jsx)("div",{className:"card-body",children:(0,p.jsx)("i",{className:"far fa-file-alt"})})})},e.id)))]})})]}),A>=0&&(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{style:{color:O?"#fff":"#000"},children:["Deleting images... ",A.toFixed(2),"%"]}),(0,p.jsxs)("progress",{value:A,max:"100",style:{color:O?"#fff":"#000"},children:[A.toFixed(2),"%"]})]}),T>=0&&(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{style:{color:O?"#fff":"#000"},children:["Uploading images... ",T.toFixed(2),"%"]}),(0,p.jsxs)("progress",{value:T,max:"100",style:{color:O?"#fff":"#000"},children:[T.toFixed(2),"%"]})]})]})})})})})};j.defaultProps={maxImageCount:5,updateMode:!1,disable:!1};const y=j},21204:(e,a,t)=>{t.d(a,{Z:()=>b});t(72791);var l=t(92552),r=t(84654),o=t(28658),s=t(69597),n=t(18625),i=t(83168),d=t(36314),c=t(59434),u=t(60717),h=t(83708),m=t(97310),g=t(17237),x=t(80184);function b(e){let{img_src:a,data:t}=e;const b=(0,c.v9)(u.w),p=t.id?t.id:t.studioId,j={backgroundColor:b?"#444":"white",padding:"0px",color:b?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,x.jsxs)(r.Z,{variant:"solid",sx:{...j,"&:hover":{transform:"scale(1.01)"}},children:[(0,x.jsxs)(l.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,x.jsx)("img",{src:t&&t.iconUrl?t.iconUrl:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg",loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",height:"auto",overflow:"hidden"}}),(0,x.jsx)(d.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:t&&t.danceStyles&&"string"===typeof t.danceStyles?t.danceStyles.split(",").slice(0,3).map(((e,a)=>(0,x.jsx)(s.Z,{color:a%2===0?"danger":"success",sx:{marginBottom:"10px",fontSize:"0.8rem",bgcolor:h.lt[a].backgroundColor,color:h.lt[a].color},children:e.trim()},a))):(0,x.jsx)(s.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)}),(0,x.jsx)(d.Z,{direction:"row",spacing:2,style:{position:"absolute",top:0,left:0,padding:"1px",paddingTop:"1px"},children:t&&t.freeTrialAvailable&&(0,x.jsx)(s.Z,{sx:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem",bgcolor:h.DM.LIME.backgroundColor,color:h.DM.LIME.color},children:"Free Trial Available"},1)})]}),(0,x.jsxs)(o.Z,{style:{padding:"10px"},children:[(0,x.jsx)(n.Z,{href:`#/studio/${p}`,fontWeight:"bold",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,style:{color:b?"white":"black"},children:t&&t.studioName?t.studioName:"    "}),(0,x.jsx)(i.ZP,{style:{color:b?"white":"black"},level:"body-xs",children:t.street?t.street:".  "}),(0,x.jsx)(m.ZP,{hidden:!0,"aria-label":"Like minimal photography",size:"md",variant:"solid",color:"danger",sx:{position:"absolute",zIndex:2,borderRadius:"50%",right:"1rem",bottom:"2rem",transform:"translateY(50%)"},children:(0,x.jsx)(g.Z,{})}),(0,x.jsxs)(i.ZP,{style:{color:b?"white":"black"},children:[(0,x.jsxs)("span",{children:["\u2b50 ",t&&t.avgRating?t.avgRating.toFixed(1):"Not rated yet"]}),t&&t.minFee&&(0,x.jsxs)("span",{style:{position:"absolute",right:2},children:["  Starts @\u20b9",t.minFee]})]})]})]})}},75340:(e,a,t)=>{t.r(a),t.d(a,{default:()=>se});var l=t(72791),r=t(89743),o=t(2677),s=t(10159),n=t(12481),i=t(83708),d=t(13855),c=t(94294),u=t(57482),h=t(62591),m=t(43360),g=t(59135),x=t(95316),b=t(80184);const p=e=>{var a;let{show:t,handleClose:l,handleSelect:s,defaultTime:n}=e;const i=n.split("-")[0].trim(),c=null===(a=n.split("-")[1])||void 0===a?void 0:a.trim(),u=e=>{console.log(e);const a=(()=>{const e=[];let a=[],t=[];for(let l=0;l<24;l++)for(let e=0;e<60;e+=15){const r=l.toString().padStart(2,"0"),o=e.toString().padStart(2,"0"),s=`${r}:${o}`;if(l<12)a.push(`${s} AM`);else{const e=(l-12).toString().padStart(2,"0");t.push(`${e}:${o} PM`)}}for(let l=0;l<a.length||l<t.length;l++)l<a.length&&e.push(a[l]),l<t.length&&e.push(t[l]);return e})();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:e,children:e}),a.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})};return(0,b.jsxs)(x.Z,{show:t,onHide:l,children:[(0,b.jsx)(x.Z.Header,{closeButton:!0,children:(0,b.jsx)(x.Z.Title,{children:"Select Time"})}),(0,b.jsx)(x.Z.Body,{children:(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(o.Z,{children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"Start Time"}),(0,b.jsx)(d.Z.Control,{as:"select",onChange:e=>s(e.target.value,null),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:u(i)})]})}),(0,b.jsx)(o.Z,{children:(0,b.jsxs)(d.Z.Group,{children:[(0,b.jsx)(d.Z.Label,{children:"End Time"}),(0,b.jsx)(d.Z.Control,{as:"select",onChange:e=>s(null,e.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:u(c)})]})})]})}),(0,b.jsx)(x.Z.Footer,{children:(0,b.jsx)(m.Z,{onClick:l,children:"Save"})})]})};var j=t(51650),y=t(49644),f=t(76989),v=t(14481);t(31896),t(36682);const S=["M","T","W","Th","F","St","Sn"],k={Kids:"Kids",Adults:"Adults",Women_Only:"Women Only",Men_Only:"Men Only",Seniors:"Seniors",All:"All Ages, Open to All",Couples:"Couples",Families:"Families"};const C=function(e){let{tableData:a=[],setTableData:t,instructorNamesWithIds:r}=e;const[o,s]=(0,l.useState)(!1),[n,i]=(0,l.useState)(null),[c,u]=(0,l.useState)(null),x=j.W,[C,w]=(0,l.useState)("00:00-00:00"),N=(e,l,r)=>{t((t=>{"days"===l&&(r=Array.isArray(r)?r.join(","):r),console.log(a);const o=[...t];return o[e][l]=r,o}))},Z=()=>{s(!1),i(null)},I=(e,a)=>{t((t=>{const l=[...t];if(null!==n&&l[n]){const t=l[n].time;if(void 0!==t){const[r,o]=t.split(" - ");null!==e&&(l[n].time=`${e} - ${o}`),null!==a&&(l[n].time=`${r} - ${a}`)}}return l})),u(n)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(h.Z,{bordered:!0,variant:"light",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{style:{border:"1px solid black"},children:[(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Name"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Dance Form"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Days"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Time"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"20rem",border:"1px solid black"},children:"Instructors"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Fee (\u20b9)"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Level"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Free Trial"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Category"}),(0,b.jsx)("th",{style:{padding:"0rem"},children:(0,b.jsx)(m.Z,{variant:"primary",onClick:()=>{t((e=>[...e,{className:"",danceForms:"",days:"",time:"00:00 - 00:00",instructors:[],fee:"",level:"",status:"",freeTrial:!1,classCategory:[]}]))},children:(0,b.jsx)(g.wEH,{})})})]})}),(0,b.jsx)("tbody",{style:{border:"1px solid black"},children:a.map(((e,l)=>{var u;return(0,b.jsxs)("tr",{className:c===l?"selected-row":"",children:[(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},type:"text",value:e.className,onChange:e=>N(l,"className",e.target.value)})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.danceForms,onChange:e=>N(l,"danceForms",e.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select a dance form"}),x.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})}),(0,b.jsx)("td",{style:{padding:"0rem",minWidth:"15rem",border:"1px solid black"},className:"m-0 p-0",children:(0,b.jsx)(v.N,{value:e.days&&e.days.split(",").filter((e=>""!==e)),onChange:e=>N(l,"days",e.target.value),options:S,placeholder:"class days",maxSelectedLabels:7,className:"w-full md:w-20rem"})}),(0,b.jsxs)("td",{style:{padding:"0rem",border:"1px solid black"},children:[(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white"},type:"text",value:e.time,onClick:()=>((e,a)=>{w(a),i(e),s(!0)})(l,e.time)}),o&&(0,b.jsx)(p,{show:o,handleClose:Z,handleSelect:I,defaultTime:(null===(u=a[n])||void 0===u?void 0:u.time)||"00:00-00:00"})]}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,id:"tags-standard",options:r,value:e.instructors,onChange:(e,a)=>N(l,"instructors",a),renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Instructors"})})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsx)(d.Z.Control,{style:{backgroundColor:"white"},type:"text",value:e.fee,onChange:e=>N(l,"fee",e.target.value)})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.level,onChange:e=>N(l,"level",e.target.value),children:["     ",(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,b.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,b.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,b.jsx)("option",{value:"Misc",children:"Misc"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:e.level,onChange:e=>N(l,"level",e.target.value),children:["     ",(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:!0,children:"Yes"}),(0,b.jsx)("option",{value:!1,children:"No"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,id:"tags-standard",options:Object.values(k),value:e.classCategory.map((e=>k[e])),onChange:(e,a)=>{const t=a.map((e=>Object.keys(k).find((a=>k[a]===e))));N(l,"classCategory",t)},renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Class Category"})})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(m.Z,{variant:"danger",onClick:()=>(e=>{t((a=>{const t=[...a];return t.splice(e,1),t}))})(l),children:(0,b.jsx)(g.iFH,{})})})]},l)}))})]})})};var w=t(81018),N=t(2040),Z=t(20382),I=t(7993);const O=["places"];const A=()=>(0,b.jsx)("div",{style:{position:"relative",textAlign:"center"},children:(0,b.jsx)(g.Nh4,{style:{color:"green",fontSize:"24px"}})}),E=function(e){let{selectedLocation:a,setSelectedLocation:t}=e;const[r,o]=(0,l.useState)(a||{lat:0,lng:0}),[s,n]=(0,l.useState)(""),i="AIzaSyAAPq5IMotbu90TZAEtyj8qgYyVJoROzsQ";return(0,l.useEffect)((()=>{a&&o(a)}),[a]),(0,b.jsx)(I.KJ,{googleMapsApiKey:i,libraries:O,children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("br",{}),(0,b.jsx)(Z.ZP,{value:s,onChange:e=>n(e),onSelect:async e=>{const a=await(0,Z.NU)(e),l=await(0,Z.WV)(a[0]);n(e),o(l),t(l)},children:e=>{let{getInputProps:a,suggestions:t,getSuggestionItemProps:l,loading:r}=e;return(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{...a({placeholder:"Enter address...",className:"location-search-input",style:{height:"40px",fontSize:"16px",width:"100%"}})}),(0,b.jsxs)("div",{className:"autocomplete-dropdown-container",children:[r&&(0,b.jsx)("div",{children:"Loading..."}),t.map((e=>{const a=e.active?"suggestion-item--active":"suggestion-item";return(0,b.jsx)("div",{...l(e,{className:a}),children:(0,b.jsx)("span",{children:e.description})})}))]})]})}}),(0,b.jsx)("br",{})]}),(0,b.jsx)("div",{style:{height:"400px",width:"100%"},children:(0,b.jsx)(N.ZP,{bootstrapURLKeys:{key:i},defaultCenter:r,center:r,defaultZoom:16,onClick:e=>{let{lat:a,lng:l}=e;t({lat:a,lng:l})},children:(0,b.jsx)(A,{lat:a&&a.lat?a.lat:0,lng:a&&a.lng?a.lng:0,text:"Selected Location"})})})]})})};var T=t(59434),D=t(60717),L=t(82873),U=t(67107),P=t(44507),R=t(4708),F=t(63875),B=t(74512),M=t(15825);const H=e=>{let{StudioId:a}=e;return(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("div",{className:"row justify-content-center",children:(0,b.jsxs)("div",{className:"col-md-12",children:[" ",(0,b.jsxs)("div",{className:"_success message-box",children:[(0,b.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true"}),(0,b.jsx)("h3",{children:"Your Studio registration was successful"}),(0,b.jsxs)("p",{children:[a," is now registered \ud83c\udf89"]})]})]})}),(0,b.jsx)("hr",{}),(0,b.jsx)("style",{jsx:!0,children:"\n        ._success {\n          padding: 45px;\n          width: 100%;\n          text-align: center;\n          margin: 30px auto;\n        }\n\n        ._success i {\n          font-size: 55px;\n          color: #28a745;\n        }\n\n        ._success h2 {\n          margin-bottom: 12px;\n          font-size: 30px;\n          font-weight: 300;\n          line-height: 1.2;\n          margin-top: 10px;\n        }\n\n        ._success p {\n          margin-bottom: 0px;\n          font-size: 18px;\n          color: #495057;\n          font-weight: 100;\n        }\n      "})]})};var J=t(18406);const W=e=>{const a=(new TextEncoder).encode(e);return String.fromCharCode(...a)};const $=function(e){let{instructors:a}=e;const[t,h]=(0,l.useState)(""),[m,g]=(0,l.useState)([{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",status:"",freeTrial:!1,classCategory:[]}]),[x,p]=(0,l.useState)(null),v=(0,T.v9)(D.w),[S,k]=(0,l.useState)([]),[N,Z]=(0,l.useState)([]),[I,O]=(0,l.useState)([]),A=a.map((e=>`${e.name} - ${e.id}`)),[$,K]=(0,l.useState)(!1),[_,G]=(0,l.useState)(!1),V=L.c,z=j.W,Y=Object.keys(i.QP).map(String),[q,Q]=(0,l.useState)(0),X=()=>{Q((e=>e+1))},ee=()=>{Q((e=>e-1))},ae=(0,U.Z)({palette:{mode:v?"dark":"light"}});return(0,l.useEffect)((()=>{!async function(){const e=document.getElementById("addStudioForm");try{const a=(0,n.IO)((0,n.hJ)(s.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),t=await(0,n.PL)(a);if(t.empty)await(0,n.ET)((0,n.hJ)(s.db,i.i0.DRAFT_STUDIOS),{studioName:e.studioName.value,aboutStudio:e.aboutStudio.value,founderName:e.founderName.value,aboutFounder:e.aboutFounder.value,mobileNumber:e.mobileNumber.value,whatsappNumber:e.whatsappNumber.value,mailAddress:e.mailAddress.value,danceStyles:N.join(","),numberOfHalls:e.numberOfHalls.value,maximumOccupancy:e.maximumOccupancy.value,instructorsNames:S,status:"OPEN",tableData:{0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",freeTrial:!1,classCategory:[]}},buildingName:e.buildingName.value,street:e.street.value,city:e.city.value,landmark:e.landmark.value,pincode:e.pincode.value,state:e.state.value,country:"India",geolocation:x,aadharNumber:e.aadharNumber.value,gstNumber:e.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:!0,addAmenities:I.join(","),enrollmentProcess:W(e.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:e.instagram.value,facebook:e.facebook.value,youtube:e.youtube.value,twitter:e.twitter.value,visibilty:1});else{let a=[];t.forEach((e=>{a.push({id:e.id,...e.data()})}));let l=a[0];e.studioName.value=l.studioName,e.aboutStudio.value=l.aboutStudio,e.founderName.value=l.founderName,e.aboutFounder.value=l.aboutFounder,e.mobileNumber.value=l.mobileNumber,e.whatsappNumber.value=l.whatsappNumber,e.mailAddress.value=l.mailAddress,Z(l.danceStyles.length?l.danceStyles.split(","):[]),e.numberOfHalls.value=l.numberOfHalls,e.maximumOccupancy.value=l.maximumOccupancy,k(l.instructorsNames),e.buildingName.value=l.buildingName,e.street.value=l.street,e.city.value=l.city,e.landmark.value=l.landmark,e.pincode.value=l.pincode,e.state.value=l.state,p(l.geolocation),e.aadharNumber.value=l.aadharNumber,e.gstNumber.value=l.gstNumber,g(Object.values(l.tableData)),O(l.addAmenities.length?l.addAmenities.split(","):[]),e.enrollmentProcess.value=(e=>{const a=e.split("").map((e=>e.charCodeAt(0)));return(new TextDecoder).decode(new Uint8Array(a))})(l.enrollmentProcess),e.instagram.value=l.instagram,e.facebook.value=l.facebook,e.youtube.value=l.youtube,e.twitter.value=l.twitter}K(!0)}catch(a){console.error(a)}}()}),[]),(0,l.useEffect)((()=>{let e=null;return $&&async function(){const a=document.getElementById("addStudioForm");try{const t=(0,n.IO)((0,n.hJ)(s.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),l=await(0,n.PL)(t);if(!l.empty){let t=[];l.forEach((e=>{t.push({id:e.id,...e.data()})}));let r=t[0];const o=(0,n.JU)(s.db,i.i0.DRAFT_STUDIOS,r.id);e=setInterval((async()=>{try{const e=m.reduce(((e,a,t)=>(e[t]=a,e)),{});await(0,n.r7)(o,{studioName:a.studioName.value,aboutStudio:a.aboutStudio.value,founderName:a.founderName.value,aboutFounder:a.aboutFounder.value,mobileNumber:a.mobileNumber.value,whatsappNumber:a.whatsappNumber.value,mailAddress:a.mailAddress.value,danceStyles:N.join(","),numberOfHalls:a.numberOfHalls.value,maximumOccupancy:a.maximumOccupancy.value,instructorsNames:S,status:"OPEN",tableData:e,buildingName:a.buildingName.value,street:a.street.value,city:a.city.value,landmark:a.landmark.value,pincode:a.pincode.value,state:a.state.value,country:"India",geolocation:x,aadharNumber:a.aadharNumber.value,gstNumber:a.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:!0,addAmenities:I.join(","),enrollmentProcess:W(a.enrollmentProcess.value),creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,instagram:a.instagram.value,facebook:a.facebook.value,youtube:a.youtube.value,twitter:a.twitter.value,visibilty:1})}catch(e){console.error(e)}}),1e4)}}catch(t){console.error(t)}}(),()=>clearInterval(e)}),[$,N,S,m,x,I]),(0,b.jsxs)("div",{children:[(0,b.jsx)(F.Z,{activeStep:q,alternativeLabel:!0,children:["Basic Studio & Owner details","Instructors, Classes & Social Media","Address & Registration","Studio Icon","Studio & Class Images"].map((e=>(0,b.jsx)(B.Z,{children:(0,b.jsx)(M.Z,{children:(0,b.jsx)("p",{style:{color:v?"white":"black"},children:e})})},e)))}),(0,b.jsxs)("div",{hidden:q>2,children:[(0,b.jsx)(d.Z,{id:"addStudioForm",onSubmit:async e=>{e.preventDefault();if(!e.target.studioName.value)return;const a=m.reduce(((e,a,t)=>(e[t]=a,e)),{});try{var t;const l=null===(t=JSON.parse(localStorage.getItem("userInfo")))||void 0===t?void 0:t.email,r={studioName:e.target.studioName.value,aboutStudio:e.target.aboutStudio.value,founderName:e.target.founderName.value,aboutFounder:e.target.aboutFounder.value,mobileNumber:e.target.mobileNumber.value,whatsappNumber:e.target.whatsappNumber.value,mailAddress:e.target.mailAddress.value,danceStyles:N.join(","),numberOfHalls:e.target.numberOfHalls.value,maximumOccupancy:e.target.maximumOccupancy.value,instructorsNames:S,status:"OPEN",tableData:a,buildingName:e.target.buildingName.value,street:e.target.street.value,city:e.target.city.value,landmark:e.target.landmark.value,pincode:e.target.pincode.value,state:e.target.state.value,country:"India",geolocation:x,gstNumber:e.target.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,isPremium:true,addAmenities:I.join(","),enrollmentProcess:W(e.target.enrollmentProcess.value),creatorEmail:l,instagram:e.target.instagram.value,facebook:e.target.facebook.value,youtube:e.target.youtube.value,twitter:e.target.twitter.value,visibilty:1};G(!0);const o=l,d={entity_name:r.studioName,city:r.city},c=await(0,J.qC)(r,i.Ul.STUDIO,o,d);if(c.ok){const e=await c.json();h(e.id),(async()=>{try{const e=(0,n.IO)((0,n.hJ)(s.db,i.i0.DRAFT_STUDIOS),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),a=await(0,n.PL)(e);if(!a.empty){let e=[];a.forEach((a=>{e.push({id:a.id,...a.data()})}));let t=e[0];const l=(0,n.JU)(s.db,i.i0.DRAFT_STUDIOS,t.id);await(0,n.oe)(l)}}catch(e){console.error(e)}})(),X()}}catch(l){console.error("Error adding studio: ",l)}finally{G(!1)}},style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:(0,b.jsxs)(d.Z.Group,{controlId:"formBasicAdd",children:[(0,b.jsxs)("div",{hidden:0!==q,children:[(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Basic Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Studio Name"}),(0,b.jsx)(d.Z.Control,{rows:1,style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"studioName"}),(0,b.jsx)(d.Z.Label,{children:"About Studio"}),(0,b.jsx)(d.Z.Control,{rows:6,style:{minHeight:"10rem",backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",placeholder:"Enter studio's details",name:"aboutStudio"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Founder's Name"}),(0,b.jsx)(d.Z.Control,{rows:1,style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"textarea",placeholder:"Enter founder name",name:"founderName"}),(0,b.jsx)(d.Z.Label,{children:"About Founder"}),(0,b.jsx)(d.Z.Control,{rows:6,style:{minheight:"10rem",backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",placeholder:"Enter founder's details",name:"aboutFounder"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Contact Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mobile Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter mobile number",name:"mobileNumber",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"WhatsApp Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter whatsapp number",name:"whatsappNumber",type:"number"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mail Address"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"email",rows:1,placeholder:"Enter mail address",name:"mailAddress"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Studio Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Dance Styles"}),(0,b.jsxs)(P.Z,{theme:ae,children:[(0,b.jsx)(R.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},multiple:!0,id:"tags-standard",options:z,value:N,onChange:(e,a)=>{Z(a)},renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:v?"#333333":"",color:v?"white":"black"}})})]}),(0,b.jsx)(d.Z.Label,{children:"Number of Hall(s)"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Number of Hall(s)",name:"numberOfHalls",type:"number"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Maximum Occupancy"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Maximum Occupancy",name:"maximumOccupancy",type:"number"})]})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(o.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},disabled:!0,children:"Prev"})}),(0,b.jsx)(o.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>X(),children:"Next"})})]})]}),(0,b.jsxs)("div",{hidden:1!==q,children:[(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Instructor Details"}),(0,b.jsx)(d.Z.Label,{children:"Names of Instructors"}),(0,b.jsx)(r.Z,{children:(0,b.jsxs)(P.Z,{theme:ae,children:[(0,b.jsx)(R.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},multiple:!0,id:"tags-standard",options:A,value:S,onChange:(e,a)=>{k(a)},renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Instructors",style:{backgroundColor:v?"#333333":"",color:v?"white":"black"}})})]})}),(0,b.jsx)("a",{href:"#/modifyInstructors",rel:"noreferrer",target:"_blank",style:{textDecoration:"none",color:v?"cyan":"blue"},children:"Go to Instrcutors' Add/update Page?"}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Class Schedule"}),(0,b.jsx)("span",{children:"Time Table Of dance classes"}),(0,b.jsx)("div",{style:{overflowX:"auto",whiteSpace:"nowrap",scrollbarColor:v?"#888 #333":"#ccc #fff"},children:(0,b.jsx)(C,{tableData:m,setTableData:g,instructorNamesWithIds:A})}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Additional Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"GST Number"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"GST Number",name:"gstNumber"})]}),(0,b.jsxs)(o.Z,{md:8,children:[(0,b.jsx)(d.Z.Label,{children:"Add Amenities"}),(0,b.jsxs)(P.Z,{theme:ae,children:[(0,b.jsx)(R.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},multiple:!0,id:"tags-standard",options:Y,value:I,onChange:(e,a)=>{O(a)},renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Amenities",style:{backgroundColor:v?"#333333":"",color:v?"white":"black"}})})]})]})]}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(d.Z.Label,{children:"Enrollment Process"}),(0,b.jsx)(d.Z.Control,{rows:12,style:{height:"150px",backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",placeholder:"Enrollment Process",name:"enrollmentProcess"})]}),(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Social Media Links"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Instagram"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"Instagram Link",name:"instagram"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Facebook"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"Facebook Link",name:"facebook"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"YouTube"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"YouTube Link",name:"youtube"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Twitter"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},type:"text",rows:1,placeholder:"Twitter Link",name:"twitter"})]})]}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(o.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>ee(),children:"Prev"})}),(0,b.jsx)(o.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>X(),children:"Next"})})]})]}),(0,b.jsxs)("div",{hidden:2!==q,children:[(0,b.jsx)("h3",{style:{backgroundColor:v?"#202020":"",color:v?"white":"black"},children:"Address Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Building Name"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",rows:1,placeholder:"Enter building name",name:"buildingName"}),(0,b.jsx)(d.Z.Label,{children:"Street"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},as:"textarea",rows:1,placeholder:"Enter street",name:"street"}),(0,b.jsx)(d.Z.Label,{children:"City"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{backgroundColor:v?"#333333":"",color:v?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},name:"city",children:[(0,b.jsx)("option",{value:"",children:"Select a city"}),V.map(((e,a)=>(0,b.jsx)("option",{value:e,children:e},a)))]})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Landmark"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter landmark",name:"landmark"}),(0,b.jsx)(d.Z.Label,{children:"Pincode"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter pincode",name:"pincode",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"State"}),(0,b.jsx)(d.Z.Control,{style:{backgroundColor:v?"#333333":"",color:v?"white":"black"},rows:1,placeholder:"Enter state",name:"state"})]}),(0,b.jsx)(d.Z.Label,{children:"Save exact Address"}),(0,b.jsx)(E,{selectedLocation:x,setSelectedLocation:p})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(o.Z,{xs:6,children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>ee(),children:"Prev"})}),(0,b.jsx)(o.Z,{xs:6,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",disabled:_,style:{backgroundColor:v?"#892cdc":"black",color:"white"},type:"submit",children:"Add Studio & Next"})})]})]})]})}),_&&(0,b.jsx)(u.Z,{}),""===t?"":(0,b.jsxs)("p",{children:["New Studio Created with id ",t,". Now u can upload images regarding them"]})]}),(0,b.jsxs)("div",{hidden:3!==q,children:[(0,b.jsx)(w.Z,{entityId:t,title:"Studio Icon",storageFolder:i.Rb.STUDIOICON,maxImageCount:1}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(o.Z,{xs:12,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>X(),children:"Next"})})})]}),(0,b.jsxs)("div",{hidden:4!==q,children:[(0,b.jsx)(w.Z,{entityId:t,title:"Studio Images",storageFolder:i.Rb.STUDIOIMAGES}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(o.Z,{xs:12,className:"d-flex justify-content-end",children:(0,b.jsx)(c.Z,{variant:"contained",style:{backgroundColor:v?"#892cdc":"black"},onClick:()=>X(),children:"Next"})})})]}),(0,b.jsxs)("div",{hidden:5!==q,style:{display:"flex",alignItems:"center",height:"auto"},children:[(0,b.jsx)(H,{StudioId:t}),(0,b.jsx)("br",{})]}),(0,b.jsx)("br",{})]})};var K=t(47022),_=t(30018);const G=e=>{let{type:a="info",message:t="Default message",timeOfDisplay:r=5e3,fontSize:o="16px",fontWeight:s="normal",fontStyle:n="normal"}=e;const[i,d]=(0,l.useState)(!0);return(0,l.useEffect)((()=>{const e=setTimeout((()=>{d(!1)}),r);return()=>{clearTimeout(e)}}),[r]),(0,b.jsx)(K.Z,{children:i&&(0,b.jsx)(_.Z,{variant:a,style:{fontSize:o,fontWeight:s,fontStyle:n,textAlign:"center",marginTop:"10px",marginBottom:"0"},onClose:()=>d(!1),dismissible:!0,children:t})})},V=["M","T","W","Th","F","St","Sn"],z={Kids:"Kids",Adults:"Adults",Women_Only:"Women Only",Men_Only:"Men Only",Seniors:"Seniors",All:"All Ages, Open to All",Couples:"Couples",Families:"Families"},Y=e=>{const a=(new TextEncoder).encode(e);return String.fromCharCode(...a)},q=e=>{const a=e.split("").map((e=>e.charCodeAt(0)));return(new TextDecoder).decode(new Uint8Array(a))};const Q=function(e){let{studio:a,setStudio:t,studioId:c,setStudioId:u,instructors:x}=e;const[S,k]=(0,l.useState)(null),[C,N]=(0,l.useState)(null),[Z,I]=(0,l.useState)([]),[O,A]=(0,l.useState)(-1),[F,B]=(0,l.useState)([]),[M,H]=(0,l.useState)(!1),[J,W]=(0,l.useState)(null),[$,K]=(0,l.useState)(null),[_,Q]=(0,l.useState)("00:00-00:00"),X=L.c,ee=j.W,ae=Object.keys(i.QP).map(String),[te,le]=(0,l.useState)(!1),[re,oe]=(0,l.useState)(!1),[se,ne]=(0,l.useState)(null),[ie,de]=(0,l.useState)([]),ce=(0,T.v9)(D.w),ue=x.map((e=>`${e.name} - ${e.id}`)),he=(0,U.Z)({palette:{mode:ce?"dark":"light"}}),[me,ge]=(0,l.useState)({0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",freeTrial:!1,classCategory:[]}}),xe=()=>{H(!1),W(null)},be=(e,a)=>{ge((t=>{const l={...t};if(null!==J&&l[J]){const t=l[J].time;if(void 0!==t){const[r,o]=t.split(" - ");null!==e&&(l[J].time=`${e} - ${o}`),null!==a&&(l[J].time=`${r} - ${a}`)}}return l})),K(J)};(0,l.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("StudioCreated"))||[];t(e);const a=e.map((e=>`${e.studioName} : ${e.id}`));u(a)}),[]),(0,l.useEffect)((()=>{if(S&&(I(S.instructorsNames),S&&S.danceStyles&&de(S.danceStyles.split(",")),S&&S.addAmenities&&B(S.addAmenities.split(",")),S&&S.tableData)){const e=Math.max(...Object.keys(me).map(Number));A(e)}}),[S]);const pe=(e,a,t)=>{ge((l=>("days"===a&&(t=Array.isArray(t)?t.join(","):t),{...l,[e]:{...l[e],[a]:t}})))};return(0,b.jsxs)("div",{style:{backgroundColor:ce?"#202020":"",color:ce?"white":"black"},children:[(0,b.jsx)("br",{}),(0,b.jsxs)(d.Z,{id:"updateStudioForm",onSubmit:async e=>{e.preventDefault();const a=e.target.nameId.value,t=a.lastIndexOf(":"),l=a.substring(t+1).trim();if(l){try{const a=(0,n.JU)(s.db,i.Ul.STUDIO,l);console.log(me),await(0,n.r7)(a,{studioName:e.target.studioName.value,aboutStudio:e.target.aboutStudio.value,founderName:e.target.founderName.value,aboutFounder:e.target.aboutFounder.value,mobileNumber:e.target.mobileNumber.value,whatsappNumber:e.target.whatsappNumber.value,mailAddress:e.target.mailAddress.value,danceStyles:ie.join(","),numberOfHalls:e.target.numberOfHalls.value,maximumOccupancy:e.target.maximumOccupancy.value,instructorsNames:Z,status:"OPEN",tableData:me,buildingName:e.target.buildingName.value,street:e.target.street.value,city:e.target.city.value,landmark:e.target.landmark.value,pincode:e.target.pincode.value,state:e.target.state.value,country:"India",geolocation:se,gstNumber:e.target.gstNumber.value,enrolledId:[],reviews:[],author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,addAmenities:F.join(","),enrollmentProcess:Y(e.target.enrollmentProcess.value),instagram:e.target.instagram.value,facebook:e.target.facebook.value,youtube:e.target.youtube.value,twitter:e.target.twitter.value}),alert("Studio Update successfully"),le(!0),oe(!1)}catch(r){console.error("Error updating studio: ",r),le(!1),oe(!0)}document.getElementById("updateStudioForm").reset()}},children:[(0,b.jsxs)(d.Z.Group,{controlId:"formBasicUpdate",children:[(0,b.jsx)(d.Z.Label,{children:"Id"}),(0,b.jsxs)(d.Z.Control,{as:"select",name:"nameId",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},onChange:async e=>{e.preventDefault();const a=e.target.value.split(":").pop().trim();N(a);try{const e=await(0,n.QT)((0,n.JU)(s.db,i.Ul.STUDIO,a));if(e.exists){if(k(e.data()),e.data().geolocation){const a=e.data().geolocation;ne(a)}if(e.data().tableData){ge(e.data().tableData);const a=Math.max(...Object.keys(me).map(Number));O(a)}else ge({0:{className:"",danceForms:"",days:"",time:"",instructors:[],fee:"",level:"",freeTrial:!1,classCategory:[]}})}else k(null)}catch(t){console.error("Error fetching studio data:",t,a)}},children:[(0,b.jsx)("option",{value:"",children:"Select a studio..."}),c&&c.length>0?c.map((e=>(0,b.jsx)("option",{value:e,children:e},e))):(0,b.jsx)("option",{value:"",children:"No studio yet!"})]})]}),(0,b.jsx)("h3",{style:{backgroundColor:ce?"#202020":"",color:ce?"white":"black"},children:"Basic Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Studio Name"}),(0,b.jsx)(d.Z.Control,{rows:1,defaultValue:S?S.studioName:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"studioName"}),(0,b.jsx)(d.Z.Label,{children:"About Studio"}),(0,b.jsx)(d.Z.Control,{rows:6,defaultValue:S?S.aboutStudio:"",style:{minHeight:"150px",backgroundColor:ce?"#333333":"",color:ce?"white":"black"},as:"textarea",placeholder:"Enter studio details",name:"aboutStudio"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Founder's Name"}),(0,b.jsx)(d.Z.Control,{rows:1,defaultValue:S?S.founderName:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},type:"textarea",placeholder:"Enter studio name",name:"founderName"}),(0,b.jsx)(d.Z.Label,{children:"About Founder"}),(0,b.jsx)(d.Z.Control,{rows:6,defaultValue:S?S.aboutFounder:"",style:{height:"150px",backgroundColor:ce?"#333333":"",color:ce?"white":"black"},as:"textarea",placeholder:"Enter studio details",name:"aboutFounder"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:ce?"#202020":"",color:ce?"white":"black"},children:"Contact Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mobile Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.mobileNumber:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},rows:1,placeholder:"Enter studio details",name:"mobileNumber",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"WhatsApp Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.whatsappNumber:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},rows:1,placeholder:"Enter studio details",name:"whatsappNumber",type:"number"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Mail Address"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.mailAddress:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},type:"textarea",rows:1,placeholder:"Enter studio details",name:"mailAddress"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:ce?"#202020":"",color:ce?"white":"black"},children:"Studio Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Dance Styles"}),(0,b.jsxs)(P.Z,{theme:he,children:[(0,b.jsx)(R.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},multiple:!0,id:"tags-standard",options:ee,value:ie,onChange:(e,a)=>{de(a)},renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"}})})]}),(0,b.jsx)(d.Z.Label,{children:"Number of Hall(s)"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.numberOfHalls:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},rows:1,placeholder:"Number of Hall(s)",name:"numberOfHalls",type:"number"})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Maximum Occupancy"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.maximumOccupancy:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},rows:1,placeholder:"Maximum Occupancy",name:"maximumOccupancy",type:"number"})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:ce?"#202020":"",color:ce?"white":"black"},children:"Instructor Details"}),(0,b.jsx)(d.Z.Label,{children:"Names of Instructors"}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(o.Z,{xs:6,children:(0,b.jsx)("div",{style:{backgroundColor:ce?"#202020":"",color:ce?"white":"black"},children:(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(P.Z,{theme:he,children:[(0,b.jsx)(R.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},multiple:!0,id:"tags-standard",options:ue,value:Z,onChange:(e,a)=>{I(a)},renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"}})})]}),(0,b.jsx)("a",{href:"#/modifyInstructors",rel:"noreferrer",target:"_blank",style:{textDecoration:"none",color:ce?"cyan":"blue"},children:"Go to Instrcutors' Add/update Page?"})]})})})}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:ce?"#202020":"",color:ce?"white":"black"},children:"Address Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Building Name"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.buildingName:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},as:"textarea",rows:1,placeholder:"Enter building name",name:"buildingName"}),(0,b.jsx)(d.Z.Label,{children:"Street"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.street:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},as:"textarea",rows:1,placeholder:"Enter street",name:"street"}),(0,b.jsx)(d.Z.Label,{children:"City"}),(0,b.jsxs)(d.Z.Control,{as:"select",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black",height:"auto",lineHeight:"1.5em",padding:"8px"},name:"city",value:S?S.city:"",onChange:e=>{const a=e.target.value;k((e=>({...e,city:a})))},children:[(0,b.jsx)("option",{value:"",children:"Select a city"}),X.map(((e,a)=>(0,b.jsx)("option",{value:e,children:e},a)))]})]}),(0,b.jsxs)(o.Z,{md:6,children:[(0,b.jsx)(d.Z.Label,{children:"Landmark"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.landmark:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},as:"textarea",rows:1,placeholder:"Enter landmark",name:"landmark"}),(0,b.jsx)(d.Z.Label,{children:"Pincode"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.pincode:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},as:"textarea",rows:1,placeholder:"Enter pincode",name:"pincode",type:"number"}),(0,b.jsx)(d.Z.Label,{children:"State"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.state:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},as:"textarea",rows:1,placeholder:"Enter state",name:"state"})]}),(0,b.jsx)(d.Z.Label,{children:"Save exact Address"}),(0,b.jsx)(E,{selectedLocation:S&&S.geolocation?S.geolocation:se,setSelectedLocation:ne})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h3",{style:{backgroundColor:ce?"#202020":"white",color:ce?"white":"black"},children:"Additional Details"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"GST Number"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.gstNumber:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},type:"number",rows:1,placeholder:"GST Number",name:"gstNumber"})]}),(0,b.jsxs)(o.Z,{md:8,children:[(0,b.jsx)(d.Z.Label,{children:"Add Amenities"}),(0,b.jsxs)(P.Z,{theme:he,children:[(0,b.jsx)(R.ZP,{}),(0,b.jsx)(y.Z,{style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},multiple:!0,id:"tags-standard",options:ae,value:F,onChange:(e,a)=>{B(a)},renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Amenities",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"}})})]})]})]}),(0,b.jsx)(r.Z,{children:(0,b.jsxs)(o.Z,{children:[(0,b.jsx)(d.Z.Label,{children:"Enrollment Process"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?q(S.enrollmentProcess):"",rows:6,style:{height:"150px",backgroundColor:ce?"#333333":"",color:ce?"white":"black"},as:"textarea",placeholder:"Enrollment Process",name:"enrollmentProcess"})]})}),(0,b.jsx)("br",{}),(0,b.jsx)("span",{children:"Time Table Of dance classes"}),(0,b.jsx)("div",{style:{overflowX:"auto",whiteSpace:"nowrap",scrollbarColor:ce?"#888 #333":"#ccc #fff"},children:(0,b.jsxs)(h.Z,{bordered:!0,variant:"light",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Name"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Dance Form"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Days"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Time"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"20rem",border:"1px solid black"},children:"Instructors"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Fee (\u20b9)"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"10rem",border:"1px solid black"},children:"Level"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"8rem",border:"1px solid black"},children:"Free Trial"}),(0,b.jsx)("th",{style:{padding:"0rem",textAlign:"center",minWidth:"15rem",border:"1px solid black"},children:"Class Category"}),(0,b.jsx)("th",{style:{padding:0},children:(0,b.jsx)(m.Z,{variant:"primary",onClick:()=>{ge((e=>{const a=Object.keys(e).length;return{...e,[a]:{...me[0]}}}))},children:(0,b.jsx)(g.wEH,{})})})]})}),(0,b.jsx)("tbody",{children:Object.keys(me).map(((e,a)=>{var t,l,r;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{type:"text",value:me[e].className,onChange:a=>pe(e,"className",a.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"}})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{as:"select",value:me[e].danceForms,onChange:a=>pe(e,"danceForms",a.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:[(0,b.jsx)("option",{value:"",children:"Select a dance form"}),ee.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))]})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(v.N,{value:me[e]&&me[e].days&&me[e].days.split(",").filter((e=>""!==e)),onChange:a=>pe(e,"days",a.target.value),options:V,placeholder:"class days",maxSelectedLabels:7,className:"w-full md:w-20rem",style:{color:"#000",width:"100%"}})}),(0,b.jsxs)("td",{style:{padding:"0rem"},children:[(0,b.jsx)(d.Z.Control,{type:"text",value:me[e].time,onClick:()=>((e,a)=>{Q(a),W(e),H(!0)})(e,me[e].time)}),M&&(0,b.jsx)(p,{show:M,handleClose:xe,handleSelect:be,defaultTime:(null===(t=me[J])||void 0===t?void 0:t.time)||"00:00-00:00"})]}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,options:ue,value:me[e]&&me[e].instructors?me[e].instructors:[],onChange:(a,t)=>pe(e,"instructors",t),renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Instructors"})})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(d.Z.Control,{type:"text",value:me[e].fee?me[e].fee:"",onChange:a=>pe(e,"fee",a.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"}})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsxs)(d.Z.Control,{as:"select",value:me[e].level?me[e].level:"",onChange:a=>pe(e,"level",a.target.value),style:{height:"auto",lineHeight:"1.5em",padding:"8px"},children:[(0,b.jsx)("option",{value:"",children:"Select a Level"}),(0,b.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,b.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,b.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,b.jsx)("option",{value:"Misc",children:"Misc"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",border:"1px solid black"},children:(0,b.jsxs)(d.Z.Control,{style:{backgroundColor:"white",height:"auto",lineHeight:"1.5em",padding:"8px"},as:"select",value:null!==(l=me[a])&&void 0!==l&&l.freeTrial?me[a].freeTrial:"",onChange:e=>pe(a,"freeTrial",e.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select a value"}),(0,b.jsx)("option",{value:!0,children:"Yes"}),(0,b.jsx)("option",{value:!1,children:"No"})]})}),(0,b.jsx)("td",{style:{padding:"0rem",width:"20rem"},children:(0,b.jsx)(y.Z,{multiple:!0,id:"tags-standard",options:Object.values(z),value:null!==(r=me[a])&&void 0!==r&&r.classCategory&&me[a].classCategory.length>0?me[a].classCategory.map((e=>z[e])):[],onChange:(e,t)=>{const l=t.map((e=>Object.keys(z).find((a=>z[a]===e))));pe(a,"classCategory",l)},renderInput:e=>(0,b.jsx)(f.Z,{...e,variant:"standard",placeholder:"Select Class Category"})})}),(0,b.jsx)("td",{style:{padding:"0rem"},children:(0,b.jsx)(m.Z,{variant:"danger",onClick:()=>(e=>{ge((a=>{const t={...a};return delete t[e],t}))})(e),children:(0,b.jsx)(g.iFH,{})})})]},e)}))})]})}),(0,b.jsx)("br",{}),(0,b.jsx)("h3",{style:{backgroundColor:ce?"#202020":"",color:ce?"white":"black"},children:"Social Media Links"}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Instagram"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.instagram:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},type:"text",rows:1,placeholder:"Instagram Link",name:"instagram"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Facebook"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.facebook:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},type:"text",rows:1,placeholder:"Facebook Link",name:"facebook"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"YouTube"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.youtube:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},type:"text",rows:1,placeholder:"YouTube Link",name:"youtube"})]}),(0,b.jsxs)(o.Z,{md:4,children:[(0,b.jsx)(d.Z.Label,{children:"Twitter"}),(0,b.jsx)(d.Z.Control,{defaultValue:S?S.twitter:"",style:{backgroundColor:ce?"#333333":"",color:ce?"white":"black"},type:"text",rows:1,placeholder:"Twitter Link",name:"twitter"})]})]}),(0,b.jsx)("br",{}),(0,b.jsx)(m.Z,{style:{backgroundColor:ce?"#892CDC":"black",color:"white"},type:"submit",children:"Update Studio"})]}),c&&c.length>0&&C&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{children:(0,b.jsx)(w.Z,{entityId:C,title:"Studio Images",storageFolder:i.Rb.STUDIOIMAGES,maxImageCount:10})}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{children:(0,b.jsx)(w.Z,{entityId:C,title:"Studio Icon",storageFolder:i.Rb.STUDIOICON,maxImageCount:1})}),(0,b.jsx)("div",{children:(0,b.jsx)(w.Z,{entityId:C,title:"Studio Announcement Images",storageFolder:i.Rb.STUDIOANNOUNCEMENTS,maxImageCount:10})}),(0,b.jsx)("br",{})]}),te&&(0,b.jsx)(G,{type:"info",message:"Studio Updated successfully",timeOfDisplay:3e3,fontSize:"10px",fontWeight:"bold"}),re&&(0,b.jsx)(G,{type:"warning",message:"Studio Update failed",timeOfDisplay:3e3,fontSize:"10px",fontWeight:"bold"})]})};var X=t(61224),ee=t(26953),ae=t(43896),te=t(83449),le=t(47283),re=t(82851),oe=t(697);const se=function(){const[e,a]=(0,l.useState)([]),[t,d]=(0,l.useState)([]),c=(0,T.v9)(D.w),[u,h]=(0,l.useState)([]),[m,g]=(0,l.useState)(!1),[x,p]=(0,l.useState)(-1),{currentUser:j}=(0,X.a)(),[y,f]=l.useState("1");return(0,l.useEffect)((()=>{console.log("Creator Studio getCreatorMode");(async e=>{try{const e=(0,n.JU)(s.db,"User",j.uid),a=await(0,n.QT)(e);a.exists()?(console.log("User there",a.data(),a.data().CreatorMode,JSON.parse(localStorage.getItem("userInfoFull"))),null!=a.data()?(g(a.data().CreatorMode),p(a.data().isPremium),console.log("Premium Till",x,a.data())):console.log("userSnap.data() null")):console.log("User not found but workshop created... error")}catch(a){console.log(" error")}})()}),[m]),(0,l.useEffect)((()=>{console.log("Creator Studio fetchInstructors");(async()=>{let e=null;if(JSON.parse(localStorage.getItem("userInfo"))&&JSON.parse(localStorage.getItem("userInfo")).UserId&&(e=JSON.parse(localStorage.getItem("userInfo")).UserId),!e)return console.log("User not found"),void alert("User not found");const a=(0,n.hJ)(s.db,i.Ul.INSTRUCTORS),t=(0,n.IO)(a,(0,n.ar)("createdBy","==",e)),l=await(0,n.PL)(t),r=[];l.forEach((e=>{r.push({id:e.id,name:e.data().name})})),console.log("Hiii",r),h(r)})()}),[]),(0,l.useEffect)((()=>{console.log("Creator Studio getStudioCreated");(async()=>{const l=(0,n.IO)((0,n.hJ)(s.db,i.Ul.STUDIO),(0,n.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId));console.log("Hiiii",JSON.parse(localStorage.getItem("userInfo")).UserId);const r=await(0,n.PL)(l);console.log("Studios : ",r);const o=r.docs.filter((e=>e.data().studioName)).map((e=>{const a=e.data();return{id:e.id,...a}}));localStorage.setItem("StudioCreated",JSON.stringify(o)),a(o),d(o.map((e=>String(e.studioName)+" :"+String(e.id)))),console.log(e),console.log("studioId",t)})()}),[a]),(0,l.useEffect)((()=>{console.log("Creator Studio setStudioId");const l=JSON.parse(localStorage.getItem("StudioCreated"))||[];a(l);const r=l.map((e=>`${e.studioName} : ${e.id}`));d(r),console.log("studio:",e),console.log("studioId",t)}),[d]),console.log("studio :",e),(0,b.jsxs)("div",{children:[(0,b.jsx)("br",{}),m?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(oe.Z,{sx:{width:"100%",typography:"body1"},children:(0,b.jsxs)(te.ZP,{value:y,children:[(0,b.jsx)(oe.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,b.jsxs)(le.Z,{style:{color:c?"white":"black"},onChange:(e,a)=>{f(a)},"aria-label":"lab API tabs example",children:[(0,b.jsx)(ae.Z,{style:{color:c?"white":"black"},label:"Add Studio",value:"1"}),(0,b.jsx)(ae.Z,{style:{color:c?"white":"black"},label:"Update Studio",value:"2"})]})}),(0,b.jsx)(re.Z,{value:"1",children:(0,b.jsx)($,{instructors:u})}),(0,b.jsx)(re.Z,{value:"2",children:(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(Q,{studio:e,setStudio:a,instructors:u,studioId:t,setStudioId:d})})})]})})}):"",(0,b.jsx)("h3",{style:{color:c?"white":"black"},children:"Your Studios:"}),(0,b.jsxs)("ul",{children:[(0,b.jsx)(r.Z,{xs:1,md:3,lg:4,className:"g-4",children:e.length>0?e.map(((e,a)=>(0,b.jsx)(o.Z,{children:(0,b.jsx)("a",{href:`#/studio/${e.studioId}`,style:{textDecoration:"none"},children:(0,b.jsx)(ee.Z,{studio:e})})},a))):(0,b.jsx)("p",{style:{color:c?"white":"black"},children:"No studio yet!"})}),(0,b.jsx)("br",{})]})]})}},83708:(e,a,t)=>{t.d(a,{A3:()=>x,DM:()=>c,QP:()=>b,RY:()=>u,Rb:()=>g,Ul:()=>m,i0:()=>s,lt:()=>h,n$:()=>o,rM:()=>i,uM:()=>d,zq:()=>n});var l=t(59135),r=t(80184);const o={SUBMITTED:"Submitted",UNDER_REVIEW:"Under Review",REVIEWED:"Reviewed",VERIFIED:"Verified",VERIFICATION_FAILED:"Verification Failed"},s={DRAFT_STUDIOS:"DraftStudios",DRAFT_WORKSHOPS:"DraftWorkshops",DRAFT_OPEN_CLASSES:"DraftOpenClasses",DRAFT_COURSES:"DraftCourses"},n={ALL:"All",BEGINNERS:"Beginner",INTERMEDIATE:"Intermediate",ADVANCED:"Advanced"},i={INTERNET_CONV_CHARGES_WORKSHOPS_COURSES_INR:30,WORKSHOPS_BOOKING_LIMIT:10,OPEN_CLASSES_BOOKING_LIMIT:2,COURSES_BOOKING_LIMIT:10},d={PROD:"https://nrityaserver-2b241e0a97e5.herokuapp.com/",LOCAL:"http://127.0.0.1:8000/"},c={GREEN:{backgroundColor:"#28a745",color:"#fff"},BLUE:{backgroundColor:"#007bff",color:"#fff"},YELLOW:{backgroundColor:"#ffc107",color:"#000"},RED:{backgroundColor:"#dc3545",color:"#fff"},PURPLE:{backgroundColor:"#6f42c1",color:"#fff"},ORANGE:{backgroundColor:"#fd7e14",color:"#fff"},TEAL:{backgroundColor:"#20c997",color:"#fff"},PINK:{backgroundColor:"#e83e8c",color:"#fff"},GRAY:{backgroundColor:"#6c757d",color:"#fff"},LIGHTBLUE:{backgroundColor:"#17a2b8",color:"#fff"},DARKBLUE:{backgroundColor:"#343a40",color:"#fff"},CYAN:{backgroundColor:"#00bcd4",color:"#fff"},INDIGO:{backgroundColor:"#6610f2",color:"#fff"},LIME:{backgroundColor:"#cddc39",color:"#000"},AMBER:{backgroundColor:"#ffca28",color:"#000"},BROWN:{backgroundColor:"#795548",color:"#fff"},LIGHTGREEN:{backgroundColor:"#8bc34a",color:"#000"},DEEPPURPLE:{backgroundColor:"#673ab7",color:"#fff"},DEEPORANGE:{backgroundColor:"#ff5722",color:"#fff"},BLACK:{backgroundColor:"#000000",color:"#fff"},WHITE:{backgroundColor:"#ffffff",color:"#000"},SILVER:{backgroundColor:"#c0c0c0",color:"#000"},GOLD:{backgroundColor:"#ffd700",color:"#000"},NAVY:{backgroundColor:"#001f3f",color:"#fff"},OLIVE:{backgroundColor:"#3d9970",color:"#fff"}},u={[n.ALL]:c.GREEN,[n.BEGINNERS]:c.BLUE,[n.INTERMEDIATE]:c.YELLOW,[n.ADVANCED]:c.RED},h=[c.PURPLE,c.ORANGE,c.TEAL,c.LIME],m={USER:"User",USER_KYC:"UserKyc",ADMIN:"Admin",REVIEWS:"Reviews",TRANSACTIONS:"Transactions",STUDIO:"Studio",INSTRUCTORS:"Instructors",FREE_TRIAL_BOOKINGS:"FreeTrialBookings",WORKSHOPS:"Workshops",OPEN_CLASSES:"OpenClasses",COURSES:"Courses",BOOKINGS:"Bookings"},g={STUDIOIMAGES:"StudioImages",STUDIOICON:"StudioIcon",STUDIOANNOUNCEMENTS:"StudioAnnouncements",USERIMAGE:"UserImage",INSTRUCTORIMAGES:"InstructorImages",WORKSHOPICON:"WorkshopIcon",WORKSHOPIMAGES:"WorkshopImages",OPENCLASSICON:"OpenClassIcon",COURSEICON:"CourseIcon",CREATORS_KYC_DOCUMENTS:"CreatorKycDocuments"},x="https://nrityaserver-2b241e0a97e5.herokuapp.com/",b={AC:(0,r.jsx)(l.l51,{}),"Free Wifi":(0,r.jsx)(l._0,{}),"RO Water":(0,r.jsx)(l.EXY,{}),Toilet:(0,r.jsx)(l.Iev,{}),"Power Backup":(0,r.jsx)(l.eKD,{}),"Fire Extinguisher":(0,r.jsx)(l.Ybg,{}),"First Aid Kit":(0,r.jsx)(l.FZx,{}),"CCTV Camera":(0,r.jsx)(l.KoQ,{}),"Card Payment":(0,r.jsx)(l.ypE,{}),"Parking Space":(0,r.jsx)(l.mxg,{})}},18406:(e,a,t)=>{t.d(a,{C9:()=>o,P9:()=>s,qC:()=>r});var l=t(83708);async function r(e,a,t,r){const o=l.A3,s=localStorage.getItem("authToken");try{const l=await fetch(o+"crud/newEntity/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({data:e,collection_name:a,notify:t,metadata:r})});if(!l.ok)throw console.log("Error in postData:",l),new Error(`HTTP error! status: ${l.status}`);return l}catch(n){throw console.error("Error in postData:",n),n}}const o=async e=>{const a=`${l.uM.PROD}bookings/bookEntity/`;try{const t=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.userId,entityType:e.entityType,entityId:e.entityId,associatedStudioId:e.associatedStudioId,emailLearner:e.emailLearner,personsAllowed:e.personsAllowed,pricePerPerson:e.pricePerPerson})}),l=await t.json();return t.ok?(console.log("Booking successful:",l),l):(console.error("Booking failed:",l),l)}catch(t){return console.error("Error occurred while booking:",t),null}},s=e=>{if(console.log("MediaDisplay",e),!e)return null;const a=e.trim().match(/(?:https?:\/\/)?(?:www\.|m\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/|shorts\/)|youtu\.be\/)([\w\-]+)/);let t=null;return a&&(t=a[1]),console.log("MediaDisplay",t),t}},68449:(e,a,t)=>{t.d(a,{FV:()=>y,Km:()=>g,Ld:()=>c,Us:()=>d,XG:()=>f,Xt:()=>m,eg:()=>j,gv:()=>u,ih:()=>x,oM:()=>i,qS:()=>b,to:()=>h,xR:()=>p});var l=t(12481),r=t(10159),o=t(30276),s=t(83708),n=t(644);const i=async e=>{console.log("creatorMode uid",e);try{const a=(0,l.JU)(r.db,s.Ul.USER,e),t=await(0,l.QT)(a);if(t.exists())if(null!=t.data()){const e=t.data().CreatorMode;console.log("setCreatorMode: Is User a creator?",e),n.Z.setItem("CreatorMode",e)}else console.log("userSnap.data() null");else console.log("User not found")}catch(a){console.log(" error",a)}},d=async(e,a)=>{console.log("Debug ",`${e}/${a}`);const t=`${e}/${a}`,l=(0,o.iH)(r.tO,t);try{const e=await(0,o.aF)(l);if(e.items.length>0){const a=e.items[0],t=await(0,o.Jt)(a);return console.log("Debug URL:",t),t}return console.log("Debug No files found in the folder."),null}catch(s){return console.error("Error getting image URL:",s),null}},c=async(e,a)=>{const t=(0,l.JU)(r.db,e,a),o=await(0,l.QT)(t);return o.exists()?o.data():null},u=async(e,a,t)=>{const o=(0,l.JU)(r.db,e,a);return await(0,l.pl)(o,t,{merge:!0}),t},h=async(e,a,t)=>{const o=(0,l.JU)(r.db,e,a);return await(0,l.r7)(o,{isPhoneNumberVerified:!0,phoneNumber:t}),!0},m=async(e,a,t)=>{const o=(0,l.JU)(r.db,e,a);return await(0,l.r7)(o,t),{id:a,...t}},g=async(e,a,t,o)=>{console.log("Hiii ",e,a,t,o);const s=(0,l.IO)((0,l.hJ)(r.db,e),(0,l.ar)(a,t,o));return(await(0,l.Yp)(s)).data().count},x=async(e,a)=>{const t=`${e}/${a}`,l=(0,o.iH)(r.tO,t),s=await(0,o.aF)(l);await Promise.all(s.items.map((async e=>{await(0,o.oq)(e)})))},b=async(e,a,t)=>{const l=`${e}/${a}/${t}`,s=(0,o.iH)(r.tO,l),n=await(0,o.aF)(s);await Promise.all(n.items.map((async e=>{await(0,o.oq)(e)})))},p=async function(e,a,t,l){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const n=a.length;let i=0;await Promise.all(a.map((async a=>{let d=`${e}/${t}/${a.filename}`;s&&(d=`${e}/${t}/${s}/${a.filename}`);const c=(0,o.iH)(r.tO,d);await(0,o.oq)(c),i+=1,l(i/n*100)})))},j=async function(e,a,t,l){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;console.log(e,t);const n=a.length;let i=0;await Promise.all(a.map((async a=>{let d=`${e}/${t}`;s&&(d=`${e}/${t}/${s}`);const c=(0,o.iH)(r.tO,`${d}/${a.file.name}`);await(0,o.KV)(c,a.file),i+=1,l(i/n*100)})))},y=async function(e,a,t){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0,i=`${e}/${t}`;l&&(i=`${e}/${t}/${l}`),console.log(a,a.name);const d=(0,o.iH)(r.tO,`${i}/${a.name}`),c=(0,o.B0)(d,a);c.on("state_changed",(e=>{const a=e.totalBytes,t=e.bytesTransferred,l=a>0?(t/a*100).toFixed(2):-1;switch(s(l),console.log("Upload is "+l+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(e=>{e.code}),(()=>{(0,o.Jt)(c.snapshot.ref).then((e=>{console.log("File available at",e),n(e)}))}))},f=async e=>{const a=`${e}`,t=(0,o.iH)(r.tO,a);try{const e=await(0,o.aF)(t);return await Promise.all(e.items.map((async e=>{const a=await(0,o.Jt)(e);return{id:e.name,filename:e.name,fileURL:a}})))}catch(l){throw console.error("Error retrieving images:",l),l}}},82873:e=>{e.exports=JSON.parse('{"c":["Agra","Ahmedabad","Ajmer","Alappuzha","Allahabad","Ambattur","Ambernath","Amritsar","Anantapur","Arrah","Aurangabad","Avadi","Bahadurgarh","Bahraich","Ballia","Bengaluru","Baranagar","Barasat","Bareilly","Barasat","Bathinda","Begusarai","Belgaum","Bellary","Berhampur","Bettiah","Bharatpur","Bharuch","Bhilai","Bhilwara","Bhimavaram","Bhiwani","Bhopal","Bhubaneswar","Bhuj","Bhusawal","Bidar","Bihar Sharif","Bilaspur","Bilimora","Bongaigaon","Bongaigaon","Bulandshahr","Buxar","Chandannagar","Chandigarh","Chandausi","Chapra","Chennai","Chikmagalur","Chittorgarh","Coimbatore","Cuttack","Darbhanga","Dehradun","Deoghar","Dewas","Dhanbad","Dhule","Dimapur","Dindigul","Durg","Eluru","Erode","Etawah","Faridabad","Farrukhabad","Gandhinagar","Gangapur","Gaya","Giridih","Godhra","Gopalpur","Gorakhpur","Guntakal","Guntur","Gurugram","Guwahati","Haldia","Hapur","Haridwar","Hazaribagh","Hindupur","Hisar","Hosur","Howrah","Hubballi","Hyderabad","Ichalkaranji","Imphal","Indore","Jabalpur","Jaipur","Jalandhar","Jalna","Jalgaon","Jammu","Jamnagar","Jamshedpur","Jaunpur","Jhansi","Jodhpur","Junagadh","Kadapa","Kakinada","Kalyan","Kamarhati","Kanpur","Karimnagar","Karnal","Katihar","Khammam","Khanna","Kharagpur","Kochi","Kolhapur","Kolkata","Kollam","Korba","Kota","Kottayam","Kozhikode","Krishnanagar","Kulti","Kumbakonam","Lakhimpur","Latur","Lucknow","Ludhiana","Madhyamgram","Madurai","Maheshtala","Malegaon","Malerkotla","Mango","Mathura","Meerut","Mirzapur","Moradabad","Morvi","Mumbai","Muzaffarnagar","Muzaffarpur","Mysore","Nabadwip","Nagaur","Nagpur","Naihati","Nalgonda","Nanded","Nashik","Navi Mumbai","Nellore","New Delhi","Nizamabad","North Dumdum","Orai","Ozhukarai","Pali","Pallavaram","Panihati","Panipat","Panvel","Parbhani","Patiala","Patna","Pimpri-Chinchwad","Puducherry","Pune","Purnia","Purulia","Raebareli","Raichur","Raiganj","Rajahmundry","Rajkot","Rajpur Sonarpur","Rampur","Ranchi","Ratlam","Raurkela","Rewa","Rohtak","Rourkela","Sagar","Saharanpur","Salem","Sangli","Sangli-Miraj & Kupwad","Satara","Satna","Secunderabad","Serampore","Shahjahanpur","Shimla","Shimoga","Shivpuri","Sikar","Siliguri","Singrauli","South Dumdum","Srikakulam","Srinagar","Sultanpur","Surendranagar","Surat","Thane","Thiruvananthapuram","Thrissur","Tiruchirappalli","Tirunelveli","Tirupati","Tiruvottiyur","Tumkur","Udaipur","Udupi","Unnao","Vadodara","Vapi","Varanasi","Vasai-Virar","Vellore","Vijayawada","Visakhapatnam","Warangal","Yamunanagar"]}')},51650:e=>{e.exports=JSON.parse('{"W":["Kuchipudi","Swing","Irish Dance","Folk Dance","Street Dance","Breaking","Voguing","House Dance","Bachata","Ballet","Ballroom","Belly Dance","Bhangra","Bharatanatyam","Bihu","Bollywood","Bollyhop","Butoh","Capoeira","Chhau","Clogging","Contemporary","Dandiya Raas","Flamenco","Garba","Giddha","Heels","Hip Hop","Irish Step Dance","Jazz","Jive","Kathak","Kathakali","Kizomba","Krumping","Lavani","Line Dance","Locking","Lyrical Hip-Hop","Manipuri","Modern Dance","Mohiniyattam","Odissi","Polynesian Dance","Popping","Rouf","Salsa","Sattriya","Tango","Tap Dance","Vogue","Waacking","Whacking","Zumba"]}')}}]);
//# sourceMappingURL=5340.b2c6f6f8.chunk.js.map