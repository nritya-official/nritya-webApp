"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[8393],{68393:(e,o,s)=>{s.r(o),s.d(o,{default:()=>g});var a=s(72791),t=s(57689),r=s(10159),l=s(98255),n=s(12481),c=s(83708),i=s(89743),d=s(2677),u=s(89164),m=s(94294),p=s(68449),h=s(18406),f=s(80184);const g=function(){const[e,o]=(0,a.useState)(!1),[s,g]=(0,a.useState)(null),y=(0,t.s0)(),x=async()=>{try{const o=await(0,l.rh)(r.I8,r.Ap),a=l.hJ.credentialFromResult(o),t=(a.accessToken,a.idToken,o.user);if(o){var e;let o=await(null===(e=r.I8.currentUser)||void 0===e?void 0:e.getIdToken());console.log("token",o),localStorage.setItem("authToken",o)}(async(e,o)=>{g(null===e||void 0===e?void 0:e.displayName),localStorage.setItem("username",s),localStorage.setItem("isLoggedIn",!0),localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("userInfoFull",JSON.stringify(o))})({UserId:t.uid,email:t.email,isPremium:t.isPremium,displayName:t.displayName,WorkshopCreated:t.WorkshopCreated,WorkshopEnrolled:t.WorkshopEnrolled,CreatorMode:!1,photoURL:t.photoURL},t),await(async e=>{try{const o=(0,n.JU)(r.db,c.Ul.USER,e.uid);if((await(0,n.QT)(o)).exists())console.log("User there");else{console.log("No such document!");const o={Name:e.displayName,Email:e.email,DoB:null,UserId:e.uid,WorkshopCreated:[],WorkshopEnrolled:[],Cart:[],CreatorMode:!1,KycIdList:{},StudioCreated:[],premiumTill:!1,TransactionIDs:[],recentlyWatched:{0:"",1:"",2:"",3:"",4:""}},s=e.email,a={user_id:e.uid},t=await(0,h.qC)(o,c.Ul.USER,s,a);t.ok?console.log("User added successfully"):console.error(t)}const s=(0,n.JU)(r.db,c.Ul.USER,e.uid),a=await(0,n.QT)(s);localStorage.setItem("userDetails",JSON.stringify({UserId:e.uid,email:e.email,isPremium:a.data().isPremium,displayName:a.data().displayName,WorkshopCreated:a.data().WorkshopCreated,WorkshopEnrolled:a.data().WorkshopEnrolled}))}catch(o){console.error("Error adding user: ",o)}})(t),await(0,p.oM)(t.uid),y("/")}catch(a){console.log("Invalid username or password"),o(!0)}};return(0,f.jsx)(u.Z,{fluid:!0,className:"custom-container-main",children:(0,f.jsx)(i.Z,{children:(0,f.jsx)(d.Z,{xs:12,md:12,children:(0,f.jsx)("div",{children:(0,f.jsx)("form",{className:"custom-login-form",onSubmit:e=>{e.preventDefault(),x()},style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"15px 0"},children:(0,f.jsxs)(m.Z,{type:"submit",style:{backgroundColor:"#D9D9D9",color:"#000",borderRadius:"6px",textTransform:"none",border:"1px solid #777",padding:"8px 16px"},children:[(0,f.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Icon",style:{marginRight:"10px",height:"20px"}}),"Sign In with Google"]})})})})})})}},2677:(e,o,s)=>{s.d(o,{Z:()=>i});var a=s(41418),t=s.n(a),r=s(72791),l=s(10162),n=s(80184);const c=r.forwardRef(((e,o)=>{const[{className:s,...a},{as:r="div",bsPrefix:c,spans:i}]=function(e){let{as:o,bsPrefix:s,className:a,...r}=e;s=(0,l.vE)(s,"col");const n=(0,l.pi)(),c=(0,l.zG)(),i=[],d=[];return n.forEach((e=>{const o=r[e];let a,t,l;delete r[e],"object"===typeof o&&null!=o?({span:a,offset:t,order:l}=o):a=o;const n=e!==c?"-".concat(e):"";a&&i.push(!0===a?"".concat(s).concat(n):"".concat(s).concat(n,"-").concat(a)),null!=l&&d.push("order".concat(n,"-").concat(l)),null!=t&&d.push("offset".concat(n,"-").concat(t))})),[{...r,className:t()(a,...i,...d)},{as:o,bsPrefix:s,spans:i}]}(e);return(0,n.jsx)(r,{...a,ref:o,className:t()(s,!i.length&&c)})}));c.displayName="Col";const i=c},89743:(e,o,s)=>{s.d(o,{Z:()=>i});var a=s(41418),t=s.n(a),r=s(72791),l=s(10162),n=s(80184);const c=r.forwardRef(((e,o)=>{let{bsPrefix:s,className:a,as:r="div",...c}=e;const i=(0,l.vE)(s,"row"),d=(0,l.pi)(),u=(0,l.zG)(),m="".concat(i,"-cols"),p=[];return d.forEach((e=>{const o=c[e];let s;delete c[e],null!=o&&"object"===typeof o?({cols:s}=o):s=o;const a=e!==u?"-".concat(e):"";null!=s&&p.push("".concat(m).concat(a,"-").concat(s))})),(0,n.jsx)(r,{ref:o,...c,className:t()(a,i,...p)})}));c.displayName="Row";const i=c}}]);
//# sourceMappingURL=8393.3b1e4f3a.chunk.js.map