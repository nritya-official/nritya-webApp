"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[467],{26953:(e,t,l)=>{l.d(t,{Z:()=>r});l(72791);var a=l(21204),o=l(80184);const r=e=>{let{studio:t}=e;return(0,o.jsx)("a",{href:`#/studio/${t.id}`,children:(0,o.jsx)(a.Z,{data:t,img_src:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg"})})}},21204:(e,t,l)=>{l.d(t,{Z:()=>x});l(72791);var a=l(92552),o=l(84654),r=l(28658),n=l(69597),s=l(18625),i=l(83168),c=l(36314),d=l(59434),m=l(60717),p=l(83708),h=l(97310),g=l(17237),u=l(80184);function x(e){let{img_src:t,data:l}=e;const x=(0,d.v9)(m.w),j=l.id?l.id:l.studioId,y={backgroundColor:x?"#444":"white",padding:"0px",color:x?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,u.jsxs)(o.Z,{variant:"solid",sx:{...y,"&:hover":{transform:"scale(1.01)"}},children:[(0,u.jsxs)(a.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,u.jsx)("img",{src:l&&l.iconUrl?l.iconUrl:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg",loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",height:"auto",overflow:"hidden"}}),(0,u.jsx)(c.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:l&&l.danceStyles&&"string"===typeof l.danceStyles?l.danceStyles.split(",").slice(0,3).map(((e,t)=>(0,u.jsx)(n.Z,{color:t%2===0?"danger":"success",sx:{marginBottom:"10px",fontSize:"0.8rem",bgcolor:p.lt[t].backgroundColor,color:p.lt[t].color},children:e.trim()},t))):(0,u.jsx)(n.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)})]}),(0,u.jsxs)(r.Z,{style:{padding:"10px"},children:[(0,u.jsx)(s.Z,{href:`#/studio/${j}`,fontWeight:"md",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,style:{color:x?"white":"black",extDecoder:"one"},children:l&&l.studioName?l.studioName:"    "}),(0,u.jsx)(i.ZP,{style:{color:x?"white":"black"},level:"body-xs",children:l.street?l.street:".  "}),(0,u.jsx)(h.ZP,{hidden:!0,"aria-label":"Like minimal photography",size:"md",variant:"solid",color:"danger",sx:{position:"absolute",zIndex:2,borderRadius:"50%",right:"1rem",bottom:"2rem",transform:"translateY(50%)"},children:(0,u.jsx)(g.Z,{})}),(0,u.jsxs)(i.ZP,{style:{color:x?"white":"black"},children:["\u2b50 ",l&&l.avgRating?l.avgRating.toFixed(1):" Not rated yet"]})]})]})}},33467:(e,t,l)=>{l.r(t),l.d(t,{default:()=>H});var a=l(72791),o=l(59434),r=l(60717),n=l(47022),s=l(89743),i=l(2677),c=l(95316),d=l(13855),m=l(56144),p=l(43360),h=l(67107),g=l(61889),u=l(44507),x=l(36314),j=l(49644),y=l(76989),v=l(81918),S=l(29472),f=l(697),Z=l(48387),b=l(74569),I=l.n(b),C=l(51650),k=l(26953),w=l(5403),L=l(63466),N=l(83708),D=l(1734),R=l(51321),U=l(99637),O=l(80184);const A="filterSearchType",z="filterDistances",F="filterDanceForms",T="browserGeoLoc",B=[N.zq.ALL,N.zq.BEGINNERS,N.zq.INTERMEDIATE,N.zq.ADVANCED],$=10**10,P=[1,2,3,4,5,6,7,8,9,10],E=[{name:"studio",label:"Studios",collection:N.Ul.STUDIO},{name:"workshop",label:"Workshops",collection:N.Ul.WORKSHOPS},{name:"openClass",label:"Open Classes",collection:N.Ul.OPEN_CLASSES},{name:"course",label:"Courses",collection:N.Ul.COURSES}];const H=()=>{const[e,t]=(0,a.useState)(""),[l,b]=(0,a.useState)([]),[H,W]=(0,a.useState)(""),q=(0,o.v9)(r.w),[_,J]=(0,a.useState)(!1),[G,K]=(0,a.useState)({}),[M,V]=(0,a.useState)("distances"),[Y,Q]=(0,a.useState)(0),[X,ee]=(0,a.useState)([]),[te,le]=(0,a.useState)([]),[ae,oe]=(0,a.useState)("studio"),[re,ne]=(0,a.useState)("All"),[se,ie]=(0,a.useState)($),[ce,de]=(0,a.useState)({workshop:[],openClass:[],course:[]}),me=((0,o.I0)(),C.W.map((e=>({value:e,label:e})))),pe=()=>{J(!_)},he=(0,h.Z)({palette:{mode:q?"dark":"light"}}),ge=()=>{let e=0;localStorage.getItem(z)&&e++,localStorage.getItem(A)&&e++,re&&re!==N.zq.ALL&&e++,se&&se!=$&&e++;const t=localStorage.getItem(F);return t&&(e+=JSON.parse(t).length),e},ue=()=>{const l=localStorage.getItem(A)||ae||"studio";null==e&&t("");let a=`https://nrityaserver-2b241e0a97e5.herokuapp.com/api/search/?query=${e}`;const o=(e=>{const t=E.find((t=>t.name===e));return t?t.collection:N.Ul.STUDIO})(l),r=localStorage.getItem("filterLocation")||"New Delhi";a+=`&city=${encodeURIComponent(r)}`,(async e=>{try{const t=`https://nrityaserver-2b241e0a97e5.herokuapp.com/api/autocomplete/?&city=${e}`,l=await fetch(t);if(!l.ok)throw new Error("Failed to fetch data");const a=await l.json();K(a)}catch(t){console.error("Error in processing:",t)}})(r),l&&(a+=`&entity=${encodeURIComponent(o)}`),te.length>0&&(a+=`&danceStyle=${encodeURIComponent(te.join(","))}`),o!==N.Ul.STUDIO&&re&&re!==N.zq.ALL&&(a+=`&level=${encodeURIComponent(re)}`),o!==N.Ul.WORKSHOPS&&o!==N.Ul.COURSES||!se||se===$||(a+=`&price=${encodeURIComponent(se)}`);const n=function(){var e=localStorage.getItem(T);if(null!==e)try{var t=JSON.parse(e);if(t&&t.latitude&&t.longitude)return{latitude:t.latitude,longitude:t.longitude}}catch(l){console.error("Error parsing JSON:",l)}return null}();H&&n&&localStorage.getItem(z)&&(a+=`&distance=${encodeURIComponent(H)}&user_lat=${encodeURIComponent(n.latitude)}&user_lon=${encodeURIComponent(n.longitude)}`),console.log("apiEndpoint ",a),fetch(a).then((e=>e.json())).then((e=>{const t=Array.isArray(e)?e:Object.values(e);b(t)})).catch((e=>console.error("Error fetching search results:",e)))},xe=()=>{W(""),le([]),oe("studio"),ie($),ne(N.zq.ALL),localStorage.removeItem(z),localStorage.removeItem(F),localStorage.setItem(A,"studio"),Q(ge()),J(!1),ue()};return(0,a.useEffect)((()=>{const e=localStorage.getItem(z),t=localStorage.getItem(F),l=localStorage.getItem(A);l?oe(l):(oe("studio"),localStorage.setItem(A,"studio")),e&&W(e),t&&le(JSON.parse(t)),Q(ge()),ue()}),[]),(0,O.jsxs)("div",{style:{backgroundColor:q?"#202020":"white",padding:"10px",minHeight:"75vh"},children:[(0,O.jsx)("header",{children:(0,O.jsxs)(n.Z,{style:{width:"100%"},children:[(0,O.jsx)(g.ZP,{container:!0,alignItems:"center",children:(0,O.jsx)(g.ZP,{item:!0,xs:12,children:(0,O.jsx)(u.Z,{theme:he,children:(0,O.jsx)(x.Z,{style:{width:"100%",paddingRight:0,marginTop:0,marginLeft:0,marginBottom:0},direction:"row",spacing:1,children:(0,O.jsx)(j.Z,{value:e,onInputChange:async(e,l)=>{if(t(l),l.length>=3)try{const e="filterLocation",t="New Delhi",a=localStorage.getItem(e)||t,o=`https://nrityaserver-2b241e0a97e5.herokuapp.com/api/autocomplete?query=${l}&city=${encodeURIComponent(a||t)}`,r=await I().get(o);console.log("Response :",r.data);const n=Object.values(r.data).filter((e=>null!==e));ee(n)}catch(a){console.error("Error fetching autocomplete suggestions:",a)}else ee([])},onChange:(e,l)=>{t(l)},options:X,getOptionLabel:e=>e.toString(),renderInput:e=>(0,O.jsx)(y.Z,{...e,label:"Search studios, workshops, open classes, courses......",variant:"outlined",InputProps:{...e.InputProps,endAdornment:(0,O.jsx)(L.Z,{position:"end",style:{marginRight:0,marginTop:0,marginLeft:0,marginBottom:0},children:(0,O.jsx)(w.Z,{style:{cursor:"pointer",color:q?"#892CDC":"black",marginRight:1},onClick:ue})}),style:{paddingRight:0,marginTop:0,marginLeft:0,marginBottom:0}}}),style:{flex:1}})})})})}),(0,O.jsx)("br",{}),(0,O.jsx)(s.Z,{className:"align-items-center",children:(0,O.jsx)("div",{className:"horizontal-scroll-wrapper-for-filters",children:E.map((e=>(0,O.jsx)(i.Z,{xs:"auto",style:{marginTop:"0.5rem"},children:(0,O.jsx)(v.Z,{label:e.label,variant:ae===e.name?"outlined":"contained",sx:{cursor:"pointer",bgcolor:ae===e.name?"black":"#D9D9D9",color:ae===e.name?"white":"black",borderRadius:"10px","&:hover":{bgcolor:(e.name,"black"),color:(e.name,"white")}},onClick:()=>{return t=e.name,localStorage.setItem(A,t),localStorage.removeItem(z),W(""),ne(N.zq.ALL),ie($),oe(t),Q(ge()),void ue();var t}})},e.name)))})}),(0,O.jsx)(s.Z,{className:"align-items-center",children:(0,O.jsxs)("div",{className:"horizontal-scroll-wrapper-for-filters",children:[(0,O.jsx)(i.Z,{xs:"auto",style:{marginTop:"0.5rem"},children:(0,O.jsx)(S.Z,{onClick:pe,badgeContent:Y,color:q?"warning":"secondary",pill:!0,children:(0,O.jsx)(v.Z,{className:"rounded-3",color:q?"warning":"secondary",label:"\u2630 filters",variant:q?"outlined":"contained"})})}),(te.length||H||re&&re!==N.zq.ALL||se&&se!==$)&&(0,O.jsx)(i.Z,{xs:"auto",style:{marginTop:"0.5rem"},children:(0,O.jsx)(S.Z,{color:"error",onClick:xe,style:{cursor:"pointer"},pill:!0,children:(0,O.jsx)(v.Z,{color:"error",label:"Clear All",onDelete:xe,style:{cursor:"pointer"},variant:q?"outlined":"contained",className:"rounded-3"})})}),(0,O.jsxs)(f.Z,{display:"flex",children:[H&&(0,O.jsx)(i.Z,{xs:"auto",style:{marginTop:"0.5rem"},children:(0,O.jsx)(S.Z,{color:"success",pill:!0,children:(0,O.jsx)(v.Z,{className:"rounded-3",color:"success",label:`Distance: ${H} km`,variant:q?"outlined":"contained",onDelete:()=>{W(null),localStorage.removeItem(z),Q(ge()),ue()}})})}),re&&re!==N.zq.ALL&&(0,O.jsx)(i.Z,{xs:"auto",children:(0,O.jsx)(S.Z,{color:"info",style:{marginLeft:"0",marginTop:"0.5rem"},pill:!0,children:(0,O.jsx)(v.Z,{className:"rounded-3",color:"info",label:`Level: ${re}`,variant:q?"outlined":"contained",onDelete:()=>ne(N.zq.ALL)})},re)}),se&&se!==$&&(0,O.jsx)(i.Z,{xs:"auto",children:(0,O.jsx)(S.Z,{color:"info",style:{marginLeft:"0",marginTop:"0.5rem"},pill:!0,children:(0,O.jsx)(v.Z,{className:"rounded-3",color:"info",label:`Prices Upto: ${se}`,variant:q?"outlined":"contained",onDelete:()=>ie($)})},se)}),te&&(0,O.jsx)(i.Z,{xs:"auto",children:te.map(((e,t)=>(0,O.jsx)(S.Z,{color:"info",style:{marginLeft:0!==t?"0.25rem":"0",marginTop:"0.5rem"},pill:!0,children:(0,O.jsx)(v.Z,{className:"rounded-3",color:"info",label:`Dance Form: ${e}`,variant:q?"outlined":"contained",onDelete:()=>(e=>{const t=te.filter((t=>t!==e));le(t),localStorage.setItem(F,JSON.stringify(t)),Q(ge()),ue()})(e)})},t)))})]})]})})]})}),(0,O.jsxs)(c.Z,{show:_,onHide:pe,backdrop:"static",children:[(0,O.jsx)(c.Z.Header,{closeButton:!0,children:(0,O.jsx)(c.Z.Title,{children:"Filters"})}),(0,O.jsxs)(c.Z.Body,{children:[(0,O.jsxs)(s.Z,{children:[(0,O.jsxs)(i.Z,{md:4,children:[(0,O.jsx)("h5",{children:"Filter By:"}),(0,O.jsxs)("ul",{style:{listStyleType:"none",padding:0},children:["studio"===ae&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("hr",{style:{margin:"5px 0"}}),(0,O.jsx)("li",{style:{cursor:"pointer",margin:"5px 0"},onClick:()=>(V("distances"),J(!0)),children:"Distances"})]}),("workshop"===ae||"course"===ae)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("hr",{style:{margin:"5px 0"}}),(0,O.jsx)("li",{style:{cursor:"pointer",margin:"5px 0"},onClick:()=>(V("price"),J(!0)),children:"Price"})]}),"studio"!==ae&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("hr",{style:{margin:"5px 0"}}),(0,O.jsx)("li",{style:{cursor:"pointer",margin:"5px 0"},onClick:()=>(V("level"),J(!0)),children:"Level"})]}),(0,O.jsx)("hr",{style:{margin:"5px 0"}}),(0,O.jsx)("li",{style:{cursor:"pointer",margin:"5px 0"},onClick:()=>(V("danceForm"),J(!0)),children:"Dance Forms"}),(0,O.jsx)("hr",{style:{margin:"5px 0"}})]})]}),(0,O.jsxs)(i.Z,{md:8,children:[_&&"distances"===M&&(0,O.jsxs)(d.Z.Group,{controlId:"filterDistances",children:[(0,O.jsx)(d.Z.Label,{children:"Distances:"}),(0,O.jsxs)(d.Z.Control,{className:"p-0",as:"select",value:H,onChange:e=>W(e.target.value),children:[(0,O.jsx)("option",{value:"",children:"Select distance"}),P.map((e=>(0,O.jsxs)("option",{value:e,children:[e," km"]},e)))]})]}),_&&"level"===M&&(0,O.jsxs)(d.Z.Group,{controlId:"filterLevel",children:[(0,O.jsx)(d.Z.Label,{children:"Level :"}),(0,O.jsxs)(d.Z.Control,{className:"p-0",as:"select",value:re,onChange:e=>ne(e.target.value),children:[(0,O.jsx)("option",{value:"",children:"Select Lavel"}),B.map((e=>(0,O.jsx)("option",{value:e,children:e},e)))]})]}),_&&"price"===M&&(0,O.jsxs)(d.Z.Group,{controlId:"filterPrice",children:[(0,O.jsx)(d.Z.Label,{children:"Prices :"}),(0,O.jsxs)(d.Z.Control,{className:"p-0",as:"select",value:se,onChange:e=>ie(e.target.value),children:[(0,O.jsx)("option",{value:"",children:"Prices below"}),[499,999,1499,1999,2999,4999,9999,$].map((e=>(0,O.jsx)("option",{value:e,children:e>=$?"All":e},e)))]})]}),_&&"danceForm"===M&&(0,O.jsxs)(d.Z.Group,{controlId:"filterDanceForms",children:[(0,O.jsx)(d.Z.Label,{children:"Dance Forms:"}),(0,O.jsx)(Z.ZP,{isMulti:!0,value:me.filter((e=>te.includes(e.value))),onChange:e=>{le(e?e.map((e=>e.value)):[])},options:me,closeMenuOnSelect:!1,placeholder:"Select Dance Forms",styles:{valueContainer:e=>({...e,maxHeight:100,overflowY:"auto"}),multiValue:(e,t)=>t.data.isFixed?{...e,backgroundColor:"gray"}:e,multiValueLabel:(e,t)=>t.data.isFixed?{...e,fontWeight:"bold",color:"white",paddingRight:6}:e,multiValueRemove:(e,t)=>t.data.isFixed?{...e,display:"none"}:e}})]})]})]}),(0,O.jsxs)(m.Z,{style:{marginTop:"1rem"},children:[(0,O.jsx)(p.Z,{variant:"primary",onClick:()=>{localStorage.setItem(z,H),localStorage.setItem(A,ae),localStorage.setItem(F,JSON.stringify(te)),Q(ge()),J(!1),ue()},children:"Apply"}),(0,O.jsx)(p.Z,{variant:"danger",onClick:xe,style:{marginLeft:"10px"},children:"Clear All Filters"})]})]})]}),(0,O.jsx)("hr",{}),"studio"===ae&&(0,O.jsx)("div",{style:{display:"flex",flexWrap:"wrap",padding:"10px"},children:0===l.length?(0,O.jsx)("div",{className:"",style:{minHeight:"30vh"}}):l.map(((e,t)=>(0,O.jsx)("div",{className:"studio-card-container",style:{padding:"0.2rem"},md:2,children:(0,O.jsx)("a",{href:`#/studio/${e.studioId}`,style:{textDecoration:"none"},children:(0,O.jsx)(k.Z,{studio:e})})},t)))}),"workshop"===ae&&(0,O.jsx)("div",{style:{display:"flex",flexWrap:"wrap",padding:"10px"},children:0===l.length?(0,O.jsx)("div",{className:"",style:{minHeight:"30vh"}}):l.map(((e,t)=>(0,O.jsx)("div",{className:"studio-card-container",style:{padding:"0.2rem"},md:2,children:(0,O.jsx)(D.Z,{dataItem:e,studioIdName:G},e.id)},t)))}),"openClass"===ae&&(0,O.jsx)("div",{style:{display:"flex",flexWrap:"wrap",padding:"10px"},children:0===l.length?(0,O.jsx)("div",{className:"",style:{minHeight:"30vh"}}):l.map(((e,t)=>(0,O.jsx)("div",{className:"studio-card-container",style:{padding:"0.2rem"},md:2,children:(0,O.jsx)(R.Z,{dataItem:e,studioIdName:G},e.id)},t)))}),"course"===ae&&(0,O.jsx)("div",{style:{display:"flex",flexWrap:"wrap",padding:"10px"},children:0===l.length?(0,O.jsx)("div",{className:"",style:{minHeight:"30vh"}}):l.map(((e,t)=>(0,O.jsx)("div",{className:"studio-card-container",style:{padding:"0.2rem"},md:2,children:(0,O.jsx)(U.Z,{dataItem:e,studioIdName:G},e.id)},t)))})]})}},51650:e=>{e.exports=JSON.parse('{"W":["Kuchipudi","Swing","Irish Dance","Folk Dance","Street Dance","Breaking","Voguing","House Dance","Bachata","Ballet","Ballroom","Belly Dance","Bhangra","Bharatanatyam","Bihu","Bollywood","Bollyhop","Butoh","Capoeira","Chhau","Clogging","Contemporary","Dandiya Raas","Flamenco","Garba","Giddha","Heels","Hip Hop","Irish Step Dance","Jazz","Jive","Kathak","Kathakali","Kizomba","Krumping","Lavani","Line Dance","Locking","Lyrical Hip-Hop","Manipuri","Modern Dance","Mohiniyattam","Odissi","Polynesian Dance","Popping","Rouf","Salsa","Sattriya","Tango","Tap Dance","Vogue","Waacking","Whacking","Zumba"]}')}}]);
//# sourceMappingURL=467.d7306e0f.chunk.js.map