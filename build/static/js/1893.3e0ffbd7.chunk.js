"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[1893],{41893:(e,o,t)=>{t.r(o),t.d(o,{default:()=>P});var a=t(72791),n=t(47022),r=t(95313),c=t(43360),s=t(59434),l=t(60717),i=t(68449),d=t(83708),u=t(67107),h=t(44507),g=t(35527),m=t(20890),f=t(63875),p=t(74512),E=t(15825),b=t(66934),C=t(56856),I=t(23285),S=t(80184);const y=(0,b.ZP)(C.Z)((e=>{let{theme:o}=e;return{["&.".concat(I.Z.alternativeLabel)]:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},["&.".concat(I.Z.active)]:{["& .".concat(I.Z.line)]:{borderColor:"green"}},["&.".concat(I.Z.completed)]:{["& .".concat(I.Z.line)]:{borderColor:"green"}},["& .".concat(I.Z.line)]:{borderColor:"dark"===o.palette.mode?o.palette.grey[800]:"#eaeaf0",borderTopWidth:3,borderRadius:1}}})),x=[d.n$.SUBMITTED,d.n$.UNDER_REVIEW,d.n$.REVIEWED,d.n$.VERIFIED],R={[d.n$.SUBMITTED]:0,[d.n$.UNDER_REVIEW]:1,[d.n$.REVIEWED]:2,[d.n$.VERIFIED]:3,[d.n$.VERIFICATION_FAILED]:3},k=e=>{let{kycId:o,status:t}=e;const n=(0,s.v9)(l.w),[r,c]=(0,a.useState)({});console.log(t);const b=(0,u.Z)({palette:{mode:n?"dark":"light",primary:{main:n?"#90caf9":"#1976d2"}}});return(0,a.useEffect)((()=>{(async()=>{try{const e=await(0,i.Ld)(d.Ul.USER_KYC,o);c(e)}catch(e){console.error("Error fetching KYC data for KYC ID ".concat(o,":"),e)}})()}),[o]),(0,S.jsx)(h.Z,{theme:b,children:(0,S.jsxs)(g.Z,{sx:{textAlign:"center",marginBottom:"1rem"},elevation:2,children:[(0,S.jsxs)(m.Z,{variant:"h5",component:"p",children:["Application Status: ",t]}),(0,S.jsx)("br",{}),(0,S.jsx)(f.Z,{activeStep:R[t],alternativeLabel:!0,connector:(0,S.jsx)(y,{}),children:x.map(((e,o)=>(0,S.jsx)(p.Z,{children:(0,S.jsx)(E.Z,{error:e===d.n$.VERIFIED&&t===d.n$.VERIFICATION_FAILED,children:e===d.n$.VERIFIED&&t===d.n$.VERIFICATION_FAILED?"Failed Verification":e})},o)))}),(0,S.jsx)("br",{})]})})};var w=t(89704),A=t.n(w);const O=(e,o)=>{let t="";switch(console.log(e,o),e){case"phone_number":/^\d{10}$/.test(o)||(t="Phone number must be exactly 10 digits.");break;case"zip_pin_code":/^\d{6}$/.test(o)||(t="ZIP/Pin code must be exactly 6 digits.");break;case"aadhar":o&&!/^\d{12}$/.test(o)&&(t="Aadhar number must be exactly 12 digits.");break;case"gstin":o&&!/^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}[Zz]{1}[0-9A-Za-z]{1}$/.test(o)&&(t="GSTIN must be a valid format (e.g., 22ABCDE0000A1Z5).")}return console.log(t),t};var N=t(18406),j=t(57482),T=t(82873),v=t(65202);const _=new Map([["first_name","First Name"],["middle_last_name","Middle & Last Name"],["phone_number","Phone Number"],["street_address","Street Address"],["city","City"],["state_province","State"],["state","State"],["zip_pin_code","PIN Code/ZIP"],["aadhar","Aadhar Number"],["gstin","GST Number"],["comments","Remark(s)"]]),U=[["first_name"],["middle_last_name"],["phone_number"],["street_address"],["city"],["state_province","state"],["zip_pin_code"]],D=T.c,L=v.$;const P=function(){var e,o,t;const[u,h]=(0,a.useState)({first_name:"",middle_last_name:"",phone_number:"",street_address:"",city:"",state_province:"",zip_pin_code:"",country:"India",aadhar:"",gstin:"",comments:"",status:d.n$.SUBMITTED,tncAgreed:!1,hash:""}),[g,f]=(0,a.useState)(null),p=(0,s.v9)(l.w),[E,b]=(0,a.useState)({}),C=null===(e=JSON.parse(localStorage.getItem("userInfo")))||void 0===e?void 0:e.UserId,I="".concat(C,"_Kyc"),[y,x]=(0,a.useState)(null),[R,w]=(0,a.useState)(null),[T,v]=(0,a.useState)([]),[P,Z]=(0,a.useState)([]),[G,M]=(0,a.useState)(!1),[F,K]=(0,a.useState)(-1),[B,V]=(0,a.useState)(-1),[Y,W]=(0,a.useState)(!1),H=null===(o=JSON.parse(localStorage.getItem("userInfo")))||void 0===o?void 0:o.email,$=null===(t=JSON.parse(localStorage.getItem("userInfo")))||void 0===t?void 0:t.displayName,J=e=>{const{name:o,value:t}=e.target,a=O(o,t);b((e=>({...e,[o]:a}))),h((e=>({...e,[o]:t})))};(0,a.useEffect)((()=>{(async()=>{const e=await(0,i.Ld)(d.Ul.USER_KYC,I);e?(f(e),h({...e,status:e.status||d.n$.SUBMITTED})):f(null)})(),(async()=>{const e="".concat(d.Rb.CREATORS_KYC_DOCUMENTS,"/").concat(C);try{const[o,t]=await Promise.all([(0,i.XG)("".concat(e,"/Aadhar/")),(0,i.XG)("".concat(e,"/Gst/"))]);o&&o.length>0?x(o):(x(null),console.warn("No Aadhar documents found.")),t&&t.length>0?w(t):(w(null),console.warn("No GST documents found."))}catch(o){console.error("Error fetching KYC documents:",o)}})()}),[I]);const z=["status","hash","country","tncAgreed","comments","UserId","gstin","aadhar"];return(0,S.jsxs)("div",{style:{color:p?"white":"black"},children:[(0,S.jsxs)(n.Z,{className:"glassmorphic-container",style:{margin:"auto",border:p?"1px solid white":"1px solid black",borderRadius:"5px",padding:"20px"},children:[(0,S.jsxs)(r.Z,{onSubmit:async e=>{e.preventDefault(),W(!0);try{const o=Object.keys(u).filter((e=>!["hash","status","country","comments","UserId"].includes(e)));let t=!0,a=[],n=0;if(o.forEach((e=>{const o=O(e,u[e]);o&&(t=!1,n+=1,a.push("".concat(n,": ").concat(o)),b((t=>({...t,[e]:o}))))})),!t)return void alert("Please correct the following errors before submitting:\n\n".concat(a.join("\n")));const r=await(0,i.Ld)(d.Ul.USER_KYC,I),c=(e=>{const o=Object.keys(e).filter((e=>"hash"!==e&&"status"!==e)).sort().map((o=>"".concat(o,":").concat(e[o]))).join("|");return A().SHA256(o).toString()})(u);console.log(c,null===r||void 0===r?void 0:r.hash);const s=H,l={user_name:$,user_id:C};if(r){if(r.hash!==c){const e={...u,hash:c};await(0,N.qC)(e,d.Ul.USER_KYC,s,l)}}else{const e={...u,hash:c};await(0,N.qC)(e,d.Ul.USER_KYC,s,l)}T&&(console.log(T),await(0,i.qS)(d.Rb.CREATORS_KYC_DOCUMENTS,C,"Aadhar"),K(0),await(0,i.FV)(d.Rb.CREATORS_KYC_DOCUMENTS,T,C,"Aadhar",(e=>K(e)),(e=>{x(e),console.log(e)}))),P&&(console.log(P),await(0,i.qS)(d.Rb.CREATORS_KYC_DOCUMENTS,C,"Gst"),V(0),await(0,i.FV)(d.Rb.CREATORS_KYC_DOCUMENTS,P,C,"Gst",(e=>V(e)),(e=>{w(e),console.log(e)}))),await(0,i.Xt)(d.Ul.USER,C,{KycIdList:{[I]:u.status}}),e.target.reset()}catch(o){console.error("Error processing KYC: ",o)}finally{W(!1)}},children:[(0,S.jsx)("h1",{style:{color:p?"white":"black",textTransform:"capitalize"},children:"Verify yourself"}),(0,S.jsx)("div",{className:"row",children:U.map((e=>{const o=e.find((e=>!z.includes(e)&&void 0!==u[e]));return o?(0,S.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,S.jsxs)(r.Z.Group,{controlId:"formBasic".concat(o),children:[(0,S.jsx)(m.Z,{style:{color:p?"white":"black"},children:_.get(o)}),["city","state_province"].includes(o)?(0,S.jsxs)(r.Z.Control,{as:"select",placeholder:"Enter ".concat(_.get(o)),name:o,value:u[o],onChange:J,required:!0,className:"glassmorphic-input",style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black",paddingTop:0,paddingBottom:0},children:[(0,S.jsxs)("option",{value:"",children:["Select a ",_.get(o)]}),[..."city"===o?D:L].map(((e,o)=>(0,S.jsx)("option",{value:e,children:e},o)))]}):(0,S.jsx)(r.Z.Control,{type:"age"===o||"phone_number"===o?"number":"text",placeholder:"Enter ".concat(_.get(o)),name:o,value:u[o],onChange:J,required:!0,className:"glassmorphic-input",style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black"}}),E[o]&&(0,S.jsx)("span",{style:{color:"red"},children:E[o]})," "]})},o):null}))}),(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"col-md-6 col-lg-4",children:[(0,S.jsxs)(r.Z.Group,{controlId:"formBasicAadhar",children:[(0,S.jsx)(r.Z.Label,{style:{color:p?"white":"black"},children:"Aadhar"}),(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsx)(r.Z.Control,{type:"text",placeholder:"Enter Aadhar Number",name:"aadhar",className:"glassmorphic-input",value:u.aadhar,onChange:J,style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black",marginRight:"10px"}}),(0,S.jsx)(c.Z,{disable:"Verified"===u.status,variant:"light",onClick:()=>document.getElementById("aadharUpload").click(),style:{padding:"0.5rem",backgroundColor:p?"#333":"#f8f9fa",color:p?"white":"black",cursor:"pointer"},children:"Upload"}),(0,S.jsx)("input",{type:"file",id:"aadharUpload",accept:".pdf",style:{display:"none"},onChange:e=>(e=>{v(e.target.files[0]),M(!0)})(e)})]}),y&&y.length>0&&y[0].fileURL?(0,S.jsx)(c.Z,{variant:"link",style:{color:"#007bff",textDecoration:"none"},onClick:()=>window.open(y[0].fileURL,"_blank"),children:"Download Aadhar Document"}):(0,S.jsx)("p",{style:{color:p?"white":"black"},children:(null===T||void 0===T?void 0:T.name)||"No new Aadhar file uploaded."})]}),E.aadhar&&(0,S.jsx)("span",{style:{color:"red"},children:E.aadhar}),(0,S.jsx)("div",{children:F>=0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("progress",{value:F,max:"100"}),(0,S.jsxs)("p",{children:[F,"% uploaded"]})]})})]})}),(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"col-md-6 col-lg-4",children:[(0,S.jsxs)(r.Z.Group,{controlId:"formBasicGst",children:[(0,S.jsx)(r.Z.Label,{style:{color:p?"white":"black"},children:"GST"}),(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsx)(r.Z.Control,{type:"text",placeholder:"Enter GST Number",name:"gstin",value:u.gstin,onChange:J,className:"glassmorphic-input",style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black",marginRight:"10px"}}),(0,S.jsx)(c.Z,{disable:"Verified"===u.status,variant:"light",onClick:()=>document.getElementById("gstUpload").click(),style:{padding:"0.5rem",backgroundColor:p?"#333":"#f8f9fa",color:p?"white":"black",cursor:"pointer"},children:"Upload"}),(0,S.jsx)("input",{type:"file",id:"gstUpload",accept:".pdf",style:{display:"none"},onChange:e=>(e=>{Z(e.target.files[0]),M(!0)})(e)})]}),R&&R.length>0&&R[0].fileURL?(0,S.jsx)(c.Z,{variant:"link",style:{color:"#007bff",textDecoration:"none"},onClick:()=>window.open(R[0].fileURL,"_blank"),children:"Download GST Document"}):(0,S.jsxs)("p",{style:{color:p?"white":"black"},children:[" ",(null===P||void 0===P?void 0:P.name)||"No new GST file uploaded."]})]}),E.gstin&&(0,S.jsx)("span",{style:{color:"red"},children:E.gstin}),(0,S.jsx)("div",{children:B>=0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("progress",{value:B,max:"100"}),(0,S.jsxs)("p",{children:[B,"% uploaded"]})]})})]})}),(0,S.jsxs)("div",{class:"form-check",children:[(0,S.jsx)("input",{type:"checkbox",class:"form-check-input",id:"tnc-switch",checked:u.tncAgreed,onChange:e=>{h((o=>({...o,tncAgreed:e.target.checked})))}}),(0,S.jsx)("label",{class:"form-check-label",for:"exampleCheck1",children:(0,S.jsxs)("span",{style:{color:p?"white":"black"},children:["I agree to the ",(0,S.jsx)("a",{href:"#/npoliciesStudio",style:{color:p?"lightblue":"blue"},children:"Terms and Conditions. Click to read."})]})})]}),(0,S.jsx)("br",{}),u.comments&&(0,S.jsxs)("div",{className:"col-md-12 col-lg-12",children:[(0,S.jsx)("br",{}),(0,S.jsxs)(r.Z.Group,{controlId:"formBasicComments",children:[(0,S.jsx)(r.Z.Label,{children:_.get("comments")}),(0,S.jsx)(r.Z.Control,{as:"textarea",name:"comments",value:u.comments,readOnly:!0,style:{backgroundColor:p?"#181818":"#e5e5e5",color:p?"white":"black"}})]})]}),(0,S.jsx)(c.Z,{variant:"info",type:"submit",disabled:"Verified"===u.status||!u.tncAgreed,children:"Submit"})]}),Y&&(0,S.jsx)(j.Z,{}),(0,S.jsx)("br",{}),(0,S.jsx)(S.Fragment,{children:u.hash&&(0,S.jsx)(k,{kycId:I,status:u.status})})]}),(0,S.jsx)("br",{})]})}},83708:(e,o,t)=>{t.d(o,{A3:()=>f,DM:()=>d,Hi:()=>p,QP:()=>E,RY:()=>u,Rb:()=>m,Ul:()=>g,i0:()=>c,lt:()=>h,n$:()=>r,rM:()=>l,uM:()=>i,zq:()=>s});var a=t(56355),n=t(80184);const r={SUBMITTED:"Submitted",UNDER_REVIEW:"Under Review",REVIEWED:"Reviewed",VERIFIED:"Verified",VERIFICATION_FAILED:"Verification Failed"},c={DRAFT_STUDIOS:"DraftStudios",DRAFT_WORKSHOPS:"DraftWorkshops",DRAFT_OPEN_CLASSES:"DraftOpenClasses",DRAFT_COURSES:"DraftCourses"},s={ALL:"All",BEGINNERS:"Beginner",INTERMEDIATE:"Intermediate",ADVANCED:"Advanced"},l={INTERNET_CONV_CHARGES_WORKSHOPS_COURSES_INR:30,WORKSHOPS_BOOKING_LIMIT:10,OPEN_CLASSES_BOOKING_LIMIT:2,COURSES_BOOKING_LIMIT:10},i={CLOUD:"https://djserver-production-ffe37b1b53b5.herokuapp.com/",LOCAL:"http://127.0.0.1:8000/"},d={GREEN:{backgroundColor:"#28a745",color:"#fff"},BLUE:{backgroundColor:"#007bff",color:"#fff"},YELLOW:{backgroundColor:"#ffc107",color:"#000"},RED:{backgroundColor:"#dc3545",color:"#fff"},PURPLE:{backgroundColor:"#6f42c1",color:"#fff"},ORANGE:{backgroundColor:"#fd7e14",color:"#fff"},TEAL:{backgroundColor:"#20c997",color:"#fff"},PINK:{backgroundColor:"#e83e8c",color:"#fff"},GRAY:{backgroundColor:"#6c757d",color:"#fff"},LIGHTBLUE:{backgroundColor:"#17a2b8",color:"#fff"},DARKBLUE:{backgroundColor:"#343a40",color:"#fff"},CYAN:{backgroundColor:"#00bcd4",color:"#fff"},INDIGO:{backgroundColor:"#6610f2",color:"#fff"},LIME:{backgroundColor:"#cddc39",color:"#000"},AMBER:{backgroundColor:"#ffca28",color:"#000"},BROWN:{backgroundColor:"#795548",color:"#fff"},LIGHTGREEN:{backgroundColor:"#8bc34a",color:"#000"},DEEPPURPLE:{backgroundColor:"#673ab7",color:"#fff"},DEEPORANGE:{backgroundColor:"#ff5722",color:"#fff"},BLACK:{backgroundColor:"#000000",color:"#fff"},WHITE:{backgroundColor:"#ffffff",color:"#000"},SILVER:{backgroundColor:"#c0c0c0",color:"#000"},GOLD:{backgroundColor:"#ffd700",color:"#000"},NAVY:{backgroundColor:"#001f3f",color:"#fff"},OLIVE:{backgroundColor:"#3d9970",color:"#fff"}},u={[s.ALL]:d.GREEN,[s.BEGINNERS]:d.BLUE,[s.INTERMEDIATE]:d.YELLOW,[s.ADVANCED]:d.RED},h=[d.PURPLE,d.ORANGE,d.TEAL,d.LIME],g={USER:"User",USER_KYC:"UserKyc",ADMIN:"Admin",REVIEWS:"Reviews",TRANSACTIONS:"Transactions",STUDIO:"Studio",INSTRUCTORS:"Instructors",FREE_TRIAL_BOOKINGS:"FreeTrialBookings",WORKSHOPS:"Workshops",OPEN_CLASSES:"OpenClasses",COURSES:"Courses",BOOKINGS:"Bookings"},m={STUDIOIMAGES:"StudioImages",STUDIOICON:"StudioIcon",STUDIOANNOUNCEMENTS:"StudioAnnouncements",USERIMAGE:"UserImage",INSTRUCTORIMAGES:"InstructorImages",WORKSHOPICON:"WorkshopIcon",WORKSHOPIMAGES:"WorkshopImages",OPENCLASSICON:"OpenClassIcon",COURSEICON:"CourseIcon",CREATORS_KYC_DOCUMENTS:"CreatorKycDocuments"},f="https://djserver-production-ffe37b1b53b5.herokuapp.com/",p="https://firebasestorage.googleapis.com/v0/b/nritya-7e526.appspot.com/o/RichEmailImages%2FDance3.jpg?alt=media&token=d7d41929-39c1-40d1-ad6a-1b2281769e84",E={AC:(0,n.jsx)(a.l51,{}),"Free Wifi":(0,n.jsx)(a._0,{}),"RO Water":(0,n.jsx)(a.EXY,{}),Toilet:(0,n.jsx)(a.Iev,{}),"Power Backup":(0,n.jsx)(a.eKD,{}),"Fire Extinguisher":(0,n.jsx)(a.Ybg,{}),"First Aid Kit":(0,n.jsx)(a.FZx,{}),"CCTV Camera":(0,n.jsx)(a.KoQ,{}),"Card Payment":(0,n.jsx)(a.ypE,{}),"Parking Space":(0,n.jsx)(a.mxg,{})}},18406:(e,o,t)=>{t.d(o,{C9:()=>c,P9:()=>s,fP:()=>r,ie:()=>l,qC:()=>n});var a=t(83708);async function n(e,o,t,n){const r=a.A3,c=localStorage.getItem("authToken");try{const a=await fetch(r+"crud/newEntity/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({data:e,collection_name:o,notify:t,metadata:n})});if(!a.ok)throw console.log("Error in postData:",a),new Error("HTTP error! status: ".concat(a.status));return a}catch(s){throw console.error("Error in postData:",s),s}}async function r(e,o,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const c=a.A3,s="crud/updateEntity/".concat(t),l=localStorage.getItem("authToken");try{const t=await fetch(c+s,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify({data:e,collection_name:o,notify:n,metadata:r})});if(!t.ok)throw console.log("Error in postData:",t),new Error("HTTP error! status: ".concat(t.status));return t}catch(i){throw console.error("Error in postData:",i),i}}const c=async e=>{const o="".concat(a.uM.CLOUD,"bookings/bookEntity/");try{const t=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.userId,entityType:e.entityType,entityId:e.entityId,associatedStudioId:e.associatedStudioId,emailLearner:e.emailLearner,personsAllowed:e.personsAllowed,pricePerPerson:e.pricePerPerson})}),a=await t.json();return t.ok?(console.log("Booking successful:",a),a):(console.error("Booking failed:",a),a)}catch(t){return console.error("Error occurred while booking:",t),null}},s=e=>{if(console.log("MediaDisplay",e),!e)return null;const o=e.trim().match(/(?:https?:\/\/)?(?:www\.|m\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/|shorts\/)|youtu\.be\/)([\w\-]+)/);let t=null;return o&&(t=o[1]),console.log("MediaDisplay",t),t},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const[o,t,a]=e.split("-");return"".concat((e=>{const o=e%10,t=1===o&&"11"!==e?"st":2===o&&"12"!==e?"nd":3===o&&"13"!==e?"rd":"th";return"".concat(e).concat(t)})(a)," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(t)-1],", ").concat(o)}},68449:(e,o,t)=>{t.d(o,{FV:()=>S,Km:()=>p,Ld:()=>h,Us:()=>u,XG:()=>y,Xt:()=>f,eg:()=>I,gG:()=>d,gY:()=>i,gv:()=>g,ih:()=>E,oM:()=>l,qS:()=>b,to:()=>m,xR:()=>C});var a=t(12481),n=t(10159),r=t(30276),c=t(83708),s=t(644);const l=async e=>{const o=c.A3,t="".concat(o,"crud/getUserMode/").concat(e);try{const e=await fetch(t),o=await e.json();if(o.success){let e=!1;!0===o.data&&(e=!0),s.Z.setItem("CreatorMode",e)}else console.log("Error: ",o.message||"Unknown error")}catch(a){console.log("Error fetching user mode: ",a),s.Z.setItem("CreatorMode",!1)}},i=async(e,o,t)=>{const a=c.A3;try{const n="".concat(a,"crud/").concat(e,"/").concat(o,"/");console.log(n);const r=await fetch(n),c=await r.json();c.success?t(c.data):console.error("Error fetching ".concat(o,":"),c.error)}catch(n){console.error("Error fetching ".concat(o,":"),n)}},d=async e=>(await l(e),await(async()=>{try{const e=s.Z.getItem("CreatorMode");return console.log("getCreatorMode ",e),e||!1}catch(e){return console.log(" error"),!1}})()),u=async(e,o)=>{console.log("Debug ","".concat(e,"/").concat(o));const t="".concat(e,"/").concat(o),a=(0,r.iH)(n.tO,t);try{const e=await(0,r.aF)(a);if(e.items.length>0){const o=e.items[0],t=await(0,r.Jt)(o);return console.log("Debug URL:",t),t}return console.log("Debug No files found in the folder."),null}catch(c){return console.error("Error getting image URL:",c),null}},h=async(e,o)=>{const t=(0,a.JU)(n.db,e,o),r=await(0,a.QT)(t);return r.exists()?r.data():null},g=async(e,o,t)=>{const r=(0,a.JU)(n.db,e,o);return await(0,a.pl)(r,t,{merge:!0}),t},m=async(e,o,t)=>{const r=(0,a.JU)(n.db,e,o);return await(0,a.r7)(r,{isPhoneNumberVerified:!0,phoneNumber:t}),!0},f=async(e,o,t)=>{const r=(0,a.JU)(n.db,e,o);return await(0,a.r7)(r,t),{id:o,...t}},p=async(e,o,t,r)=>{console.log("Hiii ",e,o,t,r);const c=(0,a.IO)((0,a.hJ)(n.db,e),(0,a.ar)(o,t,r));return(await(0,a.Yp)(c)).data().count},E=async(e,o)=>{const t="".concat(e,"/").concat(o),a=(0,r.iH)(n.tO,t),c=await(0,r.aF)(a);await Promise.all(c.items.map((async e=>{await(0,r.oq)(e)})))},b=async(e,o,t)=>{const a="".concat(e,"/").concat(o,"/").concat(t),c=(0,r.iH)(n.tO,a),s=await(0,r.aF)(c);await Promise.all(s.items.map((async e=>{await(0,r.oq)(e)})))},C=async function(e,o,t,a){let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const s=o.length;let l=0;await Promise.all(o.map((async o=>{let i="".concat(e,"/").concat(t,"/").concat(o.filename);c&&(i="".concat(e,"/").concat(t,"/").concat(c,"/").concat(o.filename));const d=(0,r.iH)(n.tO,i);await(0,r.oq)(d),l+=1,a(l/s*100)})))},I=async function(e,o,t,a){let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;console.log(e,t);const s=o.length;let l=0;await Promise.all(o.map((async o=>{let i="".concat(e,"/").concat(t);c&&(i="".concat(e,"/").concat(t,"/").concat(c));const d=(0,r.iH)(n.tO,"".concat(i,"/").concat(o.file.name));await(0,r.KV)(d,o.file),l+=1,a(l/s*100)})))},S=async function(e,o,t){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,l="".concat(e,"/").concat(t);a&&(l="".concat(e,"/").concat(t,"/").concat(a)),console.log(o,o.name);const i=(0,r.iH)(n.tO,"".concat(l,"/").concat(o.name)),d=(0,r.B0)(i,o);d.on("state_changed",(e=>{const o=e.totalBytes,t=e.bytesTransferred,a=o>0?(t/o*100).toFixed(2):-1;switch(c(a),console.log("Upload is "+a+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(e=>{e.code}),(()=>{(0,r.Jt)(d.snapshot.ref).then((e=>{console.log("File available at",e),s(e)}))}))},y=async e=>{const o="".concat(e),t=(0,r.iH)(n.tO,o);try{const e=await(0,r.aF)(t);return await Promise.all(e.items.map((async e=>{const o=await(0,r.Jt)(e);return{id:e.name,filename:e.name,fileURL:o}})))}catch(a){throw console.error("Error retrieving images:",a),a}}}}]);
//# sourceMappingURL=1893.3e0ffbd7.chunk.js.map