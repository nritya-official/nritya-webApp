"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[641],{71641:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var r=a(72791),n=a(24849),t=a(43360),i=a(30018),l=a(10159),o=a(12481),c=a(61221);const d=function(e,s){var a=Date.now();return 1e3*s<=a?a+24*e*60*60*1e3:s+24*e*60*60*1e3};var m=a(59434),u=a(60717),h=a(80184);const p={0:"fa-solid fa-paper-plane",1:"fa-solid fa-rocket",2:"fa-solid fa-satellite"};const x=function(){const e=(0,m.v9)(u.w),[s,a]=(0,r.useState)([]),[x,f]=(0,r.useState)(!0),[N,y]=(0,r.useState)(!1),[j,v]=(0,r.useState)(null),[b,g]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{const e=(0,o.hJ)(l.db,"CreatorPlans");let s=[];(0,o.PL)(e).then((e=>{e.forEach((e=>{s.push(e.data())})),a(s),f(!1)})).catch((e=>{console.log("Error getting documents: ",e),f(!1)}))})()}),[]);const w=(e,s,a)=>{y(!0),(async(e,s,a)=>{const r=document.createElement("script");r.src="https://checkout.razorpay.com/v1/checkout.js",r.async=!0,document.body.appendChild(r),r.onload=()=>{const r={key:"rzp_test_KGN4elrXhQOG65",amount:100*e,currency:"INR",name:"Nritya",description:"Payment for "+s,image:c,handler:async function(r){console.log("Payment successful!",r);const n=r.razorpay_payment_id;console.log("hiiiii : ",n);const t={userId:JSON.parse(localStorage.getItem("userInfo")).UserId,razorpay_order_id:n,razorpay_amount:e,description:"Payment for "+s,currency:"INR",date:Date.now(),duration:a};console.log("trans : ",t);const i=await(0,o.ET)((0,o.hJ)(l.db,"Transactions"),t);console.log("trans",i);const c=JSON.parse(localStorage.getItem("userInfo")).UserId,m=(0,o.JU)((0,o.hJ)(l.db,"User"),c),u=(await(0,o.QT)(m)).data();u.TransactionIDs.push(i),u.isPremium=d(a,u.isPremium);const h=JSON.parse(localStorage.getItem("userDetails"));h.isPremium=u.isPremium,await(0,o.pl)(m,u),localStorage.setItem("userDetails",JSON.stringify(h)),console.log(n,r.razorpay_amount),alert("Payment successful!")}};new window.Razorpay(r).open()},r.onerror=()=>{console.log("Error loading Razorpay script.")}})(e,s,a).catch((e=>{console.log("Payment error:",e),v("Payment failed. Please try again.")})).finally((()=>{y(!1),g(!0)}))},k=()=>{v(null),g(!1)};return(0,h.jsxs)("div",{className:e?"dark-theme":"light-theme",children:[(0,h.jsx)("section",{className:"pricing-section",children:(0,h.jsxs)("div",{className:"container "+(e?"dark-mode":""),children:[(0,h.jsxs)("div",{className:"sec-title text-center",children:[(0,h.jsx)("span",{className:"title",children:"Get plan"}),(0,h.jsx)("h2",{children:"Choose a Plan"})]}),(0,h.jsx)("div",{className:"outer-box",children:(0,h.jsx)("div",{className:"row",children:x?(0,h.jsx)(n.Z,{animation:"border",variant:"danger"}):s.sort(((e,s)=>e.level-s.level)).map(((s,a)=>(0,h.jsx)("div",{className:`pricing-block ${e?"dark-mode":""} col-lg-4 col-md-6 col-sm-12 wow fadeInUp `,"data-wow-delay":400*a+"ms",children:(0,h.jsxs)("div",{className:"inner-box",children:[(0,h.jsx)("div",{className:"icon-box",children:(0,h.jsx)("div",{className:"icon-outer",children:(0,h.jsx)("i",{className:`${p[a]}`})})}),(0,h.jsxs)("div",{className:"price-box",children:[(0,h.jsx)("div",{className:"title",children:s.title}),(0,h.jsxs)("h4",{className:"price",children:["\u20b9 ",s.money]})]}),(0,h.jsxs)("ul",{className:"features",children:[(0,h.jsx)("li",{className:s.studioVisibility?"true":"false",children:"Studio Visibility"}),(0,h.jsxs)("li",{className:s.duration?"true":"false",children:["Plan for ",s.duration?s.duration:""," days"]}),(0,h.jsxs)("li",{className:s["workShops-pm"]?"true":"false",children:[" ",s["workShops-pm"]?s["workShops-pm"]:""," workshops monthly"]}),(0,h.jsx)("li",{className:s.dedicatedSupport?"true":"false",children:" Dedicated Support"})]}),(0,h.jsx)("div",{className:"btn-box",children:s.netPrice>0?(0,h.jsx)(t.Z,{variant:"danger",onClick:()=>w(s.netPrice,s.title,s.duration),children:"Buy plan"}):(0,h.jsx)(t.Z,{variant:"danger",onClick:()=>{return e=s.duration,void console.log(e);var e},children:"Try plan"})})]})},a)))})})]})}),N&&(0,h.jsxs)(i.Z,{variant:"info",className:"toast-alert",children:[(0,h.jsx)(n.Z,{animation:"border",size:"sm",className:"mr-2"})," Processing payment...",(0,h.jsx)("button",{type:"button",className:"close",onClick:k,children:(0,h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),b&&(0,h.jsxs)(i.Z,{variant:"success",className:"toast-alert",children:["Payment successful!",(0,h.jsx)("button",{type:"button",className:"close",onClick:k,children:(0,h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),j&&(0,h.jsxs)(i.Z,{variant:"danger",className:"toast-alert",children:[j,(0,h.jsx)("button",{type:"button",className:"close",onClick:k,children:(0,h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]})}},30018:(e,s,a)=>{a.d(s,{Z:()=>v});var r=a(41418),n=a.n(r),t=a(72791),i=a(80239),l=a(39007),o=a(10162),c=a(27472),d=a(80184);const m=(0,c.Z)("h4");m.displayName="DivStyledAsH4";const u=t.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:t=m,...i}=e;return r=(0,o.vE)(r,"alert-heading"),(0,d.jsx)(t,{ref:s,className:n()(a,r),...i})}));u.displayName="AlertHeading";const h=u;var p=a(16445);const x=t.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:t=p.Z,...i}=e;return r=(0,o.vE)(r,"alert-link"),(0,d.jsx)(t,{ref:s,className:n()(a,r),...i})}));x.displayName="AlertLink";const f=x;var N=a(72709),y=a(80473);const j=t.forwardRef(((e,s)=>{const{bsPrefix:a,show:r=!0,closeLabel:t="Close alert",closeVariant:c,className:m,children:u,variant:h="primary",onClose:p,dismissible:x,transition:f=N.Z,...j}=(0,i.Ch)(e,{show:"onClose"}),v=(0,o.vE)(a,"alert"),b=(0,l.Z)((e=>{p&&p(!1,e)})),g=!0===f?N.Z:f,w=(0,d.jsxs)("div",{role:"alert",...g?void 0:j,ref:s,className:n()(m,v,h&&`${v}-${h}`,x&&`${v}-dismissible`),children:[x&&(0,d.jsx)(y.Z,{onClick:b,"aria-label":t,variant:c}),u]});return g?(0,d.jsx)(g,{unmountOnExit:!0,...j,ref:void 0,in:r,children:w}):r?w:null}));j.displayName="Alert";const v=Object.assign(j,{Link:f,Heading:h})},24849:(e,s,a)=>{a.d(s,{Z:()=>c});var r=a(41418),n=a.n(r),t=a(72791),i=a(10162),l=a(80184);const o=t.forwardRef(((e,s)=>{let{bsPrefix:a,variant:r,animation:t="border",size:o,as:c="div",className:d,...m}=e;a=(0,i.vE)(a,"spinner");const u=`${a}-${t}`;return(0,l.jsx)(c,{ref:s,...m,className:n()(d,u,o&&`${u}-${o}`,r&&`text-${r}`)})}));o.displayName="Spinner";const c=o}}]);
//# sourceMappingURL=641.2aa1acfe.chunk.js.map