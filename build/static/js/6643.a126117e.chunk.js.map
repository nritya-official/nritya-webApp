{"version":3,"file":"static/js/6643.a126117e.chunk.js","mappings":"iTAcA,MAAMA,GAAcC,EAAAA,EAAAA,aAAW,CAAAC,EAAwFC,KAAS,IAAhG,SAACC,EAAQ,cAACC,EAAa,MAACC,EAAK,cAAEC,EAAc,GAAE,cAAEC,EAAa,WAAEC,EAAU,QAAEC,GAASR,EACnH,MAAM,aAAES,IAAiBC,EAAAA,EAAAA,KACnBC,GAAeC,EAAAA,EAAAA,KACfC,GAAgBC,EAAAA,EAAAA,QAAO,OACtBC,EAAeC,IAAoBC,EAAAA,EAAAA,UAAS,KAC5CC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,KAC5CG,EAAUC,IAAeJ,EAAAA,EAAAA,UAAS,IACnCK,GAAeC,EAAAA,EAAAA,IAAYC,EAAAA,IAE1BC,EAAgBC,IAAqBT,EAAAA,EAAAA,WAAU,IAC/CU,EAAgBC,IAAqBX,EAAAA,EAAAA,WAAU,IAC/CY,EAAoBC,IAAyBb,EAAAA,EAAAA,WAAS,GAE7Dc,QAAQC,IAAI,kBAAkB9B,EAAUM,GACxC,MAAMyB,EAAY,SAACC,GAAyB,IAAlBC,EAAQC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACnC,GAAc,IAAVF,EAAa,MAAO,UACxB,MACMK,EAAKJ,EAAW,EAAI,EAAIA,EAExBK,EAAIC,KAAKC,MAAMD,KAAKT,IAAIE,GAASO,KAAKT,IAHlC,OAIV,OAAOW,YAAYT,EAAQO,KAAKG,IAJtB,KAI6BJ,IAAIK,QAAQN,IAAO,IAF5C,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAEIC,EACxE,GAEAM,EAAAA,EAAAA,YAAU,KAEL5C,GACD6C,EAAkB7C,EACpB,GACC,CAACA,KAEJ4C,EAAAA,EAAAA,YAAU,KAER,GAAIzC,GAAiBU,EAAcsB,OAAShC,EAAe,CACzD,MAAM2C,EAAiBjC,EAAckC,MAAM,EAAG5C,GAC9C6C,MAAM,yCAADC,OAA0C9C,EAAa,YAC5DQ,EAAcuC,QAAQC,MAAQ,KAC9BrC,EAAiBgC,EACnB,IACC,CAACjC,EAAeV,IAGnB,MAyFMiD,EAAiBA,CAACvC,EAAeG,KACrC,MAAMqC,EAAkBxC,EAAcyC,KAAIC,GAAQA,EAAKC,KACjDC,EAAkBzC,EAAcsC,KAAIC,GAAQA,EAAKC,KAKvD,MAAO,CAAEE,eAHc1C,EAAc2C,QAAOJ,IAASF,EAAgBO,SAASL,EAAKC,MAG1DK,UAFPhD,EAAc8C,QAAOJ,IAASE,EAAgBG,SAASL,EAAKC,MAE1C,EAIhCX,EAAoBiB,UACxBhD,EAAiB,IACjBK,EAAY,IACZ,IACE,MAAM4C,EAAU,GAAAd,OAAMhD,EAAa,KAAAgD,OAAIjD,GACvC6B,QAAQC,IAAIiC,GACZ,MAAMC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,GAASH,GACjCI,QAAiBC,EAAAA,EAAAA,IAAQJ,GAEzBK,QAAcC,QAAQC,IAC1BJ,EAASK,MAAMlB,KAAIQ,UACjB,MAAMW,QAAoBC,EAAAA,EAAAA,IAAeC,GAEzC,MAAO,CACLnB,GAAImB,EAAQC,KACZC,SAAUF,EAAQC,KAClBE,QAASL,EACV,KAILxD,EAAiBoD,GACjBvD,EAAiBuD,EACnB,CAAE,MAAOU,GACPlD,QAAQkD,MAAM,8BAA+BA,EAC/C,GAUF,OAPAC,EAAAA,EAAAA,qBAAoBjF,GAAK,MACvBkF,QAASA,IACe,IAAlB7E,GACGuB,OAKTuD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAkBC,MAAO,CAAEC,QAAS,OAAQC,MAAO,OAAQC,eAAgB,UAAWC,UACnGN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iCAAiCC,MAAO,CAAEK,KAAM,IAAIF,eAAgB,UAAWC,UAC5FN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAWC,MAAO,CAAEK,KAAM,IAAKF,eAAgB,UAAUC,UACtEN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWK,UACxBE,EAAAA,EAAAA,MAAA,OAAKP,UAAU,YAAYC,MAAO,CAAEO,gBAAiBvE,EAAe,UAAY,SAAUoE,SAAA,EACxFE,EAAAA,EAAAA,MAAA,OAAKP,UAAU,cAAaK,SAAA,EAC1BN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBK,UAClCE,EAAAA,EAAAA,MAAA,OAAKP,UAAU,gBAAgBC,MAAO,CAACG,eAAe,SAASE,KAAM,KAAKD,SAAA,EACxEN,EAAAA,EAAAA,KAAA,MAAAM,SAAKtF,KACLwF,EAAAA,EAAAA,MAAA,KAAAF,SAAA,CAAG,sBAAoBrF,EAAc,IAAEF,IAAkB2F,EAAAA,GAASC,eAAgBX,EAAAA,EAAAA,KAAA,KAAAM,SAAG,mCAGzFE,EAAAA,EAAAA,MAAA,OAAKN,MAAO,CAAGO,gBAAiBvE,EAAe,UAAY,SAASoE,SAAA,EAClEN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBK,UAC7BN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBK,UAC9BN,EAAAA,EAAAA,KAAA,SACEnF,IAAKY,EACLmF,KAAK,OACLtC,GAAG,aACH2B,UAAU,oBACVY,SA5JKC,IAEzB,MAAM3B,EAAQ4B,MAAMC,KAAKF,EAAEG,OAAO9B,OAC5B+B,EAAe,GAErB/B,EAAMgC,SAAS9C,IACb,MAAM+C,EAAS,IAAIC,WACnBD,EAAOE,UAAY,KACjBJ,EAAaK,KAAK,CAChBjD,GAAIkD,IAAAA,WACJ7B,SAAUtB,EAAKqB,KACf+B,SAAUpD,EAAKuC,KACfc,UAAWN,EAAOO,OAClBC,SAAUvD,EAAKwD,iBAAiBC,eAAe,SAC/CC,SAAUlF,EAAUwB,EAAK2D,MACzB3D,KAAMA,IAGJ6C,EAAajE,SAAWkC,EAAMlC,SAChCrB,GAAkBqG,GAAc,IAAIA,KAAcf,KAClDjF,EAAYiF,GACZzF,EAAcuC,QAAQC,MAAQ,KAEhC,EAGFmD,EAAOc,cAAc7D,EAAK,GAC1B,EAkIkB8D,UAAQ,SAKdnC,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBK,UACnCN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKK,SACjBxF,GAAYa,EAAcsB,OAAS,EAClCtB,EAAcyC,KAAKC,IAEjB2B,EAAAA,EAAAA,KAAA,OAAmBC,UAAU,sBAAsBC,MAAO,CAAEkC,SAAU,YAAa9B,UAEjFN,EAAAA,EAAAA,KAACqC,EAAAA,EAAI,CAACC,GAAI,CAAEC,SAAU,KAAMjC,SACzBjC,EAAKsB,SAAS6C,MAAM,+BACnBhC,EAAAA,EAAAA,MAAA,OAAKN,MAAO,CAAEkC,SAAU,YAAa9B,SAAA,EACnCN,EAAAA,EAAAA,KAAA,OACEyC,IAAKpE,EAAKqD,UAAYrD,EAAKqD,UAAYrD,EAAKuB,QAC5C8C,IAAKrE,EAAKsB,SACVM,UAAU,eACVC,MAAO,CAAEyC,UAAW,QAASC,UAAW,YAE1C5C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAU,CACT,aAAW,SACXC,SAAU1H,EACV2H,QAASA,KAAMC,OAxJb1E,EAwJsCD,EAAKC,QAvJvE2E,OAAOC,QAAQ,gDACjBtH,GAAkBqG,GAChBA,EAAUxD,QAAQJ,GAASA,EAAKC,KAAOA,OAHXA,KAwJ+C,EACjD4B,MAAO,CAAEkC,SAAU,WAAYe,IAAK,EAAGC,MAAO,EAAG3C,gBAAiB,4BAA6BH,UAE/FN,EAAAA,EAAAA,KAACqD,EAAAA,EAAU,CAACnD,MAAO,CAACoD,MAAM,kBAI9BtD,EAAAA,EAAAA,KAACuD,EAAAA,EAAW,CAAAjD,UACVN,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yBAtBX5B,EAAKC,OA8BjB0B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBK,UACjCN,EAAAA,EAAAA,KAAA,KAAAM,SAAG,8BAQTN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBK,UAC7BN,EAAAA,EAAAA,KAAA,UACEY,KAAK,SACLX,UAAU,iBACVC,MAAO,CAAEO,gBAAiBvE,EAAe,UAAY,QAASoH,MAAM,SACpEP,QA9KOnE,UACzB,GAAK9D,EAAL,CAKAwB,GAAmB,GACnBE,GAAmB,GAEnB,IAEE,GADAnB,GAAa,GACS,IAAlBJ,GAAuBU,EAAcsB,QAAU/B,QAE3CsI,EAAAA,EAAAA,IAAwBzI,EAAeD,SACvC2I,EAAAA,EAAAA,IAAa1I,EAAciB,EAAUlB,EAAU0B,GACrDjB,EAAa,8BAA+B,WAC5CmB,GAAsB,OACjB,CAEL,MAAM,eAAE8B,EAAc,UAAEG,GAAcT,EAAevC,EAAeG,GAEpE,GAAIZ,GAAiByD,EAAU1B,OAAS/B,EAEtC,YADAK,EAAa,WAADwC,OAAY7C,EAAa,0BAA0B,SAK7DsD,EAAevB,OAAS,UACpByG,EAAAA,EAAAA,IAAa3I,EAAeyD,EAAgB1D,EAAUwB,GAC5Df,EAAa,gCAAiC,YAI5CoD,EAAU1B,OAAS,UACfwG,EAAAA,EAAAA,IAAa1I,EAAe4D,EAAW7D,EAAU0B,GACvDjB,EAAa,iCAAkC,YAEjDmB,GAAsB,EACxB,CAEAjB,EAAcuC,QAAQC,MAAQ,IAEhC,CAAE,MAAO4B,GACPnD,GAAsB,GACtBC,QAAQkD,MAAM,mCAAoCA,EACpD,CAAC,QACCxE,GAAa,EACf,CA3CA,MAFEyC,MAAM,qBA6CR,EAgIkBgF,SAAU1H,EAAQkF,SACnB,sBAKJ3E,EAAcsB,OAAS,IACtB+C,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAgB0D,QAAM,EAAArD,UACnCE,EAAAA,EAAAA,MAAA,OAAKP,UAAU,MAAKK,SAAA,EACpBN,EAAAA,EAAAA,KAAA,SACCrE,EAAcyC,KAAKC,IAClB2B,EAAAA,EAAAA,KAAA,OAAmBC,UAAU,sBAAqBK,UAClDN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMK,SAClBjC,EAAKsB,SAAS6C,MAAM,+BACnBxC,EAAAA,EAAAA,KAAA,OACEyC,IAAKpE,EAAKqD,UACVgB,IAAKrE,EAAKsB,SACVM,UAAU,eACVC,MAAO,CAAEyC,UAAW,QAASC,UAAW,YAG1C5C,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWK,UACxBN,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yBAXT5B,EAAKC,cAqBrBjC,GAAkB,IACdmE,EAAAA,EAAAA,MAAA,OAAAF,SAAA,EACIE,EAAAA,EAAAA,MAAA,KAAGN,MAAO,CAAEoD,MAAOpH,EAAe,OAAS,QAASoE,SAAA,CAAC,sBAC7BjE,EAAeoB,QAAQ,GAAG,QAElD+C,EAAAA,EAAAA,MAAA,YACIvC,MAAO5B,EACPuH,IAAI,MACJ1D,MAAO,CACHoD,MAAOpH,EAAe,OAAS,QACjCoE,SAAA,CAEDjE,EAAeoB,QAAQ,GAAG,UAKrClB,GAAkB,IAChBiE,EAAAA,EAAAA,MAAA,OAAAF,SAAA,EACIE,EAAAA,EAAAA,MAAA,KAAGN,MAAO,CAAEoD,MAAOpH,EAAe,OAAS,QAASoE,SAAA,CAAC,uBAC5B/D,EAAekB,QAAQ,GAAG,QAEnD+C,EAAAA,EAAAA,MAAA,YACIvC,MAAO1B,EACPqH,IAAI,MACJ1D,MAAO,CACHoD,MAAOpH,EAAe,OAAS,QACjCoE,SAAA,CAED/D,EAAekB,QAAQ,GAAG,oBAS7C,IAKV/C,EAAYmJ,aAAe,CACzB5I,cAAe,EACfE,YAAY,EACZC,SAAQ,GAGV,S,0UClUA,SAAS0I,EAAoBlJ,GAOzB,IAADmJ,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAP2B,KAC5BC,EAAI,YACJC,EAAW,SACXC,EAAQ,kBACRC,EAAiB,oBACjBC,EAAmB,eACnBC,GACD9J,EACC,MAAMW,GAAeC,EAAAA,EAAAA,KACfU,GAAeC,EAAAA,EAAAA,IAAYC,EAAAA,IAC1BuI,EAAWC,IAAgB/I,EAAAA,EAAAA,WAAS,IACpCgJ,EAAaC,IAAkBjJ,EAAAA,EAAAA,UAAS,MAEzCkJ,EAA0D,QAA/ChB,EAAGiB,KAAKC,MAAMC,aAAaC,QAAQ,oBAAY,IAAApB,OAAA,EAA5CA,EAA8CqB,OAE5DC,EAAsBd,EAASa,SAAWL,GAsChDrH,EAAAA,EAAAA,YAAU,KACQkB,WACd,IACE,MAAM0G,GAAUC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,OAAQT,GAC1BU,QAAiBC,EAAAA,EAAAA,IAAOJ,GAC1BG,EAASE,UAAUb,EAAeW,EAASG,OACjD,CAAE,MAAO/F,GACPlD,QAAQC,IAAI,SACd,GAGFiJ,EAAS,GACR,IAEH,MAAMC,EAAkBC,mBAAmB,4DAErCC,EAAsB,OAAXnB,QAAW,IAAXA,GAA8B,QAAnBb,EAAXa,EAAaoB,yBAAiB,IAAAjC,GAAU,QAAVC,EAA9BD,EAAgCtF,gBAAQ,IAAAuF,OAA7B,EAAXA,EAAAiC,KAAAlC,EAAmD,OAARO,QAAQ,IAARA,OAAQ,EAARA,EAAUjG,IAEhE6H,EAAQ,GAAApI,OAAMkF,OAAOmD,SAASC,KAAI,8BAAAtI,OAA6BwG,EAASjG,IAE9E,OACE0B,EAAAA,EAAAA,KAACsG,EAAAA,EAAK,CACJjC,KAAMA,EACNkC,QAASjC,EACT,kBAAgB,oBAChB,mBAAiB,0BACjBpE,MAAO,CAACsG,OAAO,IAAIlG,UAEnBE,EAAAA,EAAAA,MAACiG,EAAAA,EAAG,CACFnE,GAAI,CACFF,SAAU,WACVe,IAAK,MACLuD,KAAM,MACNC,UAAW,wBACXhE,UAAW,MACXiE,SAAU,OACVxG,MAAO,CAAEyG,GAAI,MAAOC,GAAI,OACxBC,QAAS7K,EAAe,QAAU,mBAClC8K,YAAa,MACbC,YAAa,QACbC,YAAahL,EAAe,QAAU,QACtCiL,UAAW,GACXC,EAAG,OACHC,aAAc,OACd/G,SAAA,EAEFE,EAAAA,EAAAA,MAAC8G,EAAAA,GAAI,CAACC,WAAS,EAACC,QAAQ,MAAMC,OAAQ,EAAEnH,SAAA,EACtCN,EAAAA,EAAAA,KAACsH,EAAAA,GAAI,CAACI,MAAI,EAACb,GAAI,GAAIc,GAAI,EAAGrF,GAAI,CAAEsF,UAAW,SAAUtH,UACnDN,EAAAA,EAAAA,KAAA,OACEyC,IAAK8B,EAASsD,SACd3H,MAAO,CACLE,MAAO,OACP0H,OAAQ,OACRlF,UAAW,UACXyE,aAAc,YAIpB7G,EAAAA,EAAAA,MAAC8G,EAAAA,GAAI,CAACI,MAAI,EAACb,GAAI,GAAIc,GAAI,EAAErH,SAAA,EACvBE,EAAAA,EAAAA,MAACiG,EAAAA,EAAG,CACFnE,GAAI,CACFwF,OAAQ,OACRf,QAAS7K,EAAe,UAAY,UACpCkL,EAAG,EACHC,aAAc,MACdlH,QAAS,OACT4H,cAAe,SACf1H,eAAgB,iBAChBC,SAAA,EAEFE,EAAAA,EAAAA,MAACiG,EAAAA,EAAG,CAACnE,GAAI,CAAE/B,KAAM,GAAID,SAAA,EACnBN,EAAAA,EAAAA,KAACgI,EAAAA,EAAa,CACZC,QAAQ,KACRC,UAAU,IACV5F,GAAI,CAAEgB,MAAOpH,EAAe,QAAU,SAAUoE,SAE/C6H,IAAM5D,EAAS6D,MAAMC,OAAO,SAG/BrI,EAAAA,EAAAA,KAACgI,EAAAA,EAAa,CACZC,QAAQ,KACRC,UAAU,IACV5F,GAAI,CAAEgB,MAAOpH,EAAe,QAAU,SAAUoE,SAE/CiE,EAAS+D,QAGZtI,EAAAA,EAAAA,KAACgI,EAAAA,EAAa,CACZC,QAAQ,QACRC,UAAU,IACV5F,GAAI,CAAEiG,GAAI,OAAQjF,MAAOpH,EAAe,QAAU,SAAUoE,SAE3DiE,EAASiE,YAIdxI,EAAAA,EAAAA,KAACyG,EAAAA,EAAG,CAACnE,GAAI,CAAEiG,GAAI,OAAQE,UAAW,SAAUnI,UACxCoE,IAAmBW,GAAuBN,IAAe/E,EAAAA,EAAAA,KAAC0I,EAAAA,EAAM,CAChET,QAAQ,WACRlF,QAvIGnE,UACjB,IACEgG,GAAa,IAEb+D,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAWpD,EAAAA,GAAIqD,EAAAA,GAAYC,UAAW,CAC3CC,SAAUxE,EAASwE,SACnBC,YAAazE,EAASjG,GACtB8G,OAAQL,EACRkE,YAAaC,KAAKC,QAGpB,MAAM7D,GAAUC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,OAAQT,GAC1BU,QAAiBC,EAAAA,EAAAA,IAAOJ,GAE1BG,EAASE,UACY,MAAnBF,EAASG,cACLwD,EAAAA,EAAAA,IAAU9D,EAAS,CACvBW,kBAAmB,IACbR,EAASG,OAAOK,mBAAqB,GACzC1B,EAASjG,MAMjBwG,GAAeuE,IAAI,IAAUA,EAAMpD,kBAAmB,KAAS,OAAJoD,QAAI,IAAJA,OAAI,EAAJA,EAAMpD,oBAAqB,GAAK1B,EAASjG,QAEpG/C,EAAa,oBAAqB,UACpC,CAAE,MAAOsE,GACPlD,QAAQkD,MAAMA,GACdtE,GAAkB,OAALsE,QAAK,IAALA,OAAK,EAALA,EAAOyJ,UAAW,uBAAwB,QACzD,CAAC,QACC1E,GAAa,EACf,GAuGc9B,SAAUkD,GAAYrB,EACtBrC,GAAI,CACF6E,UAAW,OACXoC,cAAe,OACfC,SAAU,GACVC,QAAS,WACTC,OAAQ,YACRC,WAAY,IACZlJ,gBAAiB,cACjByG,YAAahL,EAAe,QAAU,QACtCoH,MAAOpH,EAAe,QAAU,QAChC,UAAW,CACTuE,gBAAiB,cACjByG,YAAahL,EAAe,QAAU,QACtCiL,UAAW,QAEb,WAAY,CACVA,UAAW,OACX1G,gBAAiB,cACjByG,YAAahL,EAAe,QAAU,SAExC,UAAW,CACTiL,UAAW,SAEb7G,SAED0F,EAAW,SAAW,mBAI3BtB,IAAmBW,GAAuBN,IAAe/E,EAAAA,EAAAA,KAACgI,EAAAA,EAAa,CAACE,UAAW,IAAKD,QAAQ,UAAU3F,GAAI,CAAEsH,GAAI,MAAOtG,MAAOpH,EAAe,QAAU,QAASuM,UAAW,UAAWnI,SAAC,uBAI/LE,EAAAA,EAAAA,MAAC8G,EAAAA,GAAI,CAACI,MAAI,EAACpF,GAAI,CAAEiG,GAAI,GAAKjI,SAAA,EACxBE,EAAAA,EAAAA,MAACiG,EAAAA,EAAG,CAACnE,GAAI,CAAEnC,QAAS,OAAQ0J,UAAW,GAAIvJ,SAAA,EACzCE,EAAAA,EAAAA,MAACwH,EAAAA,EAAa,CACZC,QAAQ,KACRC,UAAU,IACV5F,GAAI,CAAEgB,MAAOpH,EAAe,QAAU,SAAUoE,SAAA,CAE/CiE,EAASuF,eAAiB,GAC1BvF,EAASwF,YAAY3L,KAAK4L,GAAK,MAAAjM,OAAWiM,SAE7ChK,EAAAA,EAAAA,KAACiK,EAAAA,EAAW,CAAC9D,SAAUA,QAEzB3F,EAAAA,EAAAA,MAACwH,EAAAA,EAAa,CACZC,QAAQ,QACRC,UAAU,IACV5F,GAAI,CAAEiG,GAAI,EAAGjF,MAAOpH,EAAe,QAAU,SAAUoE,SAAA,EAEvDE,EAAAA,EAAAA,MAAA,QAAAF,SAAA,CAAM,OAA0B,QAAtB4D,EAAAK,EAAS2F,qBAAa,IAAAhG,OAAA,EAAtBA,EAAwBiG,aAAc,MAC/C5F,EAAS2F,gBAAuC,QAA1B/F,EAAII,EAAS2F,qBAAa,IAAA/F,OAAA,EAAtBA,EAAwBiG,kBACjDpK,EAAAA,EAAAA,KAAC6C,EAAAA,EAAU,CAACS,MAAM,UAAUtB,KAAK,QAAQf,OAAO,SAASoJ,KAAI,mBAAAtM,OAAqBwG,EAAS2F,cAAcE,eAAc,UAAArM,OAAS+H,GAAkBxF,UAChJN,EAAAA,EAAAA,KAAA,OAAKyC,IAAK6H,EAAe5H,IAAI,gBAAgBxC,MAAO,CAAEE,MAAO,GAAI0H,OAAQ,QAG5EvD,EAAS2F,gBAAuC,QAA1B9F,EAAIG,EAAS2F,qBAAa,IAAA9F,OAAA,EAAtBA,EAAwBmG,gBACjDvK,EAAAA,EAAAA,KAAC6C,EAAAA,EAAU,CAACS,MAAM,UAAUtB,KAAK,QAAQf,OAAO,SAASoJ,KAAI,OAAAtM,OAASwG,EAAS2F,cAAcK,cAAejK,UAC1GN,EAAAA,EAAAA,KAAA,OAAKyC,IAAK+H,EAAW9H,IAAI,aAAaxC,MAAO,CAAEE,MAAO,GAAI0H,OAAQ,YAWxE9H,EAAAA,EAAAA,KAAA,OAAKE,MAAO,CAAEoD,MAAOpH,EAAe,SAAW,SAAW+D,UAAU,kBAAkBwK,wBAAyB,CAAEC,OAAQnG,EAASoG,aAAe,mCAIrJnK,EAAAA,EAAAA,MAACiG,EAAAA,EAAG,CAACnE,GAAI,CAAEiG,GAAI,OAAQE,UAAW,SAAUnI,SAAA,CACzCoE,GAAkBW,IACjBrF,EAAAA,EAAAA,KAAC0I,EAAAA,EAAM,CACL3F,QAASA,IACC,OAARwB,QAAQ,IAARA,GAAAA,EAAUqG,OACNnG,EAA4B,OAARF,QAAQ,IAARA,OAAQ,EAARA,EAAUjG,IAC9BkG,EAA0B,OAARD,QAAQ,IAARA,OAAQ,EAARA,EAAUjG,IAElC2J,QAAQ,WACR3F,GAAI,CACFuI,GAAI,OACJvH,MAAO,QACP6D,UAAW,OACXuC,OAAQ,YACRjJ,gBAAyB,OAAR8D,QAAQ,IAARA,GAAAA,EAAUqG,OAAS,MAAQ,QAC5C1D,YAAa,QACb5D,MAAO,QACP,UAAW,CACT7C,gBAAyB,OAAR8D,QAAQ,IAARA,GAAAA,EAAUqG,OAAS,MAAQ,QAC5C1D,YAAa,QACbC,UAAW,QAEb,WAAY,CACVA,UAAW,OACX1G,gBAAyB,OAAR8D,QAAQ,IAARA,GAAAA,EAAUqG,OAAS,MAAQ,QAC5C1D,YAAa,SAEf,UAAW,CACTC,UAAW,SAEb7G,SAEO,OAARiE,QAAQ,IAARA,GAAAA,EAAUqG,OAAS,aAAe,cAIvC5K,EAAAA,EAAAA,KAAC0I,EAAAA,EAAM,CACL3F,QAASuB,EACT2D,QAAQ,WACR3F,GAAI,CACFgB,MAAO,QACP6D,UAAW,OACXuC,OAAQ,YACRjJ,gBAAiB,cACjByG,YAAahL,EAAe,QAAU,QACtCoH,MAAOpH,EAAe,QAAU,QAChC,UAAW,CACTuE,gBAAiB,cACjByG,YAAahL,EAAe,QAAU,QACtCiL,UAAW,QAEb,WAAY,CACVA,UAAW,OACX1G,gBAAiB,cACjByG,YAAahL,EAAe,QAAU,SAExC,UAAW,CACTiL,UAAW,SAEb7G,SACH,iBAOX,CAEe,SAASwK,EAAaC,GAKjC,IAADC,EAAA,IALmC,SACpCzG,EAAQ,kBACRC,EAAiB,oBACjBC,EAAmB,eACnBC,GACDqG,EACC,MAAM7O,GAAeC,EAAAA,EAAAA,IAAYC,EAAAA,IAC1ByL,EAAUoD,IAAepP,EAAAA,EAAAA,UAAS,OAClCqP,EAA4BC,IACjCtP,EAAAA,EAAAA,WAAS,GACLuP,EAAa7G,EAASjG,IAQ5BZ,EAAAA,EAAAA,YAAU,KACckB,WACpB,IACE,MAAMyM,QAAYC,EAAAA,EAAAA,IAChB5K,EAAAA,GAAS6K,cACTH,GAGFH,EACEI,GACA,2EAEJ,CAAE,MAAOxL,GACPlD,QAAQkD,MAAM,4BAA6BA,EAC7C,GAGF2L,EAAe,GACd,CAACjH,EAASjG,KAEb,MAAMmN,EAAY,CAChBhL,gBAAiBvE,EAAe,OAAS,QACzCuN,QAAS,MACTnG,MAAOpH,EAAe,QAAU,QAChCwP,YAAa,OACbtL,MAAO,IACPmC,SAAU,OACV4E,UAAW,KACXwE,WAAY,qBAQd,OACEnL,EAAAA,EAAAA,MAAAoL,EAAAA,SAAA,CAAAtL,SAAA,EACEE,EAAAA,EAAAA,MAAC6B,EAAAA,EAAI,CACH4F,QAAQ,QACR3F,GAAI,IACCmJ,EACH,UAXe,CACrB9E,UAAW,cACXkF,OAAQ,WAUFtL,KAAM,QAERwC,QAnDiC+I,IACrCX,GAA8B,GAkDc7K,SAAA,EAExCE,EAAAA,EAAAA,MAACuL,EAAAA,EAAW,CAACC,MAAM,OAAO9L,MAAO,CAAEkC,SAAU,YAAa9B,SAAA,EACxDN,EAAAA,EAAAA,KAAA,OACEyC,IAAKoF,EACLoE,QAAQ,OACRvJ,IAAI,eACJxC,MAAO,CAAEqC,SAAU,OAAQK,UAAW,QAASgE,SAAU,aAE3D5G,EAAAA,EAAAA,KAACkM,EAAAA,EAAK,CACJC,UAAU,MACV3E,QAAS,EACTtH,MAAO,CAAEkC,SAAU,WAAYgK,OAAQ,EAAG1F,KAAM,EAAG+C,QAAS,OAAQnJ,SAEnEiE,GAAYA,EAASwF,YACpBxF,EAASwF,YAAYlM,MAAM,EAAG,GAAGO,KAAI,CAACiO,EAAMC,KAC1CtM,EAAAA,EAAAA,KAACuM,EAAAA,EAAI,CAEHjJ,MAAOgJ,EAAQ,IAAM,EAAI,SAAW,UACpCpM,MAAO,CACLsM,WAAY,OACZC,aAAc,OACdjD,SAAU,UACVlJ,SAED+L,EAAKK,QARDJ,MAYTtM,EAAAA,EAAAA,KAACuM,EAAAA,EAAI,CAEHjJ,MAAsB,SACtBpD,MAAO,CAAEuM,aAAc,OAAQjD,SAAU,UAAWlJ,SAEnD,iBAJI,UASbE,EAAAA,EAAAA,MAAC+C,EAAAA,EAAW,CAACrD,MAAO,CAAEuJ,QAAS,OAAQkD,WAAY,OAAQrM,SAAA,EACzDE,EAAAA,EAAAA,MAACiG,EAAAA,EAAG,CACFmG,WAAW,KACXtJ,MAAM,UACNuJ,UAAU,eACVC,UAAU,OACVC,SAAO,EACP7M,MAAO,CACLoD,MAAOpH,EAAe,QAAU,QAChC8Q,WAAY,OACZ1M,SAAA,EAEFN,EAAAA,EAAAA,KAAA,QAAAM,SACGiE,GAAYA,EAASuF,cAAgBvF,EAASuF,cAAgB,OAEvD,OAARvF,QAAQ,IAARA,GAAAA,EAAUqG,UACV5K,EAAAA,EAAAA,KAAA,QACEE,MAAO,CACLsM,WAAY,MACZ/C,QAAS,UACTD,SAAU,OACVnC,aAAc,MACd4F,WAAY,OACZ3M,SACH,iBAKLE,EAAAA,EAAAA,MAAC0M,EAAAA,GAAU,CACThN,MAAO,CAAEoD,MAAOpH,EAAe,QAAU,SACzCiR,MAAM,UACNC,QAAM,EAAA9M,SAAA,CACP,MAC2B,QAAtB0K,EAAAzG,EAAS2F,qBAAa,IAAAc,GAAtBA,EAAwBb,WAAa5F,EAAS2F,cAAcC,WAAa,OAE/EnK,EAAAA,EAAAA,KAACkN,EAAAA,GAAU,CACThN,MAAO,CAAEmN,UAAW,GAAI/J,MAAOpH,EAAe,QAAU,SACxDiR,MAAM,UACNC,QAAM,EAAA9M,SAELiE,EAASiE,MAAQjE,EAASiE,MAAQ,MAErChI,EAAAA,EAAAA,MAAC0M,EAAAA,GAAU,CACThN,MAAO,CAAEoD,MAAOpH,EAAe,QAAU,SACzCiR,MAAM,UAAS7M,SAAA,CAEdiE,EAAS6D,MAAQ,GAAG,MAAI7D,EAAS+D,MAAQ,aAKhDtI,EAAAA,EAAAA,KAAC8D,EAAoB,CACnBS,SAAU,IAAKA,EAAUsD,YACzBxD,KAAM6G,EACN5G,YA9IkCgJ,IACtCnC,GAA8B,GA8I1B3G,kBAAmBA,EACnBC,oBAAqBA,EACrBC,eAAgBA,MAIxB,CCneA,MAsBA,EAtBmB9J,IAMZ,IANa,SAClB2S,EAAQ,gBACRC,EAAe,eACf9I,EAAc,kBACdF,EAAiB,oBACjBC,GACD7J,EACC,OACEoF,EAAAA,EAAAA,KAAA,OAAKC,UAAW,4BAA4BK,SACzCiN,EAASnP,KAAI,CAACmG,EAAU+H,KACvBtM,EAAAA,EAAAA,KAAC8K,EAAa,CAEZvG,SAAUA,EACVC,kBAAmBA,EACnBC,oBAAqBA,EACrBC,eAAgBA,GAJXH,EAASjG,OAOd,C,iHCjBV,MA+FA,EA/FkB1D,IAAoC,IAAD6S,EAAA,IAAlC,YAAEC,EAAW,aAAEC,GAAc/S,EAC9C,MAAMgT,EAAcF,EAAYG,MAAM,KAAK,GAAGnB,OACxCoB,EAAqC,QAA5BL,EAAGC,EAAYG,MAAM,KAAK,UAAE,IAAAJ,OAAA,EAAzBA,EAA2Bf,OAEvCxQ,GAAeC,EAAAA,EAAAA,IAAYC,EAAAA,GAoC3B2R,EAAqBC,IACzB,MAAMC,EAnCoBC,MAC1B,MAAMC,EAAU,GAChB,IAAIC,EAAY,GACZC,EAAY,GAEhB,IAAK,IAAIC,EAAQ,EAAGA,EAAQ,GAAIA,IAC5B,IAAK,IAAIC,EAAU,EAAGA,EAAU,GAAIA,GAAW,GAAI,CAC/C,MAAMC,EAAmBD,EAAQE,WAAWC,SAAS,EAAG,KAExD,GAAIJ,EAAQ,GAAI,CAEZ,MAAMK,EAA2B,IAAVL,EAAc,GAAKA,EAC1CF,EAAU7M,KAAK,GAADxD,OAAI4Q,EAAc,KAAA5Q,OAAIyQ,EAAgB,OACxD,KAAO,CAEH,MAAMG,EAA2B,KAAVL,EAAe,GAAKA,EAAQ,GACnDD,EAAU9M,KAAK,GAADxD,OAAI4Q,EAAc,KAAA5Q,OAAIyQ,EAAgB,OACxD,CACJ,CAIJ,IAAK,IAAIpR,EAAI,EAAGA,EAAIgR,EAAUnR,QAAUG,EAAIiR,EAAUpR,OAAQG,IACtDA,EAAIgR,EAAUnR,QACdkR,EAAQ5M,KAAK6M,EAAUhR,IAEvBA,EAAIiR,EAAUpR,QACdkR,EAAQ5M,KAAK8M,EAAUjR,IAI/B,OAAO+Q,CAAO,EAIMD,GAEpB,OACE1N,EAAAA,EAAAA,MAAAoL,EAAAA,SAAA,CAAAtL,SAAA,EACEN,EAAAA,EAAAA,KAAA,UAAQ/B,MAAO+P,EAAa1N,SAAE0N,IAC7BC,EAAY7P,KAAKwQ,IAChB5O,EAAAA,EAAAA,KAAA,UAAqB/B,MAAO2Q,EAAOtO,SAChCsO,GADUA,OAId,EAIP,OACEpO,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFN,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAAAxO,UACFE,EAAAA,EAAAA,MAACuO,EAAAA,EAAKC,MAAK,CAAA1O,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,gBACZN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKG,QAAO,CACXC,GAAG,SACHtO,SAAWC,GAAM6M,EAAa7M,EAAEG,OAAOhD,MAAO,MAC9CiC,MAAO,CACL+M,WAAY,cACZjG,YAAa,EACbE,YAAahL,EAAe,QAAU,QACtC4L,OAAQ,QACRxH,SAEDyN,EAAkBH,WAIzB5N,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAAAxO,UACFE,EAAAA,EAAAA,MAACuO,EAAAA,EAAKC,MAAK,CAAA1O,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,cACZN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKG,QAAO,CACXC,GAAG,SACHtO,SAAWC,GAAM6M,EAAa,KAAM7M,EAAEG,OAAOhD,OAC7CiC,MAAO,CACL+M,WAAY,cACZjG,YAAa,EACbE,YAAahL,EAAe,QAAU,QACtC4L,OAAQ,QACRxH,SAEDyN,EAAkBD,YAIrB,C,udConBV,QA3qBA,SAAqBlT,GAA2C,IAA1C,YAAEwU,EAAW,SAAEC,EAAQ,aAAEC,GAAc1U,EAC3D,MAAMW,GAAeC,EAAAA,EAAAA,MACd+T,EAAgBC,IAAqB3T,EAAAA,EAAAA,UAAS,IAC/CK,GAAeC,EAAAA,EAAAA,IAAYC,EAAAA,IAC1BqT,EAAqBC,IAA0B7T,EAAAA,EAAAA,UAAS,KACxD8T,EAAqBC,IAA0B/T,EAAAA,EAAAA,UAAS,IAEzDgU,EAAyBT,EAAYhR,KACxC0R,GAAU,GAAA/R,OAAQ+R,EAAWpQ,KAAI,OAAA3B,OAAM+R,EAAWxR,MAG/CyR,EAAqBhG,EAAAA,GAGpBiG,EAASC,IAFI/K,aAAaC,QAfP,mBAiBItJ,EAAAA,EAAAA,WAAS,KAChCqU,EAAkBC,IAAuBtU,EAAAA,EAAAA,UAAS,KAClDuU,EAAgBC,IAAqBxU,EAAAA,EAAAA,UAAS,OAC9CyU,EAAeC,IAAoB1U,EAAAA,EAAAA,UAAS,KAC5C2U,EAAeC,IAAoB5U,EAAAA,EAAAA,UAAS,KAC5C6U,EAAeC,KAAoB9U,EAAAA,EAAAA,UAASsM,IAAM,IAAIe,QACtD0H,GAAcC,KAAmBhV,EAAAA,EAAAA,WAAS,IAC1CiV,GAAMC,KAAWlV,EAAAA,EAAAA,UAAS,IAC1B8O,GAAaqG,KAAkBnV,EAAAA,EAAAA,UAAS,IAEzCoV,IAAYC,EAAAA,EAAAA,GAAY,CAC5BC,QAAS,CACPC,KAAMlV,EAAe,OAAS,WAsI5BmV,GAAahF,IACjBA,EAAKiF,QACL1B,EAAuB,IACvBF,EAAuB,IACvBW,EAAkB,MAClBF,EAAoB,IACpBI,EAAiB,IACjBE,EAAiB,IACjBE,GAAiBxI,IAAM,IAAIe,OAC3B8H,GAAe,GAAG,EAiNpB,OApMAtT,EAAAA,EAAAA,YAAU,MACRkB,iBACE,MAAMyN,EAAOkF,SAASC,eAAe,iBAErC,IACE,MAAMC,GAAIC,EAAAA,EAAAA,KACR9I,EAAAA,EAAAA,IAAWpD,EAAAA,GAAImM,EAAAA,GAAkBC,qBACjCC,EAAAA,EAAAA,IACE,SACA,KACA7M,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,SAI3C0M,QAAsBC,EAAAA,EAAAA,IAAQN,GAEpC,GAAKK,EAAcE,MAyCZ,CAAC,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,QACC5J,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAWpD,EAAAA,GAAImM,EAAAA,GAAkBC,oBAAqB,CACjE9H,eAAiC,QAAlBmI,EAAA5F,EAAKvC,qBAAa,IAAAmI,OAAA,EAAlBA,EAAoBhU,QAAS,GAC5CuU,UAAwB,QAAbN,EAAA7F,EAAKmG,gBAAQ,IAAAN,OAAA,EAAbA,EAAejU,QAAS,EACnC0M,YAAaA,GACbZ,YAAa4F,EACbP,YAAaK,EACU,OAAnBA,QAAmB,IAAnBA,GAAwB,QAAL0C,EAAnB1C,EAAqBrR,WAAG,IAAA+T,OAAL,EAAnBA,EAAAjM,KAAAuJ,GACGK,IAAU,IAAA2C,EAAAC,EAAAC,EAAAC,EAAA,OACC,OAAV9C,QAAU,IAAVA,GAAiB,QAAP2C,EAAV3C,EAAYjC,aAAK,IAAA4E,GAAO,QAAPC,EAAjBD,EAAAvM,KAAA4J,EAAoB,YAAI,IAAA4C,GAAK,QAALC,EAAxBD,EAA2B,UAAE,IAAAC,GAAM,QAANC,EAA7BD,EAA+BjG,YAAI,IAAAkG,OAAzB,EAAVA,EAAA1M,KAAAyM,KAA2C,IAAI,IAEnD,KACJE,OAAQ7N,KAAKC,MAAMC,aAAaC,QAAQ,aAAa2N,YACrD1N,OAAQJ,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,OACrD2N,aAAc/N,KAAKC,MAAMC,aAAaC,QAAQ,aAAa6N,MAC3DjK,SAAUqH,IACQ,OAAdA,QAAc,IAAdA,GAAqB,QAAPgC,EAAdhC,EAAgBvC,aAAK,IAAAuE,GAAO,QAAPC,EAArBD,EAAAlM,KAAAkK,EAAwB,YAAI,IAAAiC,GAAK,QAALC,EAA5BD,EAA+B,UAAE,IAAAC,GAAM,QAANC,EAAjCD,EAAmC5F,YAAI,IAAA6F,OAAzB,EAAdA,EAAArM,KAAAoM,KACA,KACJW,SAAU/C,EACV/C,MAAOmD,EACPhI,KAAMkI,EACNpI,KAAMsI,EAAcrI,OAAO,eAE/B,KAhE0B,CAAC,IAAD6K,EACxB,IAAIC,EAAc,GAElBrB,EAAc3Q,SAASoE,IACrB4N,EAAY5R,KAAK,CAAEjD,GAAIiH,EAAIjH,MAAOiH,EAAIK,QAAS,IAGjD,IAAIwN,EAAiBD,EAAY,GAEjC9G,EAAKvC,cAAc7L,OAAsB,OAAdmV,QAAc,IAAdA,OAAc,EAAdA,EAAgBtJ,gBAAiB,GAC5DuC,EAAKmG,SAASvU,OAAsB,OAAdmV,QAAc,IAAdA,OAAc,EAAdA,EAAgBZ,WAAY,EAClDxB,IAA6B,OAAdoC,QAAc,IAAdA,OAAc,EAAdA,EAAgBzI,cAAe,IAE9CiF,EACgB,OAAdwD,QAAc,IAAdA,GAA2B,QAAbF,EAAdE,EAAgBrJ,mBAAW,IAAAmJ,GAA3BA,EAA6BjW,OACzBmW,EAAerJ,YACf,IAGN2F,EACEN,EACG3Q,QAAQqR,GACO,OAAdsD,QAAc,IAAdA,OAAc,EAAdA,EAAgBhE,YAAY1Q,SAASoR,EAAWxR,MAEjDF,KAAK0R,GAAU,GAAA/R,OAAQ+R,EAAWpQ,KAAI,OAAA3B,OAAM+R,EAAWxR,OAG5D,MACM+U,EADUhE,EAASjR,KAAKkV,GAAWA,EAAOzF,MAAM,KAAK,GAAGnB,SAC3B6G,WAChCD,GAAWA,KAAyB,OAAdF,QAAc,IAAdA,OAAc,EAAdA,EAAgBrK,YAErCsK,EAAqB,GACvBhD,EAAkBhB,EAASgE,IAE7BlD,GAAkC,OAAdiD,QAAc,IAAdA,OAAc,EAAdA,EAAgBH,WAAY,IAEhD1C,GAA+B,OAAd6C,QAAc,IAAdA,OAAc,EAAdA,EAAgBjG,QAAS,IAE1CsD,GAA+B,OAAd2C,QAAc,IAAdA,OAAc,EAAdA,EAAgB9K,OAAQ,IAEzCqI,GAAiBxI,KAAoB,OAAdiL,QAAc,IAAdA,OAAc,EAAdA,EAAgBhL,OAAQc,KAAKC,OACtD,CAyBA8G,GAAW,EACb,CAAE,MAAOpQ,GACPlD,QAAQkD,MAAMA,EAChB,CACF,CAEA2T,EAAM,GACL,KAEH9V,EAAAA,EAAAA,YAAU,KACR,IAAI+V,EAAa,KACbC,EAAgB,KA4EpB,OAFI1D,GAzEJpR,iBACE,MAAMyN,EAAOkF,SAASC,eAAe,iBAErC,IACE,MAAMC,GAAIC,EAAAA,EAAAA,KACR9I,EAAAA,EAAAA,IAAWpD,EAAAA,GAAImM,EAAAA,GAAkBC,qBACjCC,EAAAA,EAAAA,IACE,SACA,KACA7M,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,SAI3C0M,QAAsBC,EAAAA,EAAAA,IAAQN,GAEpC,IAAKK,EAAcE,MAAO,CACxB,IAAImB,EAAc,GAElBrB,EAAc3Q,SAASoE,IACrB4N,EAAY5R,KAAK,CAAEjD,GAAIiH,EAAIjH,MAAOiH,EAAIK,QAAS,IAGjD,IAAI+N,EAAmBR,EAAY,GAEnC,MAAMS,GAAerO,EAAAA,EAAAA,IACnBC,EAAAA,GACAmM,EAAAA,GAAkBC,mBAClB+B,EAAiBrV,IAGnBmV,EAAaI,aAAYjV,UACvB,IAAK,IAADkV,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACF,MAAMC,EAAc,CAClBvK,eAAiC,QAAlBgK,EAAAzH,EAAKvC,qBAAa,IAAAgK,OAAA,EAAlBA,EAAoB7V,QAAS,GAC5CuU,UAAuB,QAAbuB,EAAA1H,EAAKmG,gBAAQ,IAAAuB,OAAA,EAAbA,EAAe9V,QAAS,EAClC0M,YAAaA,GACbZ,YAAa4F,EACbP,YAAaK,EACU,OAAnBA,QAAmB,IAAnBA,GAAwB,QAALuE,EAAnBvE,EAAqBrR,WAAG,IAAA4V,OAAL,EAAnBA,EAAA9N,KAAAuJ,GACGK,IAAU,IAAAwE,EAAAC,EAAAC,EAAAC,EAAA,OACC,OAAV3E,QAAU,IAAVA,GAAiB,QAAPwE,EAAVxE,EAAYjC,aAAK,IAAAyG,GAAO,QAAPC,EAAjBD,EAAApO,KAAA4J,EAAoB,YAAI,IAAAyE,GAAK,QAALC,EAAxBD,EAA2B,UAAE,IAAAC,GAAM,QAANC,EAA7BD,EAA+B9H,YAAI,IAAA+H,OAAzB,EAAVA,EAAAvO,KAAAsO,KAA2C,IAAI,IAEnD,KACJzL,SAAUqH,IACQ,OAAdA,QAAc,IAAdA,GAAqB,QAAP6D,EAAd7D,EAAgBvC,aAAK,IAAAoG,GAAO,QAAPC,EAArBD,EAAA/N,KAAAkK,EAAwB,YAAI,IAAA8D,GAAK,QAALC,EAA5BD,EAA+B,UAAE,IAAAC,GAAM,QAANC,EAAjCD,EAAmCzH,YAAI,IAAA0H,OAAzB,EAAdA,EAAAlO,KAAAiO,KACA,KACJlB,SAAU/C,EACV/C,MAAOmD,EACPhI,KAAMkI,EACNpI,KAAMsI,EAAcrI,OAAO,eAI7B,IAAKqM,EAAAA,EAAAA,SAAQhB,EAAeW,GASxB1X,QAAQC,IAAI,qCARd,UACQwM,EAAAA,EAAAA,IAAUwK,EAAcS,GAC9BX,EAAgBW,EAChB1X,QAAQC,IAAI,mBA/UF,IAgVZ,CAAE,MAAOiD,GACPlD,QAAQkD,MAAMA,EAChB,CAIJ,CAAE,MAAOA,GACPlD,QAAQkD,MAAMA,EAChB,IAxVgB,IA0VpB,CACF,CAAE,MAAO8U,GACPhY,QAAQkD,MAAM8U,EAChB,CACF,CACanB,GAEN,IAAMoB,cAAcnB,EAAW,GACrC,CACDzD,EACAL,EACAF,EACAW,EACAF,EACAI,EACAE,EACAE,EACA/F,MAGFjN,EAAAA,EAAAA,YAAU,KACR,GAAIxB,EAAc,CACGqV,SAASsD,uBAAuB,sBAAsB,GAC9D3U,MAAMO,gBAAkB,QAEnC,MAAMqU,EAAWvD,SAASsD,uBAAuB,wBAAwB,GACzEC,EAAS5U,MAAMO,gBAAkB,QAEjC,MAAMsU,EAAUxD,SAASsD,uBAAuB,cAAc,GAC9DlY,QAAQC,IAAImY,GACZD,EAAS5U,MAAMoD,MAAQ,OACzB,IACC,CAACpH,KAGFsE,EAAAA,EAAAA,MAAA,OAAAF,SAAA,CACY,IAATwQ,KACC9Q,EAAAA,EAAAA,KAAC+O,EAAAA,EAAI,CACHzQ,GAAG,gBACH0W,SA9RmBpW,UACzBqW,EAAMC,iBACN,MAAM7I,EAAO4I,EAAMhU,OAEnB,GAnDqBoL,KACrB,IAAI8I,GAAmB,EAgBvB,OAbG9I,EAAKvC,cAAc7L,OACnBoO,EAAKmG,SAASvU,OACd0M,IACmB,OAAnBgF,QAAmB,IAAnBA,GAAAA,EAAqB1S,QACF,OAAnBwS,QAAmB,IAAnBA,GAAAA,EAAqBxS,QACrBmT,GACAF,GACAI,GACAE,GACAE,IAEDyE,GAAmB,GAEdA,CAAgB,EAkClBC,CAAc/I,GAKnB,IAAK,IAADgJ,EAAAC,EAAAC,EAAAC,EAAAC,EACF,MAAMC,EAAmB1Q,KAAKC,MAAMC,aAAaC,QAAQ,aAAa6N,MAChE2C,EAAY,CAChB7L,cAAemL,EAAMhU,OAAO6I,cAAc7L,MAC1C8L,YAAa4F,EACbP,YAAaK,EACU,OAAnBA,QAAmB,IAAnBA,GAAwB,QAAL4F,EAAnB5F,EAAqBrR,WAAG,IAAAiX,OAAL,EAAnBA,EAAAnP,KAAAuJ,GACGK,IAAU,IAAA8F,EAAAC,EAAAC,EAAAC,EAAA,OAAe,OAAVjG,QAAU,IAAVA,GAAiB,QAAP8F,EAAV9F,EAAYjC,aAAK,IAAA+H,GAAO,QAAPC,EAAjBD,EAAA1P,KAAA4J,EAAoB,YAAI,IAAA+F,GAAK,QAALC,EAAxBD,EAA2B,UAAE,IAAAC,GAAM,QAANC,EAA7BD,EAA+BpJ,YAAI,IAAAqJ,OAAzB,EAAVA,EAAA7P,KAAA4P,KAA2C,IAAI,IAEjE,KACJjD,OAAQ7N,KAAKC,MAAMC,aAAaC,QAAQ,aAAa2N,YACrD1N,OAAQJ,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,OACrD2N,aAAc2C,EACd3M,SAAUqH,IACQ,OAAdA,QAAc,IAAdA,GAAqB,QAAPkF,EAAdlF,EAAgBvC,aAAK,IAAAyH,GAAO,QAAPC,EAArBD,EAAApP,KAAAkK,EAAwB,YAAI,IAAAmF,GAAK,QAALC,EAA5BD,EAA+B,UAAE,IAAAC,GAAM,QAANC,EAAjCD,EAAmC9I,YAAI,IAAA+I,OAAzB,EAAdA,EAAAvP,KAAAsP,KACA,KACJvC,SAAU/C,EACV/C,MAAOmD,EACPhI,KAAMkI,EACNpI,KAAMsI,EAAcrI,OAAO,cAC3BmK,SAAUyC,EAAMhU,OAAOuR,SAASvU,MAChC0M,YAAaA,GACbC,QAAQ,EACRoL,iBAAkBf,EAAMhU,OAAO+U,iBAAiB/X,OAGlD4S,IAAgB,GAEhB,MAAMoF,EAAeP,EACfQ,EAAW,CACfC,YAAaR,EAAU7L,cACvBxB,KAAMqN,EAAUrN,KAChBF,KAAMuN,EAAUvN,KAChBW,SAAW4M,EAAU5M,UAEjBqN,QAAiBC,EAAAA,EAAAA,IAASV,EAAW9M,EAAAA,GAAYyN,aAAcL,EAAcC,GACnF,GAAIE,EAASG,GAAI,CACf,MAAM5U,QAAeyU,EAASI,OAC9BhH,EAAkB7N,EAAOrD,IACzBgR,GAAcjG,GAAS,IAAIA,EAAM,CAAE/K,GAAIqD,EAAOrD,MAAOqX,MACrDtE,GAAUhF,GA5EGzN,WACjB,MAAM6S,GAAIC,EAAAA,EAAAA,KACR9I,EAAAA,EAAAA,IAAWpD,EAAAA,GAAImM,EAAAA,GAAkBC,qBACjCC,EAAAA,EAAAA,IAAM,SAAU,KAAM7M,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,SAG/D0M,QAAsBC,EAAAA,EAAAA,IAAQN,GAEpC,IAAKK,EAAcE,MAAO,CACxB,IAAIyE,EAAU,GAEd3E,EAAc3Q,SAASoE,IACrBkR,EAAQlV,KAAK,CAAEjD,GAAIiH,EAAIjH,MAAOiH,EAAIK,QAAS,IAG7C,IAAI8Q,EAAcD,EAAQ,GAE1B,MAAME,GAAYpR,EAAAA,EAAAA,IAChBC,EAAAA,GACAmM,EAAAA,GAAkBC,mBAClB8E,EAAYpY,UAGRsY,EAAAA,EAAAA,IAAUD,EAClB,GAqDIE,GACAtb,EAAa,iCAAkC,WAC/CwV,IAAS1H,GAASA,EAAO,GAC3B,CAEF,CAAE,MAAOxJ,GACPlD,QAAQkD,MAAM,4BAA6BA,GAC3CtE,GAAkB,OAALsE,QAAK,IAALA,OAAK,EAALA,EAAOyJ,UAAW,uBAAwB,QACzD,CAAC,QACCuH,IAAgB,EAClB,MAvDEtV,EAAa,8BAA+B,QAuD9C,EAmOM2E,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAChCoE,UAEFN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKC,MAAK,CAAC8H,UAAU,eAAcxW,UAClCE,EAAAA,EAAAA,MAAA,OAAAF,SAAA,EACEE,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,qBACZN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKG,QAAO,CACX6H,KAAM,EACN7W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElC0E,KAAK,WACLoW,YAAY,wBACZtX,KAAK,sBAGTc,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,kBACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KACZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCiG,UAAQ,EACR7D,GAAG,gBACH6P,QAAS4B,EACT9R,MAAO0R,EACP9O,SApYYwW,CAACpC,EAAOhX,KACtC2R,EAAuB3R,EAAM,EAoYXqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,sBACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,uBAS9C8D,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,0BACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KACZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCiG,UAAQ,EACR7D,GAAG,gBACH6P,QAAS0B,EACT5R,MAAOwR,EACP5O,SArZW4W,CAACxC,EAAOhX,KACrCyR,EAAuBzR,EAAM,EAqZXqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,qBACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,oBAO5CsE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,yBACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KAEZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCoC,GAAG,gBACH6P,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,IAC7ClQ,MAAOiS,EACPrP,SA7bS6W,CAACzC,EAAOhX,KACnCkS,EAAoBlS,EAAM,EA6bRqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,kBACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,uBAS9C8D,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFN,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAAChI,GAAI,EAAExG,UACTN,EAAAA,EAAAA,KAAC2X,EAAAA,EAAS,CACRjK,YAAa8C,GAAiB,sBAC9B7C,aA1UOiK,CAACC,EAAWC,KACnC,MAAOC,EAAkBC,GAAkBxH,EAAc3C,MAAM,OAC/D,IAAIoK,EAAO,GAAAla,OAAMga,EAAgB,OAAAha,OAAMia,GAErB,OAAdH,IAAoBI,EAAO,GAAAla,OAAM8Z,EAAS,OAAA9Z,OAAMia,IACpC,OAAZF,IAAkBG,EAAO,GAAAla,OAAMga,EAAgB,OAAAha,OAAM+Z,IAEzDrH,EAAiBwH,EAAQ,OAsUbzX,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,UACZN,EAAAA,EAAAA,KAACkY,EAAAA,EAAoB,CAACC,YAAaC,EAAAA,EAAa9X,UAC9CN,EAAAA,EAAAA,KAACqY,EAAAA,EAAa,CAACC,WAAY,CAAC,cAAchY,UACxCE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KACZnX,EAAAA,EAAAA,KAACuY,EAAAA,EAAU,CACTjW,GAAI,CAAElC,MAAO,QACbnC,MAAOyS,EACP7P,SAAW2X,GAAa7H,GAAiB6H,mBAQrDxY,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,WACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KAEZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCoC,GAAG,gBACH6P,QAAS,CAACsK,EAAAA,GAAOC,IAAKD,EAAAA,GAAOE,UAAWF,EAAAA,GAAOG,aAAcH,EAAAA,GAAOI,UACpE5a,MAAOqS,EACPzP,SApfMiY,CAAC7D,EAAOhX,KAChCsS,EAAiBtS,EAAM,EAofLqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,eACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,oBAO5CsE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,sBACZN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKG,QAAO,CACX6H,KAAM,EACN7W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElC0E,KAAK,SACLoW,YAAY,iBACZtX,KAAK,oBAKXM,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,YACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KAEZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCoC,GAAG,gBACH6P,QAASkB,EACTpR,MAAOmS,EACPvP,SA9hBOkY,CAAC9D,EAAOhX,KACjCoS,EAAkBpS,EAAM,EA8hBNqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,gBACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,oBAO5CsE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACXN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,wBACVN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKG,QAAO,CACX6H,KAAM,EACN7W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElC0E,KAAK,OACLoW,YAAY,2BACZtX,KAAK,4BAKXM,EAAAA,EAAAA,KAAA,UAEAA,EAAAA,EAAAA,KAAC6O,EAAAA,EAAG,CAAAvO,UACFE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,uBACZN,EAAAA,EAAAA,KAACgZ,IAAU,CACT9B,MAAM,OACNF,YAAY,oBACZ/Y,MAAO0M,GACP9J,SAAUmQ,WAKhBhR,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFN,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAACjI,GAAI,KACT7G,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAACjI,GAAI,EAAG5G,UAAU,6BAA4BK,UAChDN,EAAAA,EAAAA,KAACiZ,EAAAA,EAAS,CACRhR,QAAQ,YACR/H,MAAO,CACLoD,MAAO,QACP7C,gBAAiBvE,EAAe,UAAY,SAE9C0E,KAAK,SACLkC,SAAU8N,GAAatQ,SACxB,qBASZsQ,KAAgB5Q,EAAAA,EAAAA,KAACkZ,EAAAA,EAAc,IACtB,IAATpI,KACCtQ,EAAAA,EAAAA,MAAAoL,EAAAA,SAAA,CAAAtL,SAAA,EACEN,EAAAA,EAAAA,KAAC6O,EAAAA,EAAG,CAAAvO,UACFN,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAAAxO,UACFN,EAAAA,EAAAA,KAACtF,EAAAA,EAAW,CACVI,SAAUyU,EACVvU,MAAO,oBACPD,cAAe2F,EAAAA,GAAS6K,cACxBtQ,cAAe,SAIrB+E,EAAAA,EAAAA,KAAC6O,EAAAA,EAAG,CAAC3O,MAAO,CAAEiZ,OAAQ,UAAW7Y,UAC/BN,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAAC5O,MAAO,CAAEuI,UAAW,SAAUnI,UACjCN,EAAAA,EAAAA,KAACiZ,EAAAA,EAAS,CACRhR,QAAQ,YACR/H,MAAO,CACLoD,MAAO,QACP7C,gBAAiBvE,EAAe,UAAY,SAE9C6G,QAASA,IAAMgO,IAAS1H,GAASA,EAAO,IAAG/I,SAC5C,kBASf,EC/JA,QAvhBA,SAAwB1F,GAA0C,IAAzC,YAAEwe,EAAW,YAAEhK,EAAW,SAAEC,GAAUzU,EACzCsK,aAAaC,QAHP,kBAG1B,MAEM5J,GAAeC,EAAAA,EAAAA,MAEd4U,EAAgBC,IAAqBxU,EAAAA,EAAAA,UAAS,OAC9C4T,EAAqBC,IAA0B7T,EAAAA,EAAAA,UAAS,IAEzDkU,EAAqBhG,EAAAA,GACpB4F,EAAqBC,IAA0B/T,EAAAA,EAAAA,UAAS,IACzDK,GAAeC,EAAAA,EAAAA,IAAYC,EAAAA,IAE1B8T,EAAkBC,IAAuBtU,EAAAA,EAAAA,UAAS,KAClDyU,EAAeC,IAAoB1U,EAAAA,EAAAA,UAAS,KAC5C2U,EAAeC,IAAoB5U,EAAAA,EAAAA,UAAS,KAC5C6U,EAAeC,IAAoB9U,EAAAA,EAAAA,UAASsM,IAAM,IAAIe,QACtD0H,EAAcC,IAAmBhV,EAAAA,EAAAA,WAAS,IAC1C8O,EAAaqG,IAAkBnV,EAAAA,EAAAA,UAAS,IAEzCgU,EAAyBT,EAAYhR,KACxC0R,GAAU,GAAA/R,OAAQ+R,EAAWpQ,KAAI,OAAA3B,OAAM+R,EAAWxR,MAG/C2S,IAAYC,EAAAA,EAAAA,GAAY,CAC5BC,QAAS,CACPC,KAAMlV,EAAe,OAAS,YAQ3Bmd,GAAqBC,KAA0Bzd,EAAAA,EAAAA,UAAS,KACxD0d,GAAmBC,KAAwB3d,EAAAA,EAAAA,UAAS,MA8FrDwV,GAAahF,IACjBA,EAAKiF,QACL1B,EAAuB,IACvBF,EAAuB,IACvBW,EAAkB,MAClBF,EAAoB,IACpBI,EAAiB,IACjBE,EAAiB,IACjBE,EAAiBxI,IAAM,IAAIe,OAC3BsQ,GAAqB,MACrBF,GAAuB,IACvBtI,EAAe,GAAG,EA+EpB,OAlDAtT,EAAAA,EAAAA,YAAU,KACR,GAAI6b,GAAmB,CACrB,MAAME,EAAmBrK,EACtB3Q,QAAQqR,GACPyJ,GAAkBnK,YAAY1Q,SAASoR,EAAWxR,MAEnDF,KAAK0R,GAAU,GAAA/R,OAAQ+R,EAAWpQ,KAAI,OAAA3B,OAAM+R,EAAWxR,MAkB1D,GAhBAoR,EAAuB+J,GACnBF,IAAqBA,GAAkBxP,aACzC6F,EAAuB2J,GAAkBxP,aAEvCwP,IAAqBA,GAAkBtG,UACzC9C,EAAoBoJ,GAAkBtG,UAEpCsG,IAAqBA,GAAkBpM,OACzCoD,EAAiBgJ,GAAkBpM,OAEjCoM,IAAqBA,GAAkBjR,MACzCmI,EAAiB8I,GAAkBjR,MAEjCiR,IAAqBA,GAAkBnR,MACzCuI,EAAiBxI,IAAMoR,GAAkBnR,OAEvCmR,IAAqBA,GAAkBxQ,SAAU,CACnD,MACMsK,EADUhE,EAASjR,KAAKkV,GAAWA,EAAOzF,MAAM,KAAK,GAAGnB,SAC3B6G,WAChCD,GAAWA,IAAWiG,GAAkBxQ,WAE3CsH,EAAkBhB,EAASgE,IAAuB,KACpD,CAEArC,GAAgC,OAAjBuI,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmB5O,cAAe,GACnD,IACC,CAAC4O,MAEJ7b,EAAAA,EAAAA,YAAU,KACR,GAAIxB,EAAc,CACGqV,SAASsD,uBAAuB,sBAAsB,GAC9D3U,MAAMO,gBAAkB,QAEnC,MAAMqU,EAAWvD,SAASsD,uBAAuB,wBAAwB,GACzEC,EAAS5U,MAAMO,gBAAkB,QAEjC,MAAMsU,EAAUxD,SAASsD,uBAAuB,cAAc,GAC9DlY,QAAQC,IAAImY,GACZD,EAAS5U,MAAMoD,MAAQ,OACzB,IACC,CAACpH,KAGFsE,EAAAA,EAAAA,MAAA,OACEN,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAChCoE,SAAA,EAEFN,EAAAA,EAAAA,KAAA,UACAQ,EAAAA,EAAAA,MAACuO,EAAAA,EAAI,CAACzQ,GAAG,mBAAmB0W,SAxJLpW,UACzBqW,EAAMC,iBACN,MAAM7I,EAAO4I,EAAMhU,OAEnB,GAAKoY,GAEL,GAzBqBhN,KACrB,IAAI8I,GAAmB,EAevB,OAbG9I,EAAKvC,cAAc7L,OACnBoO,EAAKmG,SAASvU,OACd0M,GACmB,OAAnBgF,QAAmB,IAAnBA,GAAAA,EAAqB1S,QACF,OAAnBwS,QAAmB,IAAnBA,GAAAA,EAAqBxS,QACrBmT,GACAF,GACAI,GACAE,GACAE,IAEDyE,GAAmB,GAEdA,CAAgB,EASlBC,CAAc/I,GAAnB,CAKA,IAAK,IAADgJ,EAAAC,EAAAC,EAAAC,EAAAC,EACF,MAAME,EAAY,CAChB7L,cAAeuC,EAAKvC,cAAc7L,MAClCuU,SAAUnG,EAAKmG,SAASvU,MACxB0M,YAAaA,EACbZ,YAAa4F,EACbP,YAAaK,EACU,OAAnBA,QAAmB,IAAnBA,GAAwB,QAAL4F,EAAnB5F,EAAqBrR,WAAG,IAAAiX,OAAL,EAAnBA,EAAAnP,KAAAuJ,GACGK,IAAU,IAAA8F,EAAAC,EAAAC,EAAAC,EAAA,OAAe,OAAVjG,QAAU,IAAVA,GAAiB,QAAP8F,EAAV9F,EAAYjC,aAAK,IAAA+H,GAAO,QAAPC,EAAjBD,EAAA1P,KAAA4J,EAAoB,YAAI,IAAA+F,GAAK,QAALC,EAAxBD,EAA2B,UAAE,IAAAC,GAAM,QAANC,EAA7BD,EAA+BpJ,YAAI,IAAAqJ,OAAzB,EAAVA,EAAA7P,KAAA4P,KAA2C,IAAI,IAEjE,KACJjD,OAAQ7N,KAAKC,MAAMC,aAAaC,QAAQ,aAAa2N,YACrD1N,OAAQJ,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,OACrD2N,aAAc/N,KAAKC,MAAMC,aAAaC,QAAQ,aAAa6N,MAC3DjK,SAAUqH,IACQ,OAAdA,QAAc,IAAdA,GAAqB,QAAPkF,EAAdlF,EAAgBvC,aAAK,IAAAyH,GAAO,QAAPC,EAArBD,EAAApP,KAAAkK,EAAwB,YAAI,IAAAmF,GAAK,QAALC,EAA5BD,EAA+B,UAAE,IAAAC,GAAM,QAANC,EAAjCD,EAAmC9I,YAAI,IAAA+I,OAAzB,EAAdA,EAAAvP,KAAAsP,KACA,KACJvC,SAAU/C,EACV/C,MAAOmD,EACPhI,KAAMkI,EACNpI,KAAMsI,EAAcrI,OAAO,cAC3B2N,iBAAkB3J,EAAK2J,iBAAiB/X,OAG1C4S,GAAgB,GAEhB,MAAMuF,QAAiBsD,EAAAA,EAAAA,IAAQ/D,EAAW9M,EAAAA,GAAYyN,aAAc+C,IAChEjD,EAASG,IACXlF,GAAUhF,GACV9Q,EAAa,mCAAoC,YAEjDA,EAAa,SAADwC,OAAUqY,EAAQ,KAAK,QAGvC,CAAE,MAAOvW,GACPlD,QAAQkD,MAAM,8BAA+BA,GAC7CtE,GAAkB,OAALsE,QAAK,IAALA,OAAK,EAALA,EAAOyJ,UAAW,uBAAwB,QACzD,CAAC,QACCuH,GAAgB,EAClB,CACAU,SAASC,eAAe,oBAAoBF,OA1C5C,MAFE/V,EAAa,8BAA+B,QA4CK,EAqGQ+E,SAAA,EACvDE,EAAAA,EAAAA,MAACuO,EAAAA,EAAKC,MAAK,CAAC8H,UAAU,kBAAiBxW,SAAA,EACrCN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,QACZE,EAAAA,EAAAA,MAACuO,EAAAA,EAAKG,QAAO,CACXC,GAAG,SACHzP,KAAK,SACLQ,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,QAChC4L,OAAQ,QAEVjH,SAzMiBjC,UACzBqW,EAAMC,iBACN,MACMyE,EADW1E,EAAMhU,OAAOhD,MACF4P,MAAM,KAAK+L,MAAMlN,OAC7C4M,GAAuBK,GACvB,IACE,MAAME,QAAkBnU,EAAAA,EAAAA,KACtBH,EAAAA,EAAAA,IAAIC,EAAAA,GAAIqD,EAAAA,GAAYyN,aAAcqD,IAEhCE,EAAUlU,OACZ6T,GAAqBK,EAAUjU,QAE/B4T,GAAqB,KAEzB,CAAE,MAAO3Z,GACPlD,QAAQkD,MAAM,kCAAmCA,EAAO8Z,EAC1D,GAyLqCrZ,SAAA,EAE7BN,EAAAA,EAAAA,KAAA,UAAQ/B,MAAM,GAAEqC,SAAC,2BAChB8Y,GAAeA,EAAYnc,OAAS,EACnCmc,EAAYhb,KAAK0b,IACf9Z,EAAAA,EAAAA,KAAA,UAA4B/B,MAAO6b,EAAcxZ,SAC9CwZ,GADUA,MAKf9Z,EAAAA,EAAAA,KAAA,UAAQ/B,MAAM,GAAEqC,SAAC,2BAIrBE,EAAAA,EAAAA,MAAA,OAAAF,SAAA,EACEE,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFN,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAAChI,GAAI,EAAExG,UACTN,EAAAA,EAAAA,KAACtF,EAAAA,EAAW,CACVI,SAAUue,GACVre,MAAO,oBACPD,cAAe2F,EAAAA,GAAS6K,cACxBtQ,cAAe,OAInBuF,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACXN,EAAAA,EAAAA,KAAA,UACEA,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,qBACZN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKG,QAAO,CACX6H,KAAM,EACN/I,aACEuL,GAAoBA,GAAkBzP,cAAgB,GAExD5J,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElC0E,KAAK,WACLoW,YAAY,wBACZtX,KAAK,mBAGPM,EAAAA,EAAAA,KAAA,UAEAA,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,kBACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KAEZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCiG,UAAQ,EACR7D,GAAG,gBACH6P,QAAS4B,EACT9R,MAAO0R,EACP9O,SAzQcwW,CAACpC,EAAOhX,KACtC2R,EAAuB3R,EAAM,EAyQbqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,sBACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,iBAO1C8D,EAAAA,EAAAA,KAAA,UAEAA,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,0BACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KACZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCiG,UAAQ,EACR7D,GAAG,gBACH6P,QAAS0B,EACT5R,MAAOwR,EACP5O,SAzKa4W,CAACxC,EAAOhX,KACrCyR,EAAuBzR,EAAM,EAyKbqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,qBACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,uBAS9C8D,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,yBACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KAEZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCoC,GAAG,gBACH6P,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,IAC7ClQ,MAAOiS,EACPrP,SAtNW6W,CAACzC,EAAOhX,KACnCkS,EAAoBlS,EAAM,EAsNVqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,kBACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,oBAQ5C8D,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAAChI,GAAI,EAAExG,UACTN,EAAAA,EAAAA,KAAC2X,EAAAA,EAAS,CACRjK,YAAa8C,GAAiB,cAC9B7C,aAzNSiK,CAACC,EAAWC,KACnC,MAAOC,EAAkBC,GAAkBxH,EAAc3C,MAAM,OAC/D,IAAIoK,EAAO,GAAAla,OAAMga,EAAgB,OAAAha,OAAMia,GAErB,OAAdH,IAAoBI,EAAO,GAAAla,OAAM8Z,EAAS,OAAA9Z,OAAMia,IACpC,OAAZF,IAAkBG,EAAO,GAAAla,OAAMga,EAAgB,OAAAha,OAAM+Z,IAEzDrH,EAAiBwH,EAAQ,UAuNjBjY,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,UACZN,EAAAA,EAAAA,KAACkY,EAAAA,EAAoB,CAACC,YAAaC,EAAAA,EAAa9X,UAC9CN,EAAAA,EAAAA,KAACqY,EAAAA,EAAa,CAACC,WAAY,CAAC,cAAchY,UACxCE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KACZnX,EAAAA,EAAAA,KAACuY,EAAAA,EAAU,CACTjW,GAAI,CAAElC,MAAO,QACbnC,MAAOyS,EACP7P,SAAW2X,GAAa7H,EAAiB6H,gBAMnDhY,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,WACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KAEZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCoC,GAAG,gBACH6P,QAAS,CAACsK,EAAAA,GAAOC,IAAKD,EAAAA,GAAOE,UAAWF,EAAAA,GAAOG,aAAcH,EAAAA,GAAOI,UACpE5a,MAAOqS,EACPzP,SAzQQiY,CAAC7D,EAAOhX,KAChCsS,EAAiBtS,EAAM,EAyQPqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,eACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,uBAS9C8D,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,sBACZN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKG,QAAO,CACX6H,KAAM,EACN/I,aACEuL,SAAoDrc,IAA/Bqc,GAAkB/G,SACnC+G,GAAkB/G,SAClB,GAENtS,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElC0E,KAAK,SACLoW,YAAY,iBACZtX,KAAK,iBAGTc,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,YACZE,EAAAA,EAAAA,MAACyW,EAAAA,EAAa,CAACC,MAAOjG,GAAU3Q,SAAA,EAC9BN,EAAAA,EAAAA,KAACmX,EAAAA,GAAW,KAEZnX,EAAAA,EAAAA,KAACoX,EAAAA,EAAY,CACXlX,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElCoC,GAAG,gBACH6P,QAASkB,EACTpR,MAAOmS,EACPvP,SAxTckZ,CAAC9E,EAAOhX,KACtCoS,EAAkBpS,EAAM,EAwTRqZ,YAAcC,IACZvX,EAAAA,EAAAA,KAACwX,EAAAA,EAAS,IACJD,EACJtP,QAAQ,WACR+O,YAAY,gBACZ9W,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,uBAS9C8D,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACJE,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACLN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,wBACZN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKG,QAAO,CACX6H,KAAM,EACN/I,aACEuL,GAAoBA,GAAkBvD,iBAAmB,GAE3D9V,MAAO,CACLO,gBAAiBvE,EAAe,UAAY,GAC5CoH,MAAOpH,EAAe,QAAU,SAElC0E,KAAK,OACLoW,YAAY,2BACZtX,KAAK,yBAGXc,EAAAA,EAAAA,MAACsO,EAAAA,EAAG,CAAChI,GAAI,EAAExG,SAAA,EACTN,EAAAA,EAAAA,KAAC+O,EAAAA,EAAKE,MAAK,CAAA3O,SAAC,uBACZN,EAAAA,EAAAA,KAACgZ,IAAU,CACT9B,MAAM,OACNF,YAAY,oBACZ/Y,MAAO0M,EACP9J,SAAUmQ,WAKhBhR,EAAAA,EAAAA,KAAA,UAEAQ,EAAAA,EAAAA,MAACqO,EAAAA,EAAG,CAAAvO,SAAA,EACFN,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAACjI,GAAI,KACT7G,EAAAA,EAAAA,KAAC8O,EAAAA,EAAG,CAACjI,GAAI,EAAG5G,UAAU,6BAA4BK,UAChDN,EAAAA,EAAAA,KAACiZ,EAAAA,EAAS,CACRhR,QAAQ,YACR/H,MAAO,CACLoD,MAAO,QACP7C,gBAAiBvE,EAAe,UAAY,SAE9C0E,KAAK,SACLkC,SAAU8N,EAAatQ,SACxB,iCAORsQ,IAAgB5Q,EAAAA,EAAAA,KAACkZ,EAAAA,EAAc,SAIxC,E,aC/SA,QAjPA,WACE,MAAO7J,EAAU2K,IAAene,EAAAA,EAAAA,UAAS,KAClCoe,EAAW3K,IAAgBzT,EAAAA,EAAAA,UAAS,KACpCud,EAAac,IAAkBre,EAAAA,EAAAA,UAAS,IACzCK,GAAeC,EAAAA,EAAAA,IAAYC,EAAAA,IAC1BgT,EAAa+K,IAAkBte,EAAAA,EAAAA,UAAS,KACxCue,EAAWC,IAAgBxe,EAAAA,EAAAA,WAAS,IACpCye,EAAaC,IAAkB1e,EAAAA,EAAAA,WAAU,IAC1C,YAAEkJ,IAAgByV,EAAAA,EAAAA,MACjBvc,EAAOwc,GAAYC,EAAAA,SAAe,KAwKzC,OAlIAhd,EAAAA,EAAAA,YAAU,KACekB,WACrB,IACE,MAAM0G,GAAUC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,OAAQT,EAAY4V,KACtClV,QAAiBC,EAAAA,EAAAA,IAAOJ,GAC1BG,EAASE,UACY,MAAnBF,EAASG,SACXyU,EAAa5U,EAASG,OAAOgV,aAC7BL,EAAe9U,EAASG,OAAOiV,WAGrC,CAAE,MAAOhb,GACPlD,QAAQC,IAAI,SACd,GAGFke,EAAgB,GACf,CAACV,KAEJ1c,EAAAA,EAAAA,YAAU,KACiBkB,WACvB,IAAImc,EAAS,KAOb,GALE/V,KAAKC,MAAMC,aAAaC,QAAQ,cAChCH,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,SAE7C2V,EAAS/V,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,SAEnD2V,EAEH,YADAjd,MAAM,kBAIR,MAAMkd,GAAgBpS,EAAAA,EAAAA,IAAWpD,EAAAA,GAAIqD,EAAAA,GAAYoS,aAC3CxJ,GAAIC,EAAAA,EAAAA,IAAMsJ,GAAenJ,EAAAA,EAAAA,IAAM,YAAa,KAAMkJ,IAClDjJ,QAAsBC,EAAAA,EAAAA,IAAQN,GAE9ByJ,EAAkB,GACxBpJ,EAAc3Q,SAASoE,IACrB2V,EAAgB3Z,KAAK,CACnBjD,GAAIiH,EAAIjH,GACRoB,KAAM6F,EAAIK,OAAOlG,MACjB,IAEJya,EAAee,EAAgB,EAGjCC,EAAkB,GACjB,KAEHzd,EAAAA,EAAAA,YAAU,KACiBkB,WACvB,MAAM6S,GAAIC,EAAAA,EAAAA,KACR9I,EAAAA,EAAAA,IAAWpD,EAAAA,GAAIqD,EAAAA,GAAYuS,SAC3BvJ,EAAAA,EAAAA,IACE,SACA,KACA7M,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,SAK3CiW,SADsBtJ,EAAAA,EAAAA,IAAQN,IACA6J,KACjC7c,QAAQ8G,GAAQA,EAAIK,OAAOuE,aAC3B/L,KAAKmH,IACJ,MAAMK,EAAOL,EAAIK,OACjB,MAAO,CACLtH,GAAIiH,EAAIjH,MACLsH,EACJ,IAELoU,EACEqB,EAAcjd,KACXkV,GAAWiI,OAAOjI,EAAOnJ,YAAc,KAAOoR,OAAOjI,EAAOhV,MAEhE,EAGHkd,EAAkB,GACjB,KAEH9d,EAAAA,EAAAA,YAAU,KACoBkB,WAC1B,MAAM6S,GAAIC,EAAAA,EAAAA,KACR9I,EAAAA,EAAAA,IAAWpD,EAAAA,GAAIqD,EAAAA,GAAYyN,eAC3BzE,EAAAA,EAAAA,IACE,SACA,KACA7M,KAAKC,MAAMC,aAAaC,QAAQ,aAAaC,SAI3CqW,SADsB1J,EAAAA,EAAAA,IAAQN,IACW6J,KAC5C7c,QAAQ8G,GAAQA,EAAIK,OAAOkE,gBAC3B1L,KAAKmH,IACJ,MAAMK,EAAOL,EAAIK,OACjB,MAAO,CACLtH,GAAIiH,EAAIjH,MACLsH,EACJ,IACAxH,KAAIQ,UACL,MAAM8c,GAASnW,EAAAA,EAAAA,IAAIC,EAAAA,GAAIqD,EAAAA,GAAYuS,OAAiB,OAATnB,QAAS,IAATA,OAAS,EAATA,EAAWlR,UAChD4S,QAAgBjW,EAAAA,EAAAA,IAAOgW,GAC7B,MAAO,IAAKzB,EAAW/P,cAAeyR,EAAQ/V,OAAQ,IAEpDgW,QAA0Bxc,QAAQC,IAAIoc,GAC5CvW,aAAa2W,QAAQ,mBAAoB7W,KAAK8W,UAAUF,IACxDtM,EAAasM,GACb1B,EACE0B,EAAkBxd,KACf6b,GACCsB,OAAOtB,EAAUnQ,eAAiB,KAAOyR,OAAOtB,EAAU3b,MAE/D,EAGHyd,EAAqB,GACpB,CAACzM,KAEJ5R,EAAAA,EAAAA,YAAU,KACR,MAAMke,EACJ5W,KAAKC,MAAMC,aAAaC,QAAQ,sBAAwB,GACxDmK,EAAasM,GAEf,MAAMI,EAAkBJ,EAAkBxd,KACvC6b,GAAS,GAAAlc,OAAQkc,EAAUnQ,cAAa,OAAA/L,OAAMkc,EAAU3b,MAE3D4b,EAAe8B,EAAgB,GAC9B,CAAC9B,KAGF1Z,EAAAA,EAAAA,MAAA,OAAAF,SAAA,EACEN,EAAAA,EAAAA,KAAA,SACCoa,GACCpa,EAAAA,EAAAA,KAAA4L,EAAAA,SAAA,CAAAtL,UACEN,EAAAA,EAAAA,KAACyG,EAAAA,EAAG,CAACnE,GAAI,CAAElC,MAAO,OAAQ6b,WAAY,SAAU3b,UAC9CE,EAAAA,EAAAA,MAAC0b,EAAAA,GAAU,CAACje,MAAOA,EAAMqC,SAAA,EACvBN,EAAAA,EAAAA,KAACyG,EAAAA,EAAG,CAACnE,GAAI,CAAE6Z,aAAc,EAAGjV,YAAa,WAAY5G,UACnDE,EAAAA,EAAAA,MAAC4b,EAAAA,EAAO,CACNlc,MAAO,CAAEoD,MAAOpH,EAAe,QAAU,SACzC2E,SAhLKwb,CAACpH,EAAOuD,KAC3BiC,EAASjC,EAAS,EAgLJ,aAAW,uBAAsBlY,SAAA,EAEjCN,EAAAA,EAAAA,KAACsc,EAAAA,EAAG,CACFpc,MAAO,CAAEoD,MAAOpH,EAAe,QAAU,SACzCqgB,MAAM,iBACNte,MAAM,OAER+B,EAAAA,EAAAA,KAACsc,EAAAA,EAAG,CACFpc,MAAO,CAAEoD,MAAOpH,EAAe,QAAU,SACzCqgB,MAAM,oBACNte,MAAM,YAIZ+B,EAAAA,EAAAA,KAACwc,EAAAA,EAAQ,CAACve,MAAM,IAAGqC,UACjBN,EAAAA,EAAAA,KAACyc,EAAY,CACXrN,YAAaA,EACbC,SAAUA,EACVC,aAAcA,OAGlBtP,EAAAA,EAAAA,KAACwc,EAAAA,EAAQ,CAACve,MAAM,IAAGqC,UACjBN,EAAAA,EAAAA,KAAA4L,EAAAA,SAAA,CAAAtL,UACEN,EAAAA,EAAAA,KAAC0c,EAAe,CACdtN,YAAaA,EACbgK,YAAaA,EACb/J,SAAUA,eAQtB,GAGD4K,EAAUhd,OAAS,IAClBuD,EAAAA,EAAAA,MAAAoL,EAAAA,SAAA,CAAAtL,SAAA,EACEN,EAAAA,EAAAA,KAAA,MAAIE,MAAO,CAAEoD,MAAOpH,EAAe,QAAU,SAAUoE,SAAC,wBAGxDN,EAAAA,EAAAA,KAAC2c,EAAAA,EAAU,CACTpP,SAAU0M,EACVzV,kBAzNgB5F,UACxB,IACE,MAAM8c,GAASnW,EAAAA,EAAAA,IAAIC,EAAAA,GAAIqD,EAAAA,GAAYyN,aAAc8C,SAC3ChQ,EAAAA,EAAAA,IAAUsS,EAAQ,CAAE9Q,QAAQ,IAElC0E,GAAcjG,GACZA,EAAKjL,KAAK6b,GACRA,EAAU3b,KAAO8a,EAAc,IAAKa,EAAWrP,QAAQ,GAASqP,KAGtE,CAAE,MAAOpa,GACPlD,QAAQkD,MAAMA,EAChB,GA8MQ4E,oBA3MkB7F,UAC1B,IACE,MAAM8c,GAASnW,EAAAA,EAAAA,IAAIC,EAAAA,GAAIqD,EAAAA,GAAYyN,aAAc8C,SAC3ChQ,EAAAA,EAAAA,IAAUsS,EAAQ,CAAE9Q,QAAQ,IAElC0E,GAAcjG,GACZA,EAAKjL,KAAK6b,GACRA,EAAU3b,KAAO8a,EACb,IAAKa,EAAWrP,QAAQ,GACxBqP,KAGV,CAAE,MAAOpa,GACPlD,QAAQkD,MAAMA,EAChB,GA8LQ6E,gBAAc,SAM1B,C,uFC/PO9F,eAAeyX,EAASV,EAAWiH,EAAiBC,EAAQC,GACjE,MAAMC,EAAUC,EAAAA,GAEVC,EAAY/X,aAAaC,QAAQ,aACvC,IACE,MAAMiR,QAAiB8G,MAAMH,EAHd,kBAGkC,CAC/CI,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAADrf,OAAYkf,IAE7BI,KAAMrY,KAAK8W,UAAU,CACnBlW,KAAM+P,EACNiH,gBAAiBA,EACjBC,OAAQA,EACRC,SAAWA,MAIf,IAAK1G,EAASG,GAEZ,MADA5Z,QAAQC,IAAI,qBAAsBwZ,GAC5B,IAAIkH,MAAM,uBAADvf,OAAwBqY,EAASmH,SAGlD,OAAOnH,CACT,CAAE,MAAOvW,GAEP,MADAlD,QAAQkD,MAAM,qBAAsBA,GAC9BA,CACR,CACF,CAEOjB,eAAe8a,EAAQ/D,EAAWiH,EAAiBY,GAA4C,IAAjCX,EAAM7f,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAM8f,EAAQ9f,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC7F,MAAM+f,EAAUC,EAAAA,GACVS,EAAQ,qBAAA1f,OAAwByf,GAChCP,EAAY/X,aAAaC,QAAQ,aACvC,IACE,MAAMiR,QAAiB8G,MAAMH,EAAUU,EAAU,CAC/CN,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAADrf,OAAYkf,IAE7BI,KAAMrY,KAAK8W,UAAU,CACnBlW,KAAM+P,EACNiH,gBAAiBA,EACjBC,OAAQA,EACRC,SAAWA,MAIf,IAAK1G,EAASG,GAEZ,MADA5Z,QAAQC,IAAI,qBAAsBwZ,GAC5B,IAAIkH,MAAM,uBAADvf,OAAwBqY,EAASmH,SAGlD,OAAOnH,CACT,CAAE,MAAOvW,GAEP,MADAlD,QAAQkD,MAAM,qBAAsBA,GAC9BA,CACR,CACF,CAEO,MAQM6d,EAAa9e,UACxB,MAAMyM,EAAG,GAAAtN,OAAM4f,EAAAA,GAAYC,MAAK,wBAEhC,IACE,MAAMxH,QAAiB8G,MAAM7R,EAAK,CAChC8R,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMrY,KAAK8W,UAAU,CACnBf,OAAQ8C,EAAY9C,OACpB+C,WAAYD,EAAYC,WACxBhjB,SAAU+iB,EAAY/iB,SACtBijB,mBAAoBF,EAAYE,mBAChCC,aAAcH,EAAYG,aAC1BC,eAAgBJ,EAAYI,eAC5BC,eAAgBL,EAAYK,mBAI1Bvc,QAAeyU,EAASI,OAE9B,OAAIJ,EAASG,IACX5Z,QAAQC,IAAI,sBAAuB+E,GAC5BA,IAEPhF,QAAQkD,MAAM,kBAAmB8B,GAC1BA,EAGX,CAAE,MAAO9B,GAEP,OADAlD,QAAQkD,MAAM,gCAAiCA,GACxC,IACT,GAiBWse,EAAqBC,IAEhC,GADAzhB,QAAQC,IAAI,eAAgBwhB,IACvBA,EACH,OAAO,KAET,MAEM5b,EAFO4b,EAAK1R,OAEClK,MADG,2GAEtB,IAAI6b,EAAU,KAMd,OAJI7b,IACF6b,EAAU7b,EAAM,IAElB7F,QAAQC,IAAI,eAAgByhB,GACrBA,CAAO,EAGHC,EAAmB,WAAsB,IAArBC,EAAUvhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAE5C,MAAOwhB,EAAMC,EAAOC,GAAOH,EAAW1Q,MAAM,KAkB5C,MAAM,GAAN9P,OATmB2gB,KACf,MAAMC,EAAYD,EAAM,GAClBE,EAAwB,IAAdD,GAA2B,OAARD,EAAgB,KACrB,IAAdC,GAA2B,OAARD,EAAgB,KACrB,IAAdC,GAA2B,OAARD,EAAgB,KAAO,KAC1D,MAAM,GAAN3gB,OAAU2gB,GAAG3gB,OAAG6gB,EAAM,EAIhBC,CAAUH,GAAI,KAAA3gB,OAfL,CACf,MAAO,MAAO,MAAO,MAAO,MAAO,MACnC,MAAO,MAAO,MAAO,MAAO,MAAO,OAaA+gB,SAASL,GAAS,GAAE,MAAA1gB,OAAKygB,EAClE,C","sources":["Components/ImageUpload.js","Components/OpenClassCard.js","Components/OpenClassCardSlider.js","Components/TimeRange.js","Components/OpenClassAdd.js","Components/OpenClassUpdate.js","Screens/CreatorOpenClass.js","utils/common.js"],"sourcesContent":["import React, { useState, useEffect, forwardRef, useImperativeHandle, useRef } from \"react\";\nimport shortid from \"shortid\";\nimport { ref as firebaseRef, getDownloadURL, listAll } from 'firebase/storage';\nimport { storage } from '../config';\nimport { useSelector } from 'react-redux'; // Import useSelector and useDispatch\nimport { selectDarkModeStatus } from '../redux/selectors/darkModeSelector'; \nimport { deleteAllImagesInFolder,deleteImages,uploadImages} from '../utils/firebaseUtils'\nimport { Card, CardContent, IconButton } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { useSnackbar } from \"../context/SnackbarContext\";\nimport { STORAGES } from \"../constants\";\nimport { useLoader } from \"../context/LoaderContext\";\n\n\nconst ImageUpload = forwardRef(({entityId,storageFolder,title, maxImageCount=10, minImageCount, updateMode, disable }, ref) => {\n  const { setIsLoading } = useLoader();\n  const showSnackbar = useSnackbar();\n  const imageInputRef = useRef(null);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const [newFiles, setNewFiles] = useState([]); // Track new files to be added\n  const isDarkModeOn = useSelector(selectDarkModeStatus); // Use useSelector to access isDarkModeOn\n  //console.log(\"Received props=> entityId:\", entityId, \"|storageFolder:\", storageFolder);\n  const [progressDelete, setProgressDelete] = useState(-1);\n  const [progressUpdate, setProgressUpdate] = useState(-1);\n  const [isUploadSuccessful, setIsUploadSuccessful] = useState(false);\n\n  console.log(\"Kyc enitity id \",entityId, disable)\n  const filesizes = (bytes, decimals = 2) => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  };\n\n  useEffect(() => {\n   // console.log(\"Fetching image for\",entityId)\n    if(entityId){\n      fetchStudioImages(entityId); // Fetch images when component mounts\n    }\n  }, [entityId]);\n\n  useEffect(() => {\n   // console.log(\"Selected files:\", selectedFiles);\n    if (maxImageCount && selectedFiles.length > maxImageCount) {\n      const truncatedFiles = selectedFiles.slice(0, maxImageCount);\n      alert(`Exceeded maxImageCount, keeping first ${maxImageCount} files.`);\n      imageInputRef.current.value = null;\n      setSelectedFiles(truncatedFiles);\n    }\n  }, [selectedFiles, maxImageCount]);\n  \n\n  const handleInputChange = (e) => {\n    // console.log(\"handleInputChange\")\n    const files = Array.from(e.target.files);\n    const updatedFiles = [];\n    // console.log(\"file array \",files.length)\n    files.forEach((file) => {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        updatedFiles.push({\n          id: shortid.generate(),\n          filename: file.name,\n          filetype: file.type,\n          fileimage: reader.result,\n          datetime: file.lastModifiedDate.toLocaleString(\"en-IN\"),\n          filesize: filesizes(file.size),\n          file: file, // Store the actual file object\n        });\n\n        if (updatedFiles.length === files.length) {\n          setSelectedFiles((prevFiles) => [...prevFiles, ...updatedFiles]);\n          setNewFiles(updatedFiles);\n          imageInputRef.current.value = null;\n          // console.log(\"New files in total\",setNewFiles.length)\n        }\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const handleDeleteSelectedFile = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this image?\")) {\n      setSelectedFiles((prevFiles) =>\n        prevFiles.filter((file) => file.id !== id)\n      );\n    }\n  };\n\n  const handleUploadSubmit = async () => {\n    if (!entityId) {\n      alert(\"No studio selected\");\n      return;\n    }\n\n    setProgressDelete(-1);\n    setProgressUpdate(-1);\n\n    try {\n      setIsLoading(true);\n      if (maxImageCount === 1 && selectedFiles.length >= minImageCount) {\n        // Delete all previous images in the folder\n        await deleteAllImagesInFolder(storageFolder, entityId);\n        await uploadImages(storageFolder,newFiles, entityId, setProgressUpdate);\n        showSnackbar(\"Image uploaded successfully\", \"success\");\n        setIsUploadSuccessful(true);\n      } else {\n        // Calculate images to delete and add\n        const { imagesToDelete, newImages } = calculateDelta(selectedFiles, uploadedFiles);\n\n        if (minImageCount && newImages.length < minImageCount) {\n          showSnackbar(`Minimum ${minImageCount} image(s) are required`, \"error\");\n          return;\n        }\n\n        // Delete images if there are any\n        if (imagesToDelete.length > 0) {\n          await deleteImages(storageFolder, imagesToDelete, entityId, setProgressDelete);\n          showSnackbar(\"Image(s) deleted successfully\", \"success\");\n        }\n\n        // Upload new images if there are any\n        if (newImages.length > 0) {\n          await uploadImages(storageFolder, newImages, entityId, setProgressUpdate);\n          showSnackbar(\"Image(s) uploaded successfully\", \"success\");\n        }\n        setIsUploadSuccessful(true);\n      }\n\n      imageInputRef.current.value = null;\n      // alert(\"Images Uploaded/Deleted\");\n    } catch (error) {\n      setIsUploadSuccessful(false);\n      console.error(\"Error uploading/deleting images:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Function to calculate images to delete and new images to upload\n  const calculateDelta = (selectedFiles, uploadedFiles) => {\n    const selectedFileIds = selectedFiles.map(file => file.id);\n    const uploadedFileIds = uploadedFiles.map(file => file.id);\n\n    const imagesToDelete = uploadedFiles.filter(file => !selectedFileIds.includes(file.id));\n    const newImages = selectedFiles.filter(file => !uploadedFileIds.includes(file.id));\n\n    return { imagesToDelete, newImages };\n  };\n\n\n  const fetchStudioImages = async (entityId) => {\n    setSelectedFiles([]);\n    setNewFiles([]);\n    try {\n      const folderPath = `${storageFolder}/${entityId}`;\n      console.log(folderPath)\n      const folderRef = firebaseRef(storage, folderPath);\n      const fileList = await listAll(folderRef);\n\n      const files = await Promise.all(\n        fileList.items.map(async (fileRef) => {\n          const downloadURL = await getDownloadURL(fileRef);\n\n          return {\n            id: fileRef.name,\n            filename: fileRef.name,\n            fileURL: downloadURL,\n          };\n        })\n      );\n      // console.log('File fetching',files);\n      setUploadedFiles(files); // Update the uploadedFiles state with fetched data\n      setSelectedFiles(files);\n    } catch (error) {\n      console.error('Error fetching user images:', error);\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    isValid: () => {\n      if (minImageCount === 0) return true;\n      return isUploadSuccessful\n    },\n  }));\n\n  return (\n    <div className=\"fileupload-view\" style={{ display: 'flex', width: '100%', justifyContent: 'center' }}>\n      <div className=\"row justify-content-center m-0\" style={{ flex: '1',justifyContent: 'center' }}>\n        <div className=\"col-md-6\" style={{ flex: '1' ,justifyContent: 'center'}}>\n          <div className=\"card mt-5\">\n            <div className=\"card-body\" style={{ backgroundColor: isDarkModeOn ? '#333333' : 'white' }}>\n              <div className=\"kb-data-box\">\n                <div className=\"kb-modal-data-title\">\n                  <div className=\"kb-data-title\" style={{justifyContent:'center',flex: '1'}}>\n                    <h4>{title}</h4>\n                    <p>Max no of image(s):{maxImageCount} {storageFolder === STORAGES.STUDIOIMAGES && <p>Add at least 5 images</p>}</p>\n                  </div>\n                </div>\n                <div style={{  backgroundColor: isDarkModeOn ? '#333333' : 'white'}}>\n                  <div className=\"kb-file-upload\">\n                    <div className=\"file-upload-box\">\n                      <input\n                        ref={imageInputRef}\n                        type=\"file\"\n                        id=\"fileupload\"\n                        className=\"file-upload-input\"\n                        onChange={handleInputChange}\n                        multiple\n                      />\n\n                    </div>\n                  </div>\n                  <br></br>\n                  <div className=\"kb-attach-box mb-3\">\n                  <div className=\"row\">\n                    {entityId && selectedFiles.length > 0 ? (\n                      selectedFiles.map((file) => (\n                        \n                        <div key={file.id} className=\"col-6 col-md-3 mb-3\" style={{ position: 'relative' }}>\n                          \n                          <Card sx={{ maxWidth: 345 }}>\n                            {file.filename.match(/\\.(jpg|jpeg|png|gif|svg)$/i) ? (\n                              <div style={{ position: 'relative' }}>\n                                <img\n                                  src={file.fileimage ? file.fileimage : file.fileURL}\n                                  alt={file.filename}\n                                  className=\"card-img-top\"\n                                  style={{ maxHeight: \"150px\", objectFit: \"cover\" }}\n                                />\n                                <IconButton\n                                  aria-label=\"delete\"\n                                  disabled={disable}\n                                  onClick={() => handleDeleteSelectedFile(file.id)}\n                                  style={{ position: 'absolute', top: 0, right: 0, backgroundColor: 'rgba(255, 255, 255, 0.5)' }}\n                                >\n                                  <DeleteIcon style={{color:\"ff0000\"}}/>\n                                </IconButton>\n                              </div>\n                            ) : (\n                              <CardContent>\n                                <i className=\"far fa-file-alt\"></i>\n                              </CardContent>\n                            )}\n                          </Card>\n                        </div>\n                        \n                      ))\n                    ) : (\n                      <div className=\"col-12 text-center\">\n                        <p>No images selected</p>\n                      </div>\n                    )}\n                  </div>\n\n                  </div>\n\n                  \n                  <div className=\"kb-buttons-box\">\n                    <button\n                      type=\"button\"\n                      className=\"btn div-submit\"\n                      style={{ backgroundColor: isDarkModeOn ? '#892CDC' : 'black', color:'white'  }}\n                      onClick={handleUploadSubmit}\n                      disabled={disable}\n                    >\n                      Image Upload\n                    </button>\n                  </div>\n                </div>\n                {selectedFiles.length > 0 && (\n                  <div className=\"kb-attach-box\" hidden>\n                    <div className=\"row\">\n                    <hr />\n                    {selectedFiles.map((file) => (\n                      <div key={file.id} className=\"col-6 col-md-3 mb-3\">\n                      <div className=\"card\">\n                        {file.filename.match(/\\.(jpg|jpeg|png|gif|svg)$/i) ? (\n                          <img\n                            src={file.fileimage}\n                            alt={file.filename}\n                            className=\"card-img-top\"\n                            style={{ maxHeight: \"150px\", objectFit: \"cover\" }}\n                          />\n                        ) : (\n                          <div className=\"card-body\">\n                            <i className=\"far fa-file-alt\"></i>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                    ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n              { progressDelete >= 0 && (\n                    <div>\n                        <p style={{ color: isDarkModeOn ? '#fff' : '#000' }}>\n                            Deleting images... {progressDelete.toFixed(2)}%\n                        </p>\n                        <progress \n                            value={progressDelete} \n                            max=\"100\" \n                            style={{\n                                color: isDarkModeOn ? '#fff' : '#000'\n                            }}\n                        >\n                            {progressDelete.toFixed(2)}%\n                        </progress>\n                    </div>\n                )}\n\n                { progressUpdate >= 0 && (\n                    <div>\n                        <p style={{ color: isDarkModeOn ? '#fff' : '#000' }}>\n                            Uploading images... {progressUpdate.toFixed(2)}%\n                        </p>\n                        <progress \n                            value={progressUpdate} \n                            max=\"100\" \n                            style={{\n                                color: isDarkModeOn ? '#fff' : '#000'\n                            }}\n                        >\n                            {progressUpdate.toFixed(2)}%\n                        </progress>\n                    </div>\n                )}\n\n                            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\n// Set default prop values\nImageUpload.defaultProps = {\n  maxImageCount: 5, // Default maximum image count\n  updateMode: false,\n  disable:false,\n};\n\nexport default ImageUpload;","import React, { useEffect, useState } from \"react\";\nimport AspectRatio from \"@mui/joy/AspectRatio\";\nimport Card from \"@mui/joy/Card\";\nimport CardContent from \"@mui/joy/CardContent\";\nimport Chip from \"@mui/joy/Chip\";\nimport Typography from \"@mui/joy/Typography\";\nimport {\n  Box,\n  Grid,\n  Modal,\n  Stack,\n  Typography as MUITypography,\n  Button,\n  IconButton,\n} from \"@mui/material\";\nimport { useSelector } from \"react-redux\";\nimport { COLLECTIONS, STORAGES } from \"../constants\";\nimport { readDocumentWithImageUrl } from \"../utils/firebaseUtils\";\nimport { selectDarkModeStatus } from \"../redux/selectors/darkModeSelector\";\nimport dayjs from \"dayjs\";\nimport { db } from \"../config\";\nimport { addDoc, collection, doc, getDoc, updateDoc } from \"firebase/firestore\";\nimport { useSnackbar } from \"../context/SnackbarContext\";\nimport whatsAppImage from '../assets/images/whatsapp.png';\nimport callImage from '../assets/images/india_11009487.png';\nimport ShareButton from \"./ShareButton\";\n\nfunction WorkshopDetailsModal({\n  open,\n  handleClose,\n  dataItem,\n  activateOpenClass,\n  deactivateOpenClass,\n  actionsAllowed,\n}) {\n  const showSnackbar = useSnackbar();\n  const isDarkModeOn = useSelector(selectDarkModeStatus);\n  const [isBooking, setIsBooking] = useState(false);\n  const [userDetails, setUserDetails] = useState(null);\n\n  const currentUser = JSON.parse(localStorage.getItem(\"userInfo\"))?.UserId;\n\n  const isCreatorOfWorkshop = dataItem.UserId === currentUser;\n\n  const handleBook = async () => {\n    try {\n      setIsBooking(true);\n\n      addDoc(collection(db, COLLECTIONS.BOOKINGS), {\n        StudioId: dataItem.StudioId,\n        OpenClassId: dataItem.id,\n        UserId: currentUser,\n        bookingDate: Date.now(),\n      });\n\n      const userRef = doc(db, \"User\", currentUser);\n      const userSnap = await getDoc(userRef);\n\n      if (userSnap.exists()) {\n        if (userSnap.data() != null) {\n          await updateDoc(userRef, {\n            BookedOpenClasses: [\n              ...(userSnap.data().BookedOpenClasses || []),\n              dataItem.id,\n            ],\n          });\n        }\n      }\n\n      setUserDetails(prev => ({ ...prev, BookedOpenClasses: [...(prev?.BookedOpenClasses || []), dataItem.id] }));\n\n      showSnackbar(\"Open class booked\", \"success\");\n    } catch (error) {\n      console.error(error);\n      showSnackbar(error?.message || \"Something went wrong\", \"error\");\n    } finally {\n      setIsBooking(false);\n    }\n  };\n\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        const userRef = doc(db, \"User\", currentUser);\n        const userSnap = await getDoc(userRef);\n        if (userSnap.exists()) setUserDetails(userSnap.data());\n      } catch (error) {\n        console.log(\" error\");\n      }\n    };\n\n    getUser();\n  }, []);\n\n  const whatsappMessage = encodeURIComponent(\"Hey, I found your Studio on nritya.co.in. I'm interested\");\n\n  const isBooked = userDetails?.BookedOpenClasses?.includes?.(dataItem?.id);\n\n  const shareUrl = `${window.location.host}/nritya-webApp#/openClass/${dataItem.id}`;\n\n  return (\n    <Modal\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"modal-modal-title\"\n      aria-describedby=\"modal-modal-description\"\n      style={{zIndex:40}}\n    >\n      <Box\n        sx={{\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, -50%)\",\n          maxHeight: \"90%\",\n          overflow: \"auto\",\n          width: { xs: \"90%\", md: \"60%\" },\n          bgcolor: isDarkModeOn ? \"black\" : \"background.paper\",\n          borderWidth: \"2px\",\n          borderStyle: \"solid\",\n          borderColor: isDarkModeOn ? \"white\" : \"black\",\n          boxShadow: 24,\n          p: \"1rem\",\n          borderRadius: \"8px\",\n        }}\n      >\n        <Grid container spacing=\"8px\" rowGap={3}>\n          <Grid item xs={12} lg={8} sx={{ minHeight: '300px' }}>\n            <img\n              src={dataItem.imageUrl}\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                objectFit: \"contain\",\n                borderRadius: \"8px\",\n              }}\n            />\n          </Grid>\n          <Grid item xs={12} lg={4}>\n            <Box\n              sx={{\n                height: \"100%\",\n                bgcolor: isDarkModeOn ? \"#333333\" : \"#efefef\",\n                p: 2,\n                borderRadius: \"8px\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"space-between\",\n              }}\n            >\n              <Box sx={{ flex: 1 }}>\n                <MUITypography\n                  variant=\"h6\"\n                  component=\"p\"\n                  sx={{ color: isDarkModeOn ? \"white\" : \"black\" }}\n                >\n                  {dayjs(dataItem.date).format(\"LL\")}\n                </MUITypography>\n\n                <MUITypography\n                  variant=\"h6\"\n                  component=\"p\"\n                  sx={{ color: isDarkModeOn ? \"white\" : \"black\" }}\n                >\n                  {dataItem.time}\n                </MUITypography>\n\n                <MUITypography\n                  variant=\"body1\"\n                  component=\"p\"\n                  sx={{ mt: \"2rem\", color: isDarkModeOn ? \"white\" : \"black\" }}\n                >\n                  {dataItem.venue}\n                </MUITypography>\n              </Box>\n\n              <Box sx={{ mt: \"2rem\", textAlign: 'right' }}>\n                {!actionsAllowed && !isCreatorOfWorkshop && currentUser && <Button\n                  variant=\"outlined\"\n                  onClick={handleBook}\n                  disabled={isBooked || isBooking}\n                  sx={{\n                    boxShadow: \"none\",\n                    textTransform: \"none\",\n                    fontSize: 16,\n                    padding: \"6px 12px\",\n                    border: \"1px solid\",\n                    lineHeight: 1.5,\n                    backgroundColor: \"transparent\",\n                    borderColor: isDarkModeOn ? \"white\" : \"black\",\n                    color: isDarkModeOn ? \"white\" : \"black\",\n                    \"&:hover\": {\n                      backgroundColor: \"transparent\",\n                      borderColor: isDarkModeOn ? \"white\" : \"black\",\n                      boxShadow: \"none\",\n                    },\n                    \"&:active\": {\n                      boxShadow: \"none\",\n                      backgroundColor: \"transparent\",\n                      borderColor: isDarkModeOn ? \"white\" : \"black\",\n                    },\n                    \"&:focus\": {\n                      boxShadow: \"none\",\n                    },\n                  }}\n                >\n                  {isBooked ? \"Booked\" : \"Book Now\"}\n                </Button>}\n              </Box>\n            </Box>\n            {!actionsAllowed && !isCreatorOfWorkshop && currentUser && <MUITypography component={'p'} variant=\"caption\" sx={{ my: '2px', color: isDarkModeOn ? \"white\" : \"black\", textAlign: 'center' }}>\n              Book your spot\n            </MUITypography>}\n          </Grid>\n          <Grid item sx={{ mt: 1, }}>\n            <Box sx={{ display: 'flex', columnGap: 2 }}>\n              <MUITypography\n                variant=\"h5\"\n                component=\"p\"\n                sx={{ color: isDarkModeOn ? \"white\" : \"black\" }}\n              >\n                {dataItem.openClassName || \"\"}\n                {dataItem.danceStyles.map((dance) => ` | ${dance}`)}\n              </MUITypography>\n              <ShareButton shareUrl={shareUrl} />\n            </Box>\n            <MUITypography\n              variant=\"body1\"\n              component=\"p\"\n              sx={{ mt: 1, color: isDarkModeOn ? \"white\" : \"black\" }}\n            >\n              <span>By {dataItem.studioDetails?.studioName || \"\"}</span>\n              {dataItem.studioDetails && dataItem.studioDetails?.whatsappNumber && (\n                <IconButton color=\"success\" size=\"small\" target=\"_blank\" href={`https://wa.me/91${dataItem.studioDetails.whatsappNumber}?text=${whatsappMessage}`}>\n                  <img src={whatsAppImage} alt=\"Whatsapp call\" style={{ width: 30, height: 28 }} />\n                </IconButton>\n              )}\n              {dataItem.studioDetails && dataItem.studioDetails?.mobileNumber && (\n                <IconButton color=\"primary\" size=\"small\" target=\"_blank\" href={`tel:${dataItem.studioDetails.mobileNumber}`}>\n                  <img src={callImage} alt=\"Phone call\" style={{ width: 30, height: 28 }} />\n                </IconButton>\n              )}\n            </MUITypography>\n            {/* <MUITypography\n              variant=\"body1\"\n              component=\"p\"\n              sx={{ mt: 2, color: isDarkModeOn ? \"white\" : \"black\" }}\n            >\n              {dataItem.description || \"\"}\n            </MUITypography> */}\n            <div style={{ color: isDarkModeOn ? 'white ' : 'black' }} className=\"description-box\" dangerouslySetInnerHTML={{ __html: dataItem.description || \"Open Class Description\" }}></div>\n          </Grid>\n        </Grid>\n\n        <Box sx={{ mt: \"1rem\", textAlign: \"right\" }}>\n          {actionsAllowed && isCreatorOfWorkshop && (\n            <Button\n              onClick={() =>\n                dataItem?.active\n                  ? deactivateOpenClass(dataItem?.id)\n                  : activateOpenClass(dataItem?.id)\n              }\n              variant=\"outlined\"\n              sx={{\n                mr: \"1rem\",\n                color: \"white\",\n                boxShadow: \"none\",\n                border: \"1px solid\",\n                backgroundColor: dataItem?.active ? \"red\" : \"green\",\n                borderColor: \"white\",\n                color: \"white\",\n                \"&:hover\": {\n                  backgroundColor: dataItem?.active ? \"red\" : \"green\",\n                  borderColor: \"white\",\n                  boxShadow: \"none\",\n                },\n                \"&:active\": {\n                  boxShadow: \"none\",\n                  backgroundColor: dataItem?.active ? \"red\" : \"green\",\n                  borderColor: \"white\",\n                },\n                \"&:focus\": {\n                  boxShadow: \"none\",\n                },\n              }}\n            >\n              {dataItem?.active ? \"Deactivate\" : \"Activate\"}\n            </Button>\n          )}\n\n          <Button\n            onClick={handleClose}\n            variant=\"outlined\"\n            sx={{\n              color: \"white\",\n              boxShadow: \"none\",\n              border: \"1px solid\",\n              backgroundColor: \"transparent\",\n              borderColor: isDarkModeOn ? \"white\" : \"black\",\n              color: isDarkModeOn ? \"white\" : \"black\",\n              \"&:hover\": {\n                backgroundColor: \"transparent\",\n                borderColor: isDarkModeOn ? \"white\" : \"black\",\n                boxShadow: \"none\",\n              },\n              \"&:active\": {\n                boxShadow: \"none\",\n                backgroundColor: \"transparent\",\n                borderColor: isDarkModeOn ? \"white\" : \"black\",\n              },\n              \"&:focus\": {\n                boxShadow: \"none\",\n              },\n            }}\n          >\n            Close\n          </Button>\n        </Box>\n      </Box>\n    </Modal>\n  );\n}\n\nexport default function OpenClassCard({\n  dataItem,\n  activateOpenClass,\n  deactivateOpenClass,\n  actionsAllowed,\n}) {\n  const isDarkModeOn = useSelector(selectDarkModeStatus);\n  const [imageUrl, setImageUrl] = useState(null);\n  const [isWorkshopDetailsModalOpen, setIsWorkshopDetailsModalOpen] =\n    useState(false);\n  const workshopId = dataItem.id;\n\n  const handleWorkshopDetailsModalOpen = () =>\n    setIsWorkshopDetailsModalOpen(true);\n\n  const handleWorkshopDetailsModalClose = () =>\n    setIsWorkshopDetailsModalOpen(false);\n\n  useEffect(() => {\n    const fetchImageUrl = async () => {\n      try {\n        const url = await readDocumentWithImageUrl(\n          STORAGES.OPENCLASSICON,\n          workshopId\n        );\n\n        setImageUrl(\n          url ||\n          \"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg\"\n        );\n      } catch (error) {\n        console.error(\"Error fetching image URL:\", error);\n      }\n    };\n\n    fetchImageUrl();\n  }, [dataItem.id]);\n\n  const cardStyle = {\n    backgroundColor: isDarkModeOn ? \"#444\" : \"white\",\n    padding: \"0px\",\n    color: isDarkModeOn ? \"white\" : \"black\",\n    marginRight: \"10px\",\n    width: 320,\n    maxWidth: \"100%\",\n    boxShadow: \"lg\",\n    transition: \"opacity 0.3s ease\",\n  };\n\n  const cardHoverStyle = {\n    transform: \"scale(1.01)\",\n    cursor: \"pointer\",\n  };\n\n  return (\n    <>\n      <Card\n        variant=\"solid\"\n        sx={{\n          ...cardStyle,\n          \"&:hover\": cardHoverStyle,\n          flex: \"none\",\n        }}\n        onClick={handleWorkshopDetailsModalOpen}\n      >\n        <AspectRatio ratio=\"1.78\" style={{ position: \"relative\" }}>\n          <img\n            src={imageUrl}\n            loading=\"lazy\"\n            alt=\"Studio Image\"\n            style={{ maxWidth: \"100%\", objectFit: \"cover\", overflow: \"hidden\" }}\n          />\n          <Stack\n            direction=\"row\"\n            spacing={2}\n            style={{ position: \"absolute\", bottom: 0, left: 0, padding: \"1px\" }}\n          >\n            {dataItem && dataItem.danceStyles ? (\n              dataItem.danceStyles.slice(0, 3).map((form, index) => (\n                <Chip\n                  key={index}\n                  color={index % 2 === 0 ? \"danger\" : \"success\"}\n                  style={{\n                    marginLeft: \"10px\",\n                    marginBottom: \"10px\",\n                    fontSize: \"0.8rem\",\n                  }}\n                >\n                  {form.trim()}\n                </Chip>\n              ))\n            ) : (\n              <Chip\n                key={10}\n                color={10 % 2 === 0 ? \"danger\" : \"success\"}\n                style={{ marginBottom: \"10px\", fontSize: \"0.8rem\" }}\n              >\n                {\"No danceforms\"}\n              </Chip>\n            )}\n          </Stack>\n        </AspectRatio>\n        <CardContent style={{ padding: \"10px\", paddingTop: \"5px\" }}>\n          <Box\n            fontWeight=\"md\"\n            color=\"neutral\"\n            textColor=\"text.primary\"\n            underline=\"none\"\n            overlay\n            style={{\n              color: isDarkModeOn ? \"white\" : \"black\",\n              extDecoder: \"one\",\n            }}\n          >\n            <span>\n              {dataItem && dataItem.openClassName ? dataItem.openClassName : \"\"}\n            </span>\n            {!dataItem?.active && (\n              <span\n                style={{\n                  marginLeft: \"2px\",\n                  padding: \"2px 4px\",\n                  fontSize: \"14px\",\n                  borderRadius: \"4px\",\n                  background: \"red\",\n                }}\n              >\n                Inactive\n              </span>\n            )}\n          </Box>\n          <Typography\n            style={{ color: isDarkModeOn ? \"white\" : \"black\" }}\n            level=\"body-xs\"\n            noWrap\n          >\n            By {dataItem.studioDetails?.studioName ? dataItem.studioDetails.studioName : \"\"}\n          </Typography>\n          <Typography\n            style={{ marginTop: 10, color: isDarkModeOn ? \"white\" : \"black\" }}\n            level=\"body-xs\"\n            noWrap\n          >\n            {dataItem.venue ? dataItem.venue : \"\"}\n          </Typography>\n          <Typography\n            style={{ color: isDarkModeOn ? \"white\" : \"black\" }}\n            level=\"body-xs\"\n          >\n            {dataItem.date || \"\"} | {dataItem.time || \"\"}\n          </Typography>\n        </CardContent>\n      </Card>\n\n      <WorkshopDetailsModal\n        dataItem={{ ...dataItem, imageUrl }}\n        open={isWorkshopDetailsModalOpen}\n        handleClose={handleWorkshopDetailsModalClose}\n        activateOpenClass={activateOpenClass}\n        deactivateOpenClass={deactivateOpenClass}\n        actionsAllowed={actionsAllowed}\n      />\n    </>\n  );\n}\n","import \"./WorkshopCardSlider.css\";\nimport React from \"react\";\nimport OpenClassCard from \"./OpenClassCard\";\n\nconst CardSlider = ({\n  dataList,\n  deleteOpenClass,\n  actionsAllowed,\n  activateOpenClass,\n  deactivateOpenClass,\n}) => {\n  return (\n    <div className={\"horizontal-scroll-wrapper\"}>\n      {dataList.map((dataItem, index) => (\n        <OpenClassCard\n          key={dataItem.id}\n          dataItem={dataItem}\n          activateOpenClass={activateOpenClass}\n          deactivateOpenClass={deactivateOpenClass}\n          actionsAllowed={actionsAllowed}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default CardSlider;\n","import React from \"react\";\nimport { Row, Col, Form } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport { selectDarkModeStatus } from \"../redux/selectors/darkModeSelector\";\n\nconst TimeRange = ({ defaultTime, handleSelect }) => {\n  const startTime_i = defaultTime.split(\"-\")[0].trim();\n  const endTime_i = defaultTime.split(\"-\")[1]?.trim();\n\n  const isDarkModeOn = useSelector(selectDarkModeStatus);\n\n  const generateTimeOptions = () => {\n    const options = [];\n    let option_AM = [];\n    let option_PM = [];\n    \n    for (let hours = 0; hours < 24; hours++) {\n        for (let minutes = 0; minutes < 60; minutes += 30) {\n            const formattedMinutes = minutes.toString().padStart(2, \"0\");\n            \n            if (hours < 12) {\n                // Handle 12-hour format for AM, converting 0 hours to 12 for midnight\n                const formattedHours = hours === 0 ? 12 : hours;\n                option_AM.push(`${formattedHours}:${formattedMinutes} AM`);\n            } else {\n                // Handle 12-hour format for PM, converting 12-23 hours to 1-12 format\n                const formattedHours = hours === 12 ? 12 : hours % 12;\n                option_PM.push(`${formattedHours}:${formattedMinutes} PM`);\n            }\n        }\n    }\n\n    // Interleave AM and PM options to build the full list\n    for (let i = 0; i < option_AM.length || i < option_PM.length; i++) {\n        if (i < option_AM.length) {\n            options.push(option_AM[i]);\n        }\n        if (i < option_PM.length) {\n            options.push(option_PM[i]);\n        }\n    }\n\n    return options;\n};\n\n  const renderTimeOptions = (defaultValue) => {\n    const timeOptions = generateTimeOptions();\n\n    return (\n      <>\n        <option value={defaultValue}>{defaultValue}</option>\n        {timeOptions.map((option) => (\n          <option key={option} value={option}>\n            {option}\n          </option>\n        ))}\n      </>\n    );\n  };\n\n  return (\n    <Row>\n      <Col>\n        <Form.Group>\n          <Form.Label>Start Time</Form.Label>\n          <Form.Control\n            as=\"select\"\n            onChange={(e) => handleSelect(e.target.value, null)}\n            style={{\n              background: \"transparent\",\n              borderWidth: 1,\n              borderColor: isDarkModeOn ? \"white\" : \"black\",\n              height: 'auto',\n            }}\n          >\n            {renderTimeOptions(startTime_i)}\n          </Form.Control>\n        </Form.Group>\n      </Col>\n      <Col>\n        <Form.Group>\n          <Form.Label>End Time</Form.Label>\n          <Form.Control\n            as=\"select\"\n            onChange={(e) => handleSelect(null, e.target.value)}\n            style={{\n              background: \"transparent\",\n              borderWidth: 1,\n              borderColor: isDarkModeOn ? \"white\" : \"black\",\n              height: 'auto',\n            }}\n          >\n            {renderTimeOptions(endTime_i)}\n          </Form.Control>\n        </Form.Group>\n      </Col>\n    </Row>\n  );\n};\n\nexport default TimeRange;\n","import React, { useEffect } from \"react\";\nimport { Row, Col, Form } from \"react-bootstrap\";\nimport { LinearProgress, Button as MuiButton } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { db } from \"../config\";\nimport {\n  doc,\n  getDoc,\n  addDoc,\n  updateDoc,\n  collection,\n  query,\n  where,\n  getDocs,\n  deleteDoc,\n} from \"firebase/firestore\";\nimport { COLLECTIONS, DRAFT_COLLECTIONS, LEVELS } from \"../constants\";\nimport ImageUpload from \"./ImageUpload\";\nimport { STORAGES } from \"../constants\";\nimport { useSelector } from \"react-redux\";\nimport { selectDarkModeStatus } from \"../redux/selectors/darkModeSelector\";\nimport danceStyles from \"../danceStyles.json\";\nimport { Autocomplete, TextField } from \"@mui/material\";\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport { DatePicker } from \"@mui/x-date-pickers/DatePicker\";\nimport { DemoContainer } from \"@mui/x-date-pickers/internals/demo\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\nimport dayjs from \"dayjs\";\nimport TimeRange from \"./TimeRange\";\nimport { useSnackbar } from \"../context/SnackbarContext\";\nimport cities from '../cities.json';\nimport { postData } from \"../utils/common\";\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { isEqual } from 'lodash';\n\nconst FILTER_LOCATION_KEY = \"filterLocation\";\nconst DRAFT_INTERVAL_TIME = 1000 * 10;\n\nfunction OpenClassAdd({ instructors, studioId, setOpenClass }) {\n  const showSnackbar = useSnackbar();\n  const [newOpenClassId, setNewOpenClassId] = useState(\"\");\n  const isDarkModeOn = useSelector(selectDarkModeStatus);\n  const [selectedInstructors, setSelectedInstructors] = useState([]);\n  const [selectedDanceStyles, setSelectedDanceStyles] = useState([]);\n\n  const instructorNamesWithIds = instructors.map(\n    (instructor) => `${instructor.name} - ${instructor.id}`\n  );\n\n  const danceStylesOptions = danceStyles.danceStyles;\n  const currentCity = localStorage.getItem(FILTER_LOCATION_KEY) || \"\";\n\n  const [isReady, setIsReady] = useState(false);\n  const [selectedDuration, setSelectedDuration] = useState(\"\");\n  const [selectedStudio, setSelectedStudio] = useState(null);\n  const [selectedLevel, setSelectedLevel] = useState(\"\");\n  const [openClassTime, setOpenClassTime] = useState(\"\");\n  const [openClassDate, setOpenClassDate] = useState(dayjs(new Date()));\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [step, setStep] = useState(1);\n  const [description, setDescription] = useState('');\n\n  const darkTheme = createTheme({\n    palette: {\n      mode: isDarkModeOn ? \"dark\" : \"light\",\n    },\n  });\n\n  const handleDanceStylesChange = (event, value) => {\n    setSelectedDanceStyles(value);\n  };\n\n  const handleDurationChange = (event, value) => {\n    setSelectedDuration(value);\n  };\n\n  const handleLevelChange = (event, value) => {\n    setSelectedLevel(value);\n  };\n\n  const handleSelectStudio = (event, value) => {\n    setSelectedStudio(value);\n  };\n\n  const handleInstructorChange = (event, value) => {\n    setSelectedInstructors(value);\n  };\n\n  const isValidInputs = (form) => {\n    let validationFailed = true;\n\n    if (\n      !form.openClassName.value ||\n      !form.capacity.value ||\n      !description ||\n      !selectedDanceStyles?.length ||\n      !selectedInstructors?.length ||\n      !selectedStudio ||\n      !selectedDuration ||\n      !selectedLevel ||\n      !openClassTime ||\n      !openClassDate\n    )\n      validationFailed = false;\n\n    return validationFailed;\n  };\n\n  const resetDraft = async () => {\n    const q = query(\n      collection(db, DRAFT_COLLECTIONS.DRAFT_OPEN_CLASSES),\n      where(\"UserId\", \"==\", JSON.parse(localStorage.getItem(\"userInfo\")).UserId)\n    );\n\n    const querySnapshot = await getDocs(q);\n\n    if (!querySnapshot.empty) {\n      let studios = [];\n\n      querySnapshot.forEach((doc) => {\n        studios.push({ id: doc.id, ...doc.data() });\n      });\n\n      let foundStudio = studios[0];\n\n      const studioRef = doc(\n        db,\n        DRAFT_COLLECTIONS.DRAFT_OPEN_CLASSES,\n        foundStudio.id\n      );\n\n      await deleteDoc(studioRef);\n    }\n  };\n\n  const handleAddOpenClass = async (event) => {\n    event.preventDefault();\n    const form = event.target;\n\n    if (!isValidInputs(form)) {\n      showSnackbar(\"Please fill all the fields.\", \"error\");\n      return;\n    }\n\n    try {\n      const currentUserEmail = JSON.parse(localStorage.getItem(\"userInfo\")).email;\n      const dbPayload = {\n        openClassName: event.target.openClassName.value,\n        danceStyles: selectedDanceStyles,\n        instructors: selectedInstructors\n          ? selectedInstructors?.map?.(\n              (instructor) => instructor?.split?.(\"-\")?.[1]?.trim?.() || null\n            )\n          : null,\n        author: JSON.parse(localStorage.getItem(\"userInfo\")).displayName,\n        UserId: JSON.parse(localStorage.getItem(\"userInfo\")).UserId,\n        creatorEmail: currentUserEmail,\n        StudioId: selectedStudio\n          ? selectedStudio?.split?.(\":\")?.[1]?.trim?.() || null\n          : null,\n        duration: selectedDuration,\n        level: selectedLevel,\n        time: openClassTime,\n        date: openClassDate.format(\"YYYY-MM-DD\"),\n        capacity: event.target.capacity.value,\n        description: description,\n        active: true,\n        youtubeViedoLink: event.target.youtubeViedoLink.value,\n      };\n\n      setIsSubmitting(true);\n\n      const notifyEmails = currentUserEmail;\n      const metaData = {\n        entity_name: dbPayload.openClassName,\n        time: dbPayload.time,\n        date: dbPayload.date,\n        StudioId : dbPayload.StudioId\n      } \n      const response = await postData(dbPayload, COLLECTIONS.OPEN_CLASSES, notifyEmails, metaData) ;\n      if (response.ok) {\n        const result = await response.json();\n        setNewOpenClassId(result.id);\n        setOpenClass((prev) => [...prev, { id: result.id, ...dbPayload }]);\n        clearForm(form);\n        resetDraft();\n        showSnackbar(\"Open class successfully added.\", \"success\");\n        setStep((prev) => prev + 1);\n      }\n\n    } catch (error) {\n      console.error(\"Error adding open class: \", error);\n      showSnackbar(error?.message || \"Something went wrong\", \"error\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const clearForm = (form) => {\n    form.reset();\n    setSelectedDanceStyles([]);\n    setSelectedInstructors([]);\n    setSelectedStudio(null);\n    setSelectedDuration(\"\");\n    setSelectedLevel(\"\");\n    setOpenClassTime(\"\");\n    setOpenClassDate(dayjs(new Date()));\n    setDescription('');\n  };\n\n  const handleTimeSelect = (startTime, endTime) => {\n    const [currentStartTime, currentEndTime] = openClassTime.split(\" - \");\n    let newTime = `${currentStartTime} - ${currentEndTime}`;\n\n    if (startTime !== null) newTime = `${startTime} - ${currentEndTime}`;\n    if (endTime !== null) newTime = `${currentStartTime} - ${endTime}`;\n\n    setOpenClassTime(newTime);\n  };\n\n  useEffect(() => {\n    async function main() {\n      const form = document.getElementById(\"addStudioForm\");\n\n      try {\n        const q = query(\n          collection(db, DRAFT_COLLECTIONS.DRAFT_OPEN_CLASSES),\n          where(\n            \"UserId\",\n            \"==\",\n            JSON.parse(localStorage.getItem(\"userInfo\")).UserId\n          )\n        );\n\n        const querySnapshot = await getDocs(q);\n\n        if (!querySnapshot.empty) {\n          let openClasses = [];\n\n          querySnapshot.forEach((doc) => {\n            openClasses.push({ id: doc.id, ...doc.data() });\n          });\n\n          let foundOpenClass = openClasses[0];\n\n          form.openClassName.value = foundOpenClass?.openClassName || \"\";\n          form.capacity.value = foundOpenClass?.capacity || 0;\n          setDescription(foundOpenClass?.description || \"\");\n\n          setSelectedDanceStyles(\n            foundOpenClass?.danceStyles?.length\n              ? foundOpenClass.danceStyles\n              : []\n          );\n\n          setSelectedInstructors(\n            instructors\n              .filter((instructor) =>\n                foundOpenClass?.instructors.includes(instructor.id)\n              )\n              .map((instructor) => `${instructor.name} - ${instructor.id}`)\n          );\n\n          const studios = studioId.map((studio) => studio.split(\":\")[1].trim());\n          const currentStudioIndex = studios.findIndex(\n            (studio) => studio === foundOpenClass?.StudioId\n          );\n          if (currentStudioIndex > 0)\n            setSelectedStudio(studioId[currentStudioIndex]);\n\n          setSelectedDuration(foundOpenClass?.duration || \"\");\n\n          setSelectedLevel(foundOpenClass?.level || \"\");\n\n          setOpenClassTime(foundOpenClass?.time || \"\");\n\n          setOpenClassDate(dayjs(foundOpenClass?.date || Date.now()));\n        } else {\n          await addDoc(collection(db, DRAFT_COLLECTIONS.DRAFT_OPEN_CLASSES), {\n            openClassName: form.openClassName?.value || \"\",\n            capacity : form.capacity?.value || 0,\n            description: description ,\n            danceStyles: selectedDanceStyles,\n            instructors: selectedInstructors\n              ? selectedInstructors?.map?.(\n                  (instructor) =>\n                    instructor?.split?.(\"-\")?.[1]?.trim?.() || null\n                )\n              : null,\n            author: JSON.parse(localStorage.getItem(\"userInfo\")).displayName,\n            UserId: JSON.parse(localStorage.getItem(\"userInfo\")).UserId,\n            creatorEmail: JSON.parse(localStorage.getItem(\"userInfo\")).email,\n            StudioId: selectedStudio\n              ? selectedStudio?.split?.(\":\")?.[1]?.trim?.() || null\n              : null,\n            duration: selectedDuration,\n            level: selectedLevel,\n            time: openClassTime,\n            date: openClassDate.format(\"YYYY-MM-DD\"),\n          });\n        }\n\n        setIsReady(true);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    main();\n  }, []);\n\n  useEffect(() => {\n    let intervalId = null;\n    let previousState = null;\n    async function main() {\n      const form = document.getElementById(\"addStudioForm\");\n\n      try {\n        const q = query(\n          collection(db, DRAFT_COLLECTIONS.DRAFT_OPEN_CLASSES),\n          where(\n            \"UserId\",\n            \"==\",\n            JSON.parse(localStorage.getItem(\"userInfo\")).UserId\n          )\n        );\n\n        const querySnapshot = await getDocs(q);\n\n        if (!querySnapshot.empty) {\n          let openClasses = [];\n\n          querySnapshot.forEach((doc) => {\n            openClasses.push({ id: doc.id, ...doc.data() });\n          });\n\n          let foundOpenClasses = openClasses[0];\n\n          const openClassRef = doc(\n            db,\n            DRAFT_COLLECTIONS.DRAFT_OPEN_CLASSES,\n            foundOpenClasses.id\n          );\n\n          intervalId = setInterval(async () => {\n            try {\n              const currentState ={\n                openClassName: form.openClassName?.value || \"\",\n                capacity: form.capacity?.value || 0,\n                description: description ,\n                danceStyles: selectedDanceStyles,\n                instructors: selectedInstructors\n                  ? selectedInstructors?.map?.(\n                      (instructor) =>\n                        instructor?.split?.(\"-\")?.[1]?.trim?.() || null\n                    )\n                  : null,\n                StudioId: selectedStudio\n                  ? selectedStudio?.split?.(\":\")?.[1]?.trim?.() || null\n                  : null,\n                duration: selectedDuration,\n                level: selectedLevel,\n                time: openClassTime,\n                date: openClassDate.format(\"YYYY-MM-DD\"),\n              }\n\n              // Check if the current state is different from the previous state\n              if (!isEqual(previousState, currentState)) {\n                try {\n                  await updateDoc(openClassRef, currentState);\n                  previousState = currentState; // Update previous state after successful save\n                  console.log(\"Next AutoSave in\",DRAFT_INTERVAL_TIME)\n                } catch (error) {\n                  console.error(error);\n                }\n              }else{\n                  console.log(\"Nothing for Autosave to save\")\n              }\n            } catch (error) {\n              console.error(error);\n            }\n          }, DRAFT_INTERVAL_TIME);\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    if (isReady) main();\n\n    return () => clearInterval(intervalId);\n  }, [\n    isReady,\n    selectedDanceStyles,\n    selectedInstructors,\n    selectedStudio,\n    selectedDuration,\n    selectedLevel,\n    openClassTime,\n    openClassDate,\n    description\n  ]);\n\n  useEffect(() => {\n    if (isDarkModeOn) {\n      const toolbarEle = document.getElementsByClassName(\"ql-toolbar ql-snow\")[0]\n      toolbarEle.style.backgroundColor = \"white\";\n\n      const inputEle = document.getElementsByClassName(\"ql-container ql-snow\")[0];\n      inputEle.style.backgroundColor = \"white\";\n\n      const editEle = document.getElementsByClassName(\"ql-editor \")[0];\n      console.log(editEle);\n      inputEle.style.color = \"black\";      \n    }\n  }, [isDarkModeOn]);\n\n  return (\n    <div>\n      {step === 1 && (\n        <Form\n          id=\"addStudioForm\"\n          onSubmit={handleAddOpenClass}\n          style={{\n            backgroundColor: isDarkModeOn ? \"#202020\" : \"\",\n            color: isDarkModeOn ? \"white\" : \"black\",\n          }}\n        >\n          <Form.Group controlId=\"formBasicAdd\">\n            <div>\n              <Row>\n                <Col md={6}>\n                  <Form.Label>Open Class Name</Form.Label>\n                  <Form.Control\n                    rows={1}\n                    style={{\n                      backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                      color: isDarkModeOn ? \"white\" : \"black\",\n                    }}\n                    type=\"textarea\"\n                    placeholder=\"Enter open class name\"\n                    name=\"openClassName\"\n                  />\n                </Col>\n                <Col md={6}>\n                  <Form.Label>Dance Styles</Form.Label>\n                  <ThemeProvider theme={darkTheme}>\n                    <CssBaseline />\n                    <Autocomplete\n                      style={{\n                        backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                        color: isDarkModeOn ? \"white\" : \"black\",\n                      }}\n                      multiple\n                      id=\"tags-standard\"\n                      options={danceStylesOptions}\n                      value={selectedDanceStyles}\n                      onChange={handleDanceStylesChange}\n                      renderInput={(params) => (\n                        <TextField\n                          {...params}\n                          variant=\"standard\"\n                          placeholder=\"Select Dance Styles\"\n                          style={{\n                            backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                            color: isDarkModeOn ? \"white\" : \"black\",\n                          }}\n                        />\n                      )}\n                    />\n                  </ThemeProvider>\n                </Col>\n              </Row>\n\n              <br />\n\n              <Row>\n                <Col md={6}>\n                  <Form.Label>Names of Instructors</Form.Label>\n                  <ThemeProvider theme={darkTheme}>\n                    <CssBaseline />\n                    <Autocomplete\n                      style={{\n                        backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                        color: isDarkModeOn ? \"white\" : \"black\",\n                      }}\n                      multiple\n                      id=\"tags-standard\"\n                      options={instructorNamesWithIds}\n                      value={selectedInstructors}\n                      onChange={handleInstructorChange}\n                      renderInput={(params) => (\n                        <TextField\n                          {...params}\n                          variant=\"standard\"\n                          placeholder=\"Select Instructors\"\n                          style={{\n                            backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                            color: isDarkModeOn ? \"white\" : \"black\",\n                          }}\n                        />\n                      )}\n                    />\n                  </ThemeProvider>\n                </Col>\n                <Col md={6}>\n                  <Form.Label>Duration (in hours)</Form.Label>\n                  <ThemeProvider theme={darkTheme}>\n                    <CssBaseline />\n\n                    <Autocomplete\n                      style={{\n                        backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                        color: isDarkModeOn ? \"white\" : \"black\",\n                      }}\n                      id=\"tags-standard\"\n                      options={[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]}\n                      value={selectedDuration}\n                      onChange={handleDurationChange}\n                      renderInput={(params) => (\n                        <TextField\n                          {...params}\n                          variant=\"standard\"\n                          placeholder=\"Select Duration\"\n                          style={{\n                            backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                            color: isDarkModeOn ? \"white\" : \"black\",\n                          }}\n                        />\n                      )}\n                    />\n                  </ThemeProvider>\n                </Col>\n              </Row>\n\n              <br />\n\n              <Row>\n                <Col md={6}>\n                  <TimeRange\n                    defaultTime={openClassTime || \"12:00 PM - 01:00 PM\"}\n                    handleSelect={handleTimeSelect}\n                  />\n                </Col>\n                <Col md={6}>\n                  <Form.Label>Date</Form.Label>\n                  <LocalizationProvider dateAdapter={AdapterDayjs}>\n                    <DemoContainer components={[\"DatePicker\"]}>\n                      <ThemeProvider theme={darkTheme}>\n                        <CssBaseline />\n                        <DatePicker\n                          sx={{ width: \"100%\" }}\n                          value={openClassDate}\n                          onChange={(newValue) => setOpenClassDate(newValue)}\n                        />\n                      </ThemeProvider>\n                    </DemoContainer>\n                  </LocalizationProvider>\n                </Col>\n              </Row>\n\n              <br />\n\n              <Row>\n                <Col md={6}>\n                  <Form.Label>Level</Form.Label>\n                  <ThemeProvider theme={darkTheme}>\n                    <CssBaseline />\n\n                    <Autocomplete\n                      style={{\n                        backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                        color: isDarkModeOn ? \"white\" : \"black\",\n                      }}\n                      id=\"tags-standard\"\n                      options={[LEVELS.ALL, LEVELS.BEGINNERS, LEVELS.INTERMEDIATE, LEVELS.ADVANCED]}\n                      value={selectedLevel}\n                      onChange={handleLevelChange}\n                      renderInput={(params) => (\n                        <TextField\n                          {...params}\n                          variant=\"standard\"\n                          placeholder=\"Select Level\"\n                          style={{\n                            backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                            color: isDarkModeOn ? \"white\" : \"black\",\n                          }}\n                        />\n                      )}\n                    />\n                  </ThemeProvider>\n                </Col>\n                <Col md={6}>\n                  <Form.Label>Maximum capacity</Form.Label>\n                  <Form.Control\n                    rows={1}\n                    style={{\n                      backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                      color: isDarkModeOn ? \"white\" : \"black\",\n                    }}\n                    type=\"number\"\n                    placeholder=\"Enter capacity\"\n                    name=\"capacity\"\n                  />\n                </Col>\n              </Row>\n\n              <br />\n\n              <Row>\n                <Col md={6}>\n                  <Form.Label>Studio</Form.Label>\n                  <ThemeProvider theme={darkTheme}>\n                    <CssBaseline />\n\n                    <Autocomplete\n                      style={{\n                        backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                        color: isDarkModeOn ? \"white\" : \"black\",\n                      }}\n                      id=\"tags-standard\"\n                      options={studioId}\n                      value={selectedStudio}\n                      onChange={handleSelectStudio}\n                      renderInput={(params) => (\n                        <TextField\n                          {...params}\n                          variant=\"standard\"\n                          placeholder=\"Select Studio\"\n                          style={{\n                            backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                            color: isDarkModeOn ? \"white\" : \"black\",\n                          }}\n                        />\n                      )}\n                    />\n                  </ThemeProvider>\n                </Col>\n                <Col md={6}>\n                <Form.Label>Youtube video link</Form.Label>\n                  <Form.Control\n                    rows={1}\n                    style={{\n                      backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                      color: isDarkModeOn ? \"white\" : \"black\",\n                    }}\n                    type=\"text\"\n                    placeholder=\"Enter youtube video link\"\n                    name=\"youtubeViedoLink\"\n                  />\n                </Col>\n              </Row>\n\n              <br />\n\n              <Row>\n                <Col md={6}>\n                  <Form.Label>Brief Description</Form.Label>\n                  <ReactQuill\n                    theme=\"snow\"\n                    placeholder=\"Enter Description\"\n                    value={description}\n                    onChange={setDescription}\n                  />\n                </Col>\n              </Row>\n\n              <hr></hr>\n\n              <Row>\n                <Col xs={6}></Col>\n                <Col xs={6} className=\"d-flex justify-content-end\">\n                  <MuiButton\n                    variant=\"contained\"\n                    style={{\n                      color: \"white\",\n                      backgroundColor: isDarkModeOn ? \"#892cdc\" : \"black\",\n                    }}\n                    type=\"submit\"\n                    disabled={isSubmitting}\n                  >\n                    Next\n                  </MuiButton>\n                </Col>\n              </Row>\n            </div>\n          </Form.Group>\n        </Form>\n      )}\n      {isSubmitting && <LinearProgress />}\n      {step === 2 && (\n        <>\n          <Row>\n            <Col>\n              <ImageUpload\n                entityId={newOpenClassId}\n                title={\"Open Class Images\"}\n                storageFolder={STORAGES.OPENCLASSICON}\n                maxImageCount={1}\n              ></ImageUpload>\n            </Col>\n          </Row>\n          <Row style={{ margin: \"1rem 0\" }}>\n            <Col style={{ textAlign: \"right\" }}>\n              <MuiButton\n                variant=\"contained\"\n                style={{\n                  color: \"white\",\n                  backgroundColor: isDarkModeOn ? \"#892cdc\" : \"black\",\n                }}\n                onClick={() => setStep((prev) => prev - 1)}\n              >\n                Done\n              </MuiButton>\n            </Col>\n          </Row>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default OpenClassAdd;\n","import React, { useState, useEffect } from \"react\";\nimport { Row, Col, Form } from \"react-bootstrap\";\nimport { LinearProgress, Button as MuiButton } from \"@mui/material\";\nimport { db } from \"../config\";\nimport { doc, getDoc, updateDoc } from \"firebase/firestore\";\nimport { COLLECTIONS, LEVELS } from \"../constants\";\nimport ImageUpload from \"./ImageUpload\";\nimport { STORAGES } from \"../constants\";\nimport { useSelector } from \"react-redux\";\nimport { selectDarkModeStatus } from \"../redux/selectors/darkModeSelector\";\nimport danceStyles from \"../danceStyles.json\";\nimport { Autocomplete, TextField } from \"@mui/material\";\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport { DatePicker } from \"@mui/x-date-pickers/DatePicker\";\nimport { DemoContainer } from \"@mui/x-date-pickers/internals/demo\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\nimport dayjs from \"dayjs\";\nimport TimeRange from \"./TimeRange\";\nimport { useSnackbar } from \"../context/SnackbarContext\";\nimport cities from '../cities.json';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { putData } from \"../utils/common\";\n\nconst FILTER_LOCATION_KEY = \"filterLocation\";\n\nfunction OpenClassUpdate({ openClassId, instructors, studioId }) {\n  const currentCity = localStorage.getItem(FILTER_LOCATION_KEY) || \"\";\n\n  const showSnackbar = useSnackbar();\n\n  const [selectedStudio, setSelectedStudio] = useState(null);\n  const [selectedInstructors, setSelectedInstructors] = useState([]);\n\n  const danceStylesOptions = danceStyles.danceStyles;\n  const [selectedDanceStyles, setSelectedDanceStyles] = useState([]);\n  const isDarkModeOn = useSelector(selectDarkModeStatus);\n\n  const [selectedDuration, setSelectedDuration] = useState(\"\");\n  const [selectedLevel, setSelectedLevel] = useState(\"\");\n  const [openClassTime, setOpenClassTime] = useState(\"\");\n  const [openClassDate, setOpenClassDate] = useState(dayjs(new Date()));\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [description, setDescription] = useState('');\n\n  const instructorNamesWithIds = instructors.map(\n    (instructor) => `${instructor.name} - ${instructor.id}`\n  );\n\n  const darkTheme = createTheme({\n    palette: {\n      mode: isDarkModeOn ? \"dark\" : \"light\",\n    },\n  });\n\n  const handleDanceStylesChange = (event, value) => {\n    setSelectedDanceStyles(value);\n  };\n\n  const [selectedOpenClassId, setSelectedOpenClassId] = useState(\"\");\n  const [selectedOpenClass, setSelectedOpenClass] = useState(null);\n\n  const handleSelectStudio = async (event) => {\n    event.preventDefault();\n    const selected = event.target.value;\n    const selectedId = selected.split(\":\").pop().trim();\n    setSelectedOpenClassId(selectedId);\n    try {\n      const studioDoc = await getDoc(\n        doc(db, COLLECTIONS.OPEN_CLASSES, selectedId)\n      );\n      if (studioDoc.exists) {\n        setSelectedOpenClass(studioDoc.data());\n      } else {\n        setSelectedOpenClass(null);\n      }\n    } catch (error) {\n      console.error(\"Error fetching Open Class data:\", error, selectedId);\n    }\n  };\n\n  const isValidInputs = (form) => {\n    let validationFailed = true;\n    if (\n      !form.openClassName.value ||\n      !form.capacity.value ||\n      !description ||\n      !selectedDanceStyles?.length ||\n      !selectedInstructors?.length ||\n      !selectedStudio ||\n      !selectedDuration ||\n      !selectedLevel ||\n      !openClassTime ||\n      !openClassDate\n    )\n      validationFailed = false;\n\n    return validationFailed;\n  };\n\n  const handleUpdateStudio = async (event) => {\n    event.preventDefault();\n    const form = event.target;\n\n    if (!selectedOpenClassId) return;\n\n    if (!isValidInputs(form)) {\n      showSnackbar(\"Please fill all the fields.\", \"error\");\n      return;\n    }\n\n    try {\n      const dbPayload = {\n        openClassName: form.openClassName.value,\n        capacity: form.capacity.value,\n        description: description,\n        danceStyles: selectedDanceStyles,\n        instructors: selectedInstructors\n          ? selectedInstructors?.map?.(\n              (instructor) => instructor?.split?.(\"-\")?.[1]?.trim?.() || null\n            )\n          : null,\n        author: JSON.parse(localStorage.getItem(\"userInfo\")).displayName,\n        UserId: JSON.parse(localStorage.getItem(\"userInfo\")).UserId,\n        creatorEmail: JSON.parse(localStorage.getItem(\"userInfo\")).email,\n        StudioId: selectedStudio\n          ? selectedStudio?.split?.(\":\")?.[1]?.trim?.() || null\n          : null,\n        duration: selectedDuration,\n        level: selectedLevel,\n        time: openClassTime,\n        date: openClassDate.format(\"YYYY-MM-DD\"),\n        youtubeViedoLink: form.youtubeViedoLink.value,\n      };\n\n      setIsSubmitting(true);\n\n      const response = await putData(dbPayload, COLLECTIONS.OPEN_CLASSES, selectedOpenClassId) \n      if (response.ok) {\n        clearForm(form);\n        showSnackbar(\"Open class successfully updated.\", \"success\");\n      }else{\n        showSnackbar(`Error ${response}.`, \"error\");\n      }\n\n    } catch (error) {\n      console.error(\"Error updating Open Class: \", error);\n      showSnackbar(error?.message || \"Something went wrong\", \"error\");\n    } finally {\n      setIsSubmitting(false);\n    }\n    document.getElementById(\"updateStudioForm\").reset();\n  };\n\n  const clearForm = (form) => {\n    form.reset();\n    setSelectedDanceStyles([]);\n    setSelectedInstructors([]);\n    setSelectedStudio(null);\n    setSelectedDuration(\"\");\n    setSelectedLevel(\"\");\n    setOpenClassTime(\"\");\n    setOpenClassDate(dayjs(new Date()));\n    setSelectedOpenClass(null);\n    setSelectedOpenClassId(\"\");\n    setDescription('');\n  };\n\n  const handleDurationChange = (event, value) => {\n    setSelectedDuration(value);\n  };\n\n  const handleLevelChange = (event, value) => {\n    setSelectedLevel(value);\n  };\n\n  const handleSelectStudioValue = (event, value) => {\n    setSelectedStudio(value);\n  };\n\n  const handleInstructorChange = (event, value) => {\n    setSelectedInstructors(value);\n  };\n\n  const handleTimeSelect = (startTime, endTime) => {\n    const [currentStartTime, currentEndTime] = openClassTime.split(\" - \");\n    let newTime = `${currentStartTime} - ${currentEndTime}`;\n\n    if (startTime !== null) newTime = `${startTime} - ${currentEndTime}`;\n    if (endTime !== null) newTime = `${currentStartTime} - ${endTime}`;\n\n    setOpenClassTime(newTime);\n  };\n\n  useEffect(() => {\n    if (selectedOpenClass) {\n      const addedInstructors = instructors\n        .filter((instructor) =>\n          selectedOpenClass.instructors.includes(instructor.id)\n        )\n        .map((instructor) => `${instructor.name} - ${instructor.id}`);\n\n      setSelectedInstructors(addedInstructors);\n      if (selectedOpenClass && selectedOpenClass.danceStyles)\n        setSelectedDanceStyles(selectedOpenClass.danceStyles);\n\n      if (selectedOpenClass && selectedOpenClass.duration)\n        setSelectedDuration(selectedOpenClass.duration);\n\n      if (selectedOpenClass && selectedOpenClass.level)\n        setSelectedLevel(selectedOpenClass.level);\n\n      if (selectedOpenClass && selectedOpenClass.time)\n        setOpenClassTime(selectedOpenClass.time);\n\n      if (selectedOpenClass && selectedOpenClass.date)\n        setOpenClassDate(dayjs(selectedOpenClass.date));\n\n      if (selectedOpenClass && selectedOpenClass.StudioId) {\n        const studios = studioId.map((studio) => studio.split(\":\")[1].trim());\n        const currentStudioIndex = studios.findIndex(\n          (studio) => studio === selectedOpenClass.StudioId\n        );\n        setSelectedStudio(studioId[currentStudioIndex] || null);\n      }\n\n      setDescription(selectedOpenClass?.description || '');\n    }\n  }, [selectedOpenClass]);\n\n  useEffect(() => {\n    if (isDarkModeOn) {\n      const toolbarEle = document.getElementsByClassName(\"ql-toolbar ql-snow\")[0]\n      toolbarEle.style.backgroundColor = \"white\";\n\n      const inputEle = document.getElementsByClassName(\"ql-container ql-snow\")[0];\n      inputEle.style.backgroundColor = \"white\";\n\n      const editEle = document.getElementsByClassName(\"ql-editor \")[0];\n      console.log(editEle);\n      inputEle.style.color = \"black\";\n    }\n  }, [isDarkModeOn]);\n  \n  return (\n    <div\n      style={{\n        backgroundColor: isDarkModeOn ? \"#202020\" : \"\",\n        color: isDarkModeOn ? \"white\" : \"black\",\n      }}\n    >\n      <br></br>\n      <Form id=\"updateStudioForm\" onSubmit={handleUpdateStudio}>\n        <Form.Group controlId=\"formBasicUpdate\">\n          <Form.Label>Id</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"nameId\"\n            style={{\n              backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n              color: isDarkModeOn ? \"white\" : \"black\",\n              height: 'auto',\n            }}\n            onChange={handleSelectStudio}\n          >\n            <option value=\"\">Select a open class...</option>\n            {openClassId && openClassId.length > 0 ? (\n              openClassId.map((openClassItem) => (\n                <option key={openClassItem} value={openClassItem}>\n                  {openClassItem}\n                </option>\n              ))\n            ) : (\n              <option value=\"\">No open class yet!</option>\n            )}\n          </Form.Control>\n\n          <div>\n            <Row>\n              <Col md={6}>\n                <ImageUpload\n                  entityId={selectedOpenClassId}\n                  title={\"Open class Images\"}\n                  storageFolder={STORAGES.OPENCLASSICON}\n                  maxImageCount={1}\n                ></ImageUpload>\n              </Col>\n\n              <Col md={6}>\n              <br />\n                <Form.Label>Open Class Name</Form.Label>\n                <Form.Control\n                  rows={1}\n                  defaultValue={\n                    selectedOpenClass ? selectedOpenClass.openClassName : \"\"\n                  }\n                  style={{\n                    backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                    color: isDarkModeOn ? \"white\" : \"black\",\n                  }}\n                  type=\"textarea\"\n                  placeholder=\"Enter open class name\"\n                  name=\"openClassName\"\n                />\n\n                <br />\n\n                <Form.Label>Dance Styles</Form.Label>\n                <ThemeProvider theme={darkTheme}>\n                  <CssBaseline />\n\n                  <Autocomplete\n                    style={{\n                      backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                      color: isDarkModeOn ? \"white\" : \"black\",\n                    }}\n                    multiple\n                    id=\"tags-standard\"\n                    options={danceStylesOptions}\n                    value={selectedDanceStyles}\n                    onChange={handleDanceStylesChange}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        variant=\"standard\"\n                        placeholder=\"Select Dance Styles\"\n                        style={{\n                          backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                          color: isDarkModeOn ? \"white\" : \"black\",\n                        }}\n                      />\n                    )}\n                  />\n                </ThemeProvider>\n\n                <br />\n\n                <Form.Label>Names of Instructors</Form.Label>\n                <ThemeProvider theme={darkTheme}>\n                  <CssBaseline />\n                  <Autocomplete\n                    style={{\n                      backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                      color: isDarkModeOn ? \"white\" : \"black\",\n                    }}\n                    multiple\n                    id=\"tags-standard\"\n                    options={instructorNamesWithIds}\n                    value={selectedInstructors}\n                    onChange={handleInstructorChange}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        variant=\"standard\"\n                        placeholder=\"Select Instructors\"\n                        style={{\n                          backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                          color: isDarkModeOn ? \"white\" : \"black\",\n                        }}\n                      />\n                    )}\n                  />\n                </ThemeProvider>\n              </Col>\n            </Row>\n\n            <br />\n\n            <Row>\n              <Col md={6}>\n                <Form.Label>Duration (in hours)</Form.Label>\n                <ThemeProvider theme={darkTheme}>\n                  <CssBaseline />\n\n                  <Autocomplete\n                    style={{\n                      backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                      color: isDarkModeOn ? \"white\" : \"black\",\n                    }}\n                    id=\"tags-standard\"\n                    options={[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]}\n                    value={selectedDuration}\n                    onChange={handleDurationChange}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        variant=\"standard\"\n                        placeholder=\"Select Duration\"\n                        style={{\n                          backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                          color: isDarkModeOn ? \"white\" : \"black\",\n                        }}\n                      />\n                    )}\n                  />\n                </ThemeProvider>\n              </Col>\n\n              <Col md={6}>\n                <TimeRange\n                  defaultTime={openClassTime || \"00:00-00:00\"}\n                  handleSelect={handleTimeSelect}\n                />\n              </Col>\n            </Row>\n\n            <br />\n\n            <Row>\n              <Col md={6}>\n                <Form.Label>Date</Form.Label>\n                <LocalizationProvider dateAdapter={AdapterDayjs}>\n                  <DemoContainer components={[\"DatePicker\"]}>\n                    <ThemeProvider theme={darkTheme}>\n                      <CssBaseline />\n                      <DatePicker\n                        sx={{ width: \"100%\" }}\n                        value={openClassDate}\n                        onChange={(newValue) => setOpenClassDate(newValue)}\n                      />\n                    </ThemeProvider>\n                  </DemoContainer>\n                </LocalizationProvider>\n              </Col>\n              <Col md={6}>\n                <Form.Label>Level</Form.Label>\n                <ThemeProvider theme={darkTheme}>\n                  <CssBaseline />\n\n                  <Autocomplete\n                    style={{\n                      backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                      color: isDarkModeOn ? \"white\" : \"black\",\n                    }}\n                    id=\"tags-standard\"\n                    options={[LEVELS.ALL, LEVELS.BEGINNERS, LEVELS.INTERMEDIATE, LEVELS.ADVANCED]}\n                    value={selectedLevel}\n                    onChange={handleLevelChange}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        variant=\"standard\"\n                        placeholder=\"Select Level\"\n                        style={{\n                          backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                          color: isDarkModeOn ? \"white\" : \"black\",\n                        }}\n                      />\n                    )}\n                  />\n                </ThemeProvider>\n              </Col>\n            </Row>\n\n            <br />\n\n            <Row>\n              <Col md={6}>\n                <Form.Label>Maximum capacity</Form.Label>\n                <Form.Control\n                  rows={1}\n                  defaultValue={\n                    selectedOpenClass && selectedOpenClass.capacity !== undefined \n                      ? selectedOpenClass.capacity \n                      : \"\"\n                  } \n                  style={{\n                    backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                    color: isDarkModeOn ? \"white\" : \"black\",\n                  }}\n                  type=\"number\"\n                  placeholder=\"Enter capacity\"\n                  name=\"capacity\"\n                />\n              </Col>\n              <Col md={6}>\n                <Form.Label>Studio</Form.Label>\n                <ThemeProvider theme={darkTheme}>\n                  <CssBaseline />\n\n                  <Autocomplete\n                    style={{\n                      backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                      color: isDarkModeOn ? \"white\" : \"black\",\n                    }}\n                    id=\"tags-standard\"\n                    options={studioId}\n                    value={selectedStudio}\n                    onChange={handleSelectStudioValue}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        variant=\"standard\"\n                        placeholder=\"Select Studio\"\n                        style={{\n                          backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                          color: isDarkModeOn ? \"white\" : \"black\",\n                        }}\n                      />\n                    )}\n                  />\n                </ThemeProvider>\n              </Col>\n            </Row>\n\n            <br />\n\n            <Row>\n            <Col md={6}>\n                  <Form.Label>Youtube video link</Form.Label>\n                  <Form.Control\n                    rows={1}\n                    defaultValue={\n                      selectedOpenClass ? selectedOpenClass.youtubeViedoLink : \"\"\n                    }\n                    style={{\n                      backgroundColor: isDarkModeOn ? \"#333333\" : \"\",\n                      color: isDarkModeOn ? \"white\" : \"black\",\n                    }}\n                    type=\"text\"\n                    placeholder=\"Enter youtube video link\"\n                    name=\"youtubeViedoLink\"\n                  />\n                </Col>\n              <Col md={6}>\n                <Form.Label>Brief Description</Form.Label>\n                <ReactQuill\n                  theme=\"snow\"\n                  placeholder=\"Enter Description\"\n                  value={description}\n                  onChange={setDescription}\n                />\n              </Col>\n            </Row>\n\n            <hr></hr>\n\n            <Row>\n              <Col xs={6}></Col>\n              <Col xs={6} className=\"d-flex justify-content-end\">\n                <MuiButton\n                  variant=\"contained\"\n                  style={{\n                    color: \"white\",\n                    backgroundColor: isDarkModeOn ? \"#892cdc\" : \"black\",\n                  }}\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                >\n                  Update Open Class\n                </MuiButton>\n              </Col>\n            </Row>\n          </div>\n        </Form.Group>\n        {isSubmitting && <LinearProgress />}\n      </Form>\n    </div>\n  );\n}\n\nexport default OpenClassUpdate;\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { db } from \"../config\";\nimport {doc, getDoc, collection, where, getDocs, query, updateDoc} from \"firebase/firestore\";\nimport { COLLECTIONS } from \"../constants\";\nimport { useSelector } from \"react-redux\";\nimport { selectDarkModeStatus } from \"../redux/selectors/darkModeSelector\";\nimport { useAuth } from \"../context/AuthContext\";\nimport Tab from \"@mui/material/Tab\";\nimport TabContext from \"@mui/lab/TabContext\";\nimport TabList from \"@mui/lab/TabList\";\nimport TabPanel from \"@mui/lab/TabPanel\";\nimport { Box } from \"@mui/material\";\nimport OpenClassAdd from \"../Components/OpenClassAdd\";\nimport OpenClassUpdate from \"../Components/OpenClassUpdate\";\nimport CardSlider from \"../Components/OpenClassCardSlider\";\n\nfunction CreatorOpenClass() {\n  const [studioId, setStudioId] = useState([]);\n  const [openClass, setOpenClass] = useState([]);\n  const [openClassId, setOpenClassId] = useState([]);\n  const isDarkModeOn = useSelector(selectDarkModeStatus);\n  const [instructors, setInstructors] = useState([]);\n  const [isCreator, setIsCreator] = useState(false);\n  const [premiumTill, setPremiumTill] = useState(-1);\n  const { currentUser } = useAuth();\n  const [value, setValue] = React.useState(\"1\");\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const activateOpenClass = async (openClassId) => {\n    try {\n      const docRef = doc(db, COLLECTIONS.OPEN_CLASSES, openClassId);\n      await updateDoc(docRef, { active: true });\n\n      setOpenClass((prev) =>\n        prev.map((openClass) =>\n          openClass.id === openClassId ? { ...openClass, active: true } : openClass\n        )\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const deactivateOpenClass = async (openClassId) => {\n    try {\n      const docRef = doc(db, COLLECTIONS.OPEN_CLASSES, openClassId);\n      await updateDoc(docRef, { active: false });\n\n      setOpenClass((prev) =>\n        prev.map((openClass) =>\n          openClass.id === openClassId\n            ? { ...openClass, active: false }\n            : openClass\n        )\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    const getCreatorMode = async (event) => {\n      try {\n        const userRef = doc(db, \"User\", currentUser.uid);\n        const userSnap = await getDoc(userRef);\n        if (userSnap.exists()) {\n          if (userSnap.data() != null) {\n            setIsCreator(userSnap.data().CreatorMode);\n            setPremiumTill(userSnap.data().isPremium);\n          }\n        }\n      } catch (error) {\n        console.log(\" error\");\n      }\n    };\n\n    getCreatorMode();\n  }, [isCreator]);\n\n  useEffect(() => {\n    const fetchInstructors = async () => {\n      let userId = null;\n      if (\n        JSON.parse(localStorage.getItem(\"userInfo\")) &&\n        JSON.parse(localStorage.getItem(\"userInfo\")).UserId\n      ) {\n        userId = JSON.parse(localStorage.getItem(\"userInfo\")).UserId;\n      }\n      if (!userId) {\n        alert(\"User not found\");\n        return;\n      }\n\n      const instructorRef = collection(db, COLLECTIONS.INSTRUCTORS);\n      const q = query(instructorRef, where(\"createdBy\", \"==\", userId));\n      const querySnapshot = await getDocs(q);\n\n      const instructorsList = [];\n      querySnapshot.forEach((doc) => {\n        instructorsList.push({\n          id: doc.id,\n          name: doc.data().name,\n        });\n      });\n      setInstructors(instructorsList);\n    };\n\n    fetchInstructors();\n  }, []);\n\n  useEffect(() => {\n    const getStudioCreated = async () => {\n      const q = query(\n        collection(db, COLLECTIONS.STUDIO),\n        where(\n          \"UserId\",\n          \"==\",\n          JSON.parse(localStorage.getItem(\"userInfo\")).UserId\n        )\n      );\n\n      const querySnapshot = await getDocs(q);\n      const studiosOfUser = querySnapshot.docs\n        .filter((doc) => doc.data().studioName)\n        .map((doc) => {\n          const data = doc.data();\n          return {\n            id: doc.id,\n            ...data,\n          };\n        });\n      setStudioId(\n        studiosOfUser.map(\n          (studio) => String(studio.studioName) + \" :\" + String(studio.id)\n        )\n      );\n    };\n\n    getStudioCreated();\n  }, []);\n\n  useEffect(() => {\n    const getOpenClassCreated = async () => {\n      const q = query(\n        collection(db, COLLECTIONS.OPEN_CLASSES),\n        where(\n          \"UserId\",\n          \"==\",\n          JSON.parse(localStorage.getItem(\"userInfo\")).UserId\n        )\n      );\n      const querySnapshot = await getDocs(q);\n      const openClassesOfUserPromise = querySnapshot.docs\n        .filter((doc) => doc.data().openClassName)\n        .map((doc) => {\n          const data = doc.data();\n          return {\n            id: doc.id,\n            ...data,\n          };\n        }).map(async (openClass) => {\n          const docRef = doc(db, COLLECTIONS.STUDIO, openClass?.StudioId);\n          const docSnap = await getDoc(docRef);\n          return { ...openClass, studioDetails: docSnap.data() };\n        });\n      const openClassesOfUser = await Promise.all(openClassesOfUserPromise)\n      localStorage.setItem(\"OpenCLassCreated\", JSON.stringify(openClassesOfUser));\n      setOpenClass(openClassesOfUser);\n      setOpenClassId(\n        openClassesOfUser.map(\n          (openClass) =>\n            String(openClass.openClassName) + \" :\" + String(openClass.id)\n        )\n      );\n    };\n\n    getOpenClassCreated();\n  }, [setOpenClass]);\n\n  useEffect(() => {\n    const openClassesOfUser =\n      JSON.parse(localStorage.getItem(\"OpenClassCreated\")) || [];\n      setOpenClass(openClassesOfUser);\n\n    const openClassIdList = openClassesOfUser.map(\n      (openClass) => `${openClass.openClassName} : ${openClass.id}`\n    );\n    setOpenClassId(openClassIdList);\n  }, [setOpenClassId]);\n\n  return (\n    <div>\n      <br></br>\n      {isCreator ? (\n        <>\n          <Box sx={{ width: \"100%\", typography: \"body1\" }}>\n            <TabContext value={value}>\n              <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\n                <TabList\n                  style={{ color: isDarkModeOn ? \"white\" : \"black\" }}\n                  onChange={handleChange}\n                  aria-label=\"lab API tabs example\"\n                >\n                  <Tab\n                    style={{ color: isDarkModeOn ? \"white\" : \"black\" }}\n                    label=\"Add Open Class\"\n                    value=\"1\"\n                  />\n                  <Tab\n                    style={{ color: isDarkModeOn ? \"white\" : \"black\" }}\n                    label=\"Update Open Class\"\n                    value=\"2\"\n                  />\n                </TabList>\n              </Box>\n              <TabPanel value=\"1\">\n                <OpenClassAdd\n                  instructors={instructors}\n                  studioId={studioId}\n                  setOpenClass={setOpenClass}\n                />\n              </TabPanel>\n              <TabPanel value=\"2\">\n                <>\n                  <OpenClassUpdate\n                    instructors={instructors}\n                    openClassId={openClassId}\n                    studioId={studioId}\n                  />\n                </>\n              </TabPanel>\n            </TabContext>\n          </Box>\n        </>\n      ) : (\n        \"\"\n      )}\n\n      {openClass.length > 0 && (\n        <>\n          <h3 style={{ color: isDarkModeOn ? \"white\" : \"black\" }}>\n            Your Open Classes:\n          </h3>\n          <CardSlider\n            dataList={openClass}\n            activateOpenClass={activateOpenClass}\n            deactivateOpenClass={deactivateOpenClass}\n            actionsAllowed\n          />\n        </>\n      )}\n    </div>\n  );\n}\nexport default CreatorOpenClass;\n","import { COLORS, SERVER_URLS,BASEURL_DEV,BASEURL_PROD } from \"../constants\";\n\nexport async function postData(dbPayload, collection_name, notify, metadata) {\n  const BASEURL = BASEURL_PROD;\n  const endpoint = 'crud/newEntity/'; // Define your endpoint here\n  const authToken = localStorage.getItem(\"authToken\");\n  try {\n    const response = await fetch(BASEURL + endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authToken}`\n      },\n      body: JSON.stringify({\n        data: dbPayload,\n        collection_name: collection_name,\n        notify: notify,\n        metadata : metadata,\n      }),\n    });\n\n    if (!response.ok) {\n      console.log('Error in postData:', response);\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    return response;\n  } catch (error) {\n    console.error('Error in postData:', error);\n    throw error;\n  }\n}\n\nexport async function putData(dbPayload, collection_name, entity_id, notify = null, metadata = null) {\n  const BASEURL = BASEURL_PROD;\n  const endpoint = `crud/updateEntity/${entity_id}`;\n  const authToken = localStorage.getItem(\"authToken\");\n  try {\n    const response = await fetch(BASEURL + endpoint, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authToken}`\n      },\n      body: JSON.stringify({\n        data: dbPayload,\n        collection_name: collection_name,\n        notify: notify,\n        metadata : metadata,\n      }),\n    });\n\n    if (!response.ok) {\n      console.log('Error in postData:', response);\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    return response;\n  } catch (error) {\n    console.error('Error in postData:', error);\n    throw error;\n  }\n}\n\nexport const getRandomColor = () => {\n  const colorKeys = Object.keys(COLORS);\n  const randomKey = colorKeys[Math.floor(Math.random() * colorKeys.length)];\n  return COLORS[randomKey];\n};\n\nexport const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n\nexport const bookEntity = async (bookingData) => {\n  const url = `${SERVER_URLS.CLOUD}bookings/bookEntity/`; \n\n  try {\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        userId: bookingData.userId,\n        entityType: bookingData.entityType,\n        entityId: bookingData.entityId,\n        associatedStudioId: bookingData.associatedStudioId,\n        emailLearner: bookingData.emailLearner,\n        personsAllowed: bookingData.personsAllowed,\n        pricePerPerson: bookingData.pricePerPerson,\n      })\n    });\n\n    const result = await response.json();\n    \n    if (response.ok) {\n      console.log('Booking successful:', result);\n      return result;  // Return the successful result\n    } else {\n      console.error('Booking failed:', result);\n      return result;  // Return null or an error message\n    }\n    \n  } catch (error) {\n    console.error('Error occurred while booking:', error);\n    return null;  // Return null or an error message\n  }\n};\n\n\n// Function to decode a Unicode (UTF-8) encoded string back to the original text\nexport const decodeUnicode = (unicodeString) => {\n  const utf8Encoded = unicodeString.split('').map((c) => c.charCodeAt(0));\n  const textDecoder = new TextDecoder();\n  return textDecoder.decode(new Uint8Array(utf8Encoded));\n};\n\nexport const convertToHtmlEntities= (text) =>{\n  return text.replace(/[\\u00A0-\\u9999<>\\&]/gim, function(i) {\n      return '&#' + i.charCodeAt(0) + ';';\n  });\n}\n\nexport const getYoutubeVideoId = (link)=> {\n  console.log(\"MediaDisplay\", link)\n  if (!link){\n    return null\n  }\n  const text = link.trim();\n  const youtubeRegExp = /(?:https?:\\/\\/)?(?:www\\.|m\\.)?(?:youtube\\.com\\/(?:watch\\?v=|embed\\/|v\\/|shorts\\/)|youtu\\.be\\/)([\\w\\-]+)/;\n  const match = text.match(youtubeRegExp);\n  let videoId = null;\n\n  if (match) {\n    videoId = match[1];\n  }\n  console.log(\"MediaDisplay\", videoId)\n  return videoId\n}\n\nexport const formatDateString = (dateString = \"\") => {\n  // Split the input date string\n  const [year, month, day] = dateString.split('-');\n\n  // Create an array of month names\n  const monthNames = [\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n      'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'\n  ];\n\n  // Determine the ordinal suffix for the day\n  const daySuffix = (day) => {\n      const lastDigit = day % 10;\n      const suffix = (lastDigit === 1 && day !== '11') ? 'st' :\n                     (lastDigit === 2 && day !== '12') ? 'nd' :\n                     (lastDigit === 3 && day !== '13') ? 'rd' : 'th';\n      return `${day}${suffix}`;\n  };\n\n  // Format and return the final date string\n  return `${daySuffix(day)} ${monthNames[parseInt(month) - 1]}, ${year}`;\n}\n\nexport const gradientStyles = [\n  { background: 'linear-gradient(to bottom right, #FFD700, #FFA500)', color: 'black' },\n  { background: 'linear-gradient(to bottom right, #00BFFF, #1E90FF)', color: 'black' },\n  { background: 'linear-gradient(to bottom right, #32CD32, #008000)', color: 'white' },\n  { background: 'linear-gradient(to bottom right, #FFA500, #FF4500)', color: 'black' },\n  { background: 'linear-gradient(to bottom right, #DC143C, #8B0000)', color: 'white' },\n  { background: 'linear-gradient(to bottom right, #000000, #2F4F4F)', color: 'white' },\n];"],"names":["ImageUpload","forwardRef","_ref","ref","entityId","storageFolder","title","maxImageCount","minImageCount","updateMode","disable","setIsLoading","useLoader","showSnackbar","useSnackbar","imageInputRef","useRef","selectedFiles","setSelectedFiles","useState","uploadedFiles","setUploadedFiles","newFiles","setNewFiles","isDarkModeOn","useSelector","selectDarkModeStatus","progressDelete","setProgressDelete","progressUpdate","setProgressUpdate","isUploadSuccessful","setIsUploadSuccessful","console","log","filesizes","bytes","decimals","arguments","length","undefined","dm","i","Math","floor","parseFloat","pow","toFixed","useEffect","fetchStudioImages","truncatedFiles","slice","alert","concat","current","value","calculateDelta","selectedFileIds","map","file","id","uploadedFileIds","imagesToDelete","filter","includes","newImages","async","folderPath","folderRef","firebaseRef","storage","fileList","listAll","files","Promise","all","items","downloadURL","getDownloadURL","fileRef","name","filename","fileURL","error","useImperativeHandle","isValid","_jsx","className","style","display","width","justifyContent","children","flex","_jsxs","backgroundColor","STORAGES","STUDIOIMAGES","type","onChange","e","Array","from","target","updatedFiles","forEach","reader","FileReader","onloadend","push","shortid","filetype","fileimage","result","datetime","lastModifiedDate","toLocaleString","filesize","size","prevFiles","readAsDataURL","multiple","position","Card","sx","maxWidth","match","src","alt","maxHeight","objectFit","IconButton","disabled","onClick","handleDeleteSelectedFile","window","confirm","top","right","DeleteIcon","color","CardContent","deleteAllImagesInFolder","uploadImages","deleteImages","hidden","max","defaultProps","WorkshopDetailsModal","_JSON$parse","_userDetails$BookedOp","_userDetails$BookedOp2","_dataItem$studioDetai","_dataItem$studioDetai2","_dataItem$studioDetai3","open","handleClose","dataItem","activateOpenClass","deactivateOpenClass","actionsAllowed","isBooking","setIsBooking","userDetails","setUserDetails","currentUser","JSON","parse","localStorage","getItem","UserId","isCreatorOfWorkshop","userRef","doc","db","userSnap","getDoc","exists","data","getUser","whatsappMessage","encodeURIComponent","isBooked","BookedOpenClasses","call","shareUrl","location","host","Modal","onClose","zIndex","Box","left","transform","overflow","xs","md","bgcolor","borderWidth","borderStyle","borderColor","boxShadow","p","borderRadius","Grid","container","spacing","rowGap","item","lg","minHeight","imageUrl","height","flexDirection","MUITypography","variant","component","dayjs","date","format","time","mt","venue","textAlign","Button","addDoc","collection","COLLECTIONS","BOOKINGS","StudioId","OpenClassId","bookingDate","Date","now","updateDoc","prev","message","textTransform","fontSize","padding","border","lineHeight","my","columnGap","openClassName","danceStyles","dance","ShareButton","studioDetails","studioName","whatsappNumber","href","whatsAppImage","mobileNumber","callImage","dangerouslySetInnerHTML","__html","description","active","mr","OpenClassCard","_ref2","_dataItem$studioDetai4","setImageUrl","isWorkshopDetailsModalOpen","setIsWorkshopDetailsModalOpen","workshopId","url","readDocumentWithImageUrl","OPENCLASSICON","fetchImageUrl","cardStyle","marginRight","transition","_Fragment","cursor","handleWorkshopDetailsModalOpen","AspectRatio","ratio","loading","Stack","direction","bottom","form","index","Chip","marginLeft","marginBottom","trim","paddingTop","fontWeight","textColor","underline","overlay","extDecoder","background","Typography","level","noWrap","marginTop","handleWorkshopDetailsModalClose","dataList","deleteOpenClass","_defaultTime$split$","defaultTime","handleSelect","startTime_i","split","endTime_i","renderTimeOptions","defaultValue","timeOptions","generateTimeOptions","options","option_AM","option_PM","hours","minutes","formattedMinutes","toString","padStart","formattedHours","option","Row","Col","Form","Group","Label","Control","as","instructors","studioId","setOpenClass","newOpenClassId","setNewOpenClassId","selectedInstructors","setSelectedInstructors","selectedDanceStyles","setSelectedDanceStyles","instructorNamesWithIds","instructor","danceStylesOptions","isReady","setIsReady","selectedDuration","setSelectedDuration","selectedStudio","setSelectedStudio","selectedLevel","setSelectedLevel","openClassTime","setOpenClassTime","openClassDate","setOpenClassDate","isSubmitting","setIsSubmitting","step","setStep","setDescription","darkTheme","createTheme","palette","mode","clearForm","reset","document","getElementById","q","query","DRAFT_COLLECTIONS","DRAFT_OPEN_CLASSES","where","querySnapshot","getDocs","empty","_form$openClassName","_form$capacity","_selectedInstructors$2","_selectedStudio$split5","_selectedStudio$split6","_selectedStudio$split7","_selectedStudio$split8","capacity","_instructor$split2","_instructor$split2$ca","_instructor$split2$ca2","_instructor$split2$ca3","author","displayName","creatorEmail","email","duration","_foundOpenClass$dance","openClasses","foundOpenClass","currentStudioIndex","studio","findIndex","main","intervalId","previousState","foundOpenClasses","openClassRef","setInterval","_form$openClassName2","_form$capacity2","_selectedInstructors$3","_selectedStudio$split9","_selectedStudio$split10","_selectedStudio$split11","_selectedStudio$split12","currentState","_instructor$split3","_instructor$split3$ca","_instructor$split3$ca2","_instructor$split3$ca3","isEqual","err","clearInterval","getElementsByClassName","inputEle","editEle","onSubmit","event","preventDefault","validationFailed","isValidInputs","_selectedInstructors$","_selectedStudio$split","_selectedStudio$split2","_selectedStudio$split3","_selectedStudio$split4","currentUserEmail","dbPayload","_instructor$split","_instructor$split$cal","_instructor$split$cal2","_instructor$split$cal3","youtubeViedoLink","notifyEmails","metaData","entity_name","response","postData","OPEN_CLASSES","ok","json","studios","foundStudio","studioRef","deleteDoc","resetDraft","controlId","rows","placeholder","ThemeProvider","theme","CssBaseline","Autocomplete","handleDanceStylesChange","renderInput","params","TextField","handleInstructorChange","handleDurationChange","TimeRange","handleTimeSelect","startTime","endTime","currentStartTime","currentEndTime","newTime","LocalizationProvider","dateAdapter","AdapterDayjs","DemoContainer","components","DatePicker","newValue","LEVELS","ALL","BEGINNERS","INTERMEDIATE","ADVANCED","handleLevelChange","handleSelectStudio","ReactQuill","MuiButton","LinearProgress","margin","openClassId","selectedOpenClassId","setSelectedOpenClassId","selectedOpenClass","setSelectedOpenClass","addedInstructors","putData","selectedId","pop","studioDoc","openClassItem","handleSelectStudioValue","setStudioId","openClass","setOpenClassId","setInstructors","isCreator","setIsCreator","premiumTill","setPremiumTill","useAuth","setValue","React","uid","CreatorMode","isPremium","getCreatorMode","userId","instructorRef","INSTRUCTORS","instructorsList","fetchInstructors","STUDIO","studiosOfUser","docs","String","getStudioCreated","openClassesOfUserPromise","docRef","docSnap","openClassesOfUser","setItem","stringify","getOpenClassCreated","openClassIdList","typography","TabContext","borderBottom","TabList","handleChange","Tab","label","TabPanel","OpenClassAdd","OpenClassUpdate","CardSlider","collection_name","notify","metadata","BASEURL","BASEURL_PROD","authToken","fetch","method","headers","body","Error","status","entity_id","endpoint","bookEntity","SERVER_URLS","CLOUD","bookingData","entityType","associatedStudioId","emailLearner","personsAllowed","pricePerPerson","getYoutubeVideoId","link","videoId","formatDateString","dateString","year","month","day","lastDigit","suffix","daySuffix","parseInt"],"sourceRoot":""}