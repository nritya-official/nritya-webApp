"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[709],{87472:(e,o,t)=>{t.r(o),t.d(o,{default:()=>h});var r=t(72791),a=t(84654),i=t(73542),n=t(30195),s=t(94294),l=t(79253),d=t(21204),c=t(80184);const h=e=>{let{dataList:o,imgOnly:t=!1}=e;console.log("Debug from CardSlider",t),console.log(o);const h=Array.isArray(o)?o:Object.values(o);console.log(h);const[x,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),g=()=>{u(!1),m(null)},b={transform:"scale(1.01)"};return(0,c.jsxs)("div",{className:"horizontal-scroll-wrapper",children:[h.map(((e,o)=>t?(0,c.jsx)("a",{onClick:()=>{return o=e,console.log(o),m(o),void u(!0);var o},children:(0,c.jsx)(a.Z,{style:{marginRight:"0.5rem"},component:"li",sx:{height:300,width:534,"&:hover":{...b}},children:(0,c.jsx)(l.Z,{children:(0,c.jsx)("img",{src:e,loading:"lazy",alt:"Studio image"})})},o)},o):(0,c.jsx)("a",{href:`#/studio/${e.id}`,children:(0,c.jsx)(d.Z,{data:e,img_src:e.iconUrl},e.id)},o))),(0,c.jsx)(i.Z,{open:x,onClose:g,children:p&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Z,{sx:{padding:0},children:(0,c.jsx)("img",{src:p,alt:"Image",style:{maxWidth:"100%",height:"auto"}})}),(0,c.jsx)(s.Z,{sx:{"&:hover":{backgroundColor:"#735EAB",color:"white"}},onClick:g,children:"Close"})]})})]})}},59777:(e,o,t)=>{t.d(o,{Z:()=>z});t(11518);var r=t(72791),a=t(92552),i=t(84654),n=t(28658),s=t(69597),l=t(83168),d=t(88447),c=t(697),h=t(61889),x=t(20890),u=t(94294),p=t(13400),m=t(36314),g=t(59434),b=t(83708),v=t(68449),j=t(60717),w=t(97892),f=t.n(w),y=t(12481),k=t(10159),S=t(75424),Z=t(49071),C=t(10884),I=t(80184);function N(e){var o,t,a,i,n,s;let{open:l,handleClose:m,dataItem:v,activateCourse:w,deactivateCourse:N,actionsAllowed:R}=e;const z=(0,S.D)(),U=(0,g.v9)(j.w),[D,B]=(0,r.useState)(!1),[W,O]=(0,r.useState)(null),P=null===(o=JSON.parse(localStorage.getItem("userInfo")))||void 0===o?void 0:o.UserId;(0,r.useEffect)((()=>{(async()=>{try{const e=(0,y.JU)(k.db,"User",P),o=await(0,y.QT)(e);o.exists()&&O(o.data())}catch(e){console.log(" error")}})()}),[]);const A=v.UserId===P,L=null===W||void 0===W||null===(t=W.BookedCourses)||void 0===t||null===(a=t.includes)||void 0===a?void 0:a.call(t,null===v||void 0===v?void 0:v.id),T=encodeURIComponent("Hey, I found your Studio on nritya.co.in. I'm interested");return(0,I.jsx)(d.Z,{open:l,onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,I.jsxs)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90%",overflow:"auto",width:{xs:"90%",md:"60%"},bgcolor:U?"black":"background.paper",borderWidth:"2px",borderStyle:"solid",borderColor:U?"white":"black",boxShadow:24,p:"1rem",borderRadius:"8px"},children:[(0,I.jsxs)(h.ZP,{container:!0,spacing:"8px",rowGap:2,children:[(0,I.jsx)(h.ZP,{item:!0,xs:12,lg:8,children:(0,I.jsx)("img",{src:v.imageUrl,style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"8px"}})}),(0,I.jsxs)(h.ZP,{item:!0,xs:12,lg:4,children:[(0,I.jsxs)(c.Z,{sx:{height:"100%",bgcolor:U?"#333333":"#efefef",p:2,borderRadius:"8px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,I.jsxs)(c.Z,{sx:{flex:1},children:[(0,I.jsx)(x.Z,{variant:"h6",component:"p",sx:{color:U?"white":"black"},children:f()(v.date).format("LL")}),(0,I.jsx)(x.Z,{variant:"h6",component:"p",sx:{color:U?"white":"black"},children:v.time}),(0,I.jsx)(x.Z,{variant:"body1",component:"p",sx:{mt:"2rem",color:U?"white":"black"},children:v.venue}),(0,I.jsxs)(x.Z,{variant:"body1",component:"p",sx:{mt:"2rem",color:U?"white":"black"},children:[v.duration," ",v.durationUnit]})]}),(0,I.jsxs)(c.Z,{sx:{mt:"2rem",display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,I.jsxs)(x.Z,{variant:"h5",sx:{alignSelf:"center",color:U?"white":"black"},children:["\u20b9",v.price]}),!R&&!A&&P&&(0,I.jsx)(u.Z,{variant:"outlined",onClick:async()=>{try{B(!0),(0,y.ET)((0,y.hJ)(k.db,b.Ul.BOOKINGS),{StudioId:v.StudioId,CourseId:v.id,UserId:P,bookingDate:Date.now()});const e=(0,y.JU)(k.db,"User",P),o=await(0,y.QT)(e);o.exists()&&null!=o.data()&&await(0,y.r7)(e,{BookedCourses:[...o.data().BookedCourses||[],v.id]}),O((e=>({...e,BookedCourses:[...(null===e||void 0===e?void 0:e.BookedCourses)||[],v.id]}))),z("Course booked","success")}catch(e){console.error(e),z((null===e||void 0===e?void 0:e.message)||"Something went wrong","error")}finally{B(!1)}},disabled:L||D,sx:{alignSelf:"center",boxShadow:"none",textTransform:"none",fontSize:16,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"transparent",borderColor:U?"white":"black",color:U?"white":"black","&:hover":{backgroundColor:"transparent",borderColor:U?"white":"black",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"transparent",borderColor:U?"white":"black"},"&:focus":{boxShadow:"none"}},children:L?"Booked":"Book Now"})]})]}),!R&&!A&&P&&(0,I.jsx)(x.Z,{component:"p",variant:"caption",sx:{my:"2px",color:U?"white":"black",textAlign:"center"},children:"Book here and pay at the venue"})]}),(0,I.jsxs)(h.ZP,{item:!0,sx:{mt:1},children:[(0,I.jsxs)(x.Z,{variant:"h5",component:"p",sx:{color:U?"white":"black"},children:[v.name||"",v.danceStyles.map((e=>` | ${e}`))]}),(0,I.jsxs)(x.Z,{variant:"body1",component:"p",sx:{mt:1,color:U?"white":"black"},children:[(0,I.jsxs)("span",{children:["By ",(null===(i=v.studioDetails)||void 0===i?void 0:i.studioName)||""]}),v.studioDetails&&(null===(n=v.studioDetails)||void 0===n?void 0:n.whatsappNumber)&&(0,I.jsx)(p.Z,{color:"success",size:"small",target:"_blank",href:`https://wa.me/91${v.studioDetails.whatsappNumber}?text=${T}`,children:(0,I.jsx)("img",{src:Z,alt:"Whatsapp call",style:{width:30,height:28}})}),v.studioDetails&&(null===(s=v.studioDetails)||void 0===s?void 0:s.mobileNumber)&&(0,I.jsx)(p.Z,{color:"primary",size:"small",target:"_blank",href:`tel:${v.studioDetails.mobileNumber}`,children:(0,I.jsx)("img",{src:C,alt:"Phone call",style:{width:30,height:28}})})]}),(0,I.jsx)(x.Z,{variant:"body1",component:"p",sx:{mt:2,color:U?"white":"black"},children:v.description||""})]})]}),(0,I.jsxs)(c.Z,{sx:{mt:"1rem",textAlign:"right"},children:[R&&A&&(0,I.jsx)(u.Z,{onClick:()=>null!==v&&void 0!==v&&v.active?N(null===v||void 0===v?void 0:v.id):w(null===v||void 0===v?void 0:v.id),variant:"outlined",sx:{mr:"1rem",color:"white",boxShadow:"none",border:"1px solid",backgroundColor:null!==v&&void 0!==v&&v.active?"red":"green",borderColor:"white",color:"white","&:hover":{backgroundColor:null!==v&&void 0!==v&&v.active?"red":"green",borderColor:"white",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:null!==v&&void 0!==v&&v.active?"red":"green",borderColor:"white"},"&:focus":{boxShadow:"none"}},children:null!==v&&void 0!==v&&v.active?"Deactivate":"Activate"}),(0,I.jsx)(u.Z,{onClick:m,variant:"outlined",sx:{color:"white",boxShadow:"none",border:"1px solid",backgroundColor:"transparent",borderColor:U?"white":"black",color:U?"white":"black","&:hover":{backgroundColor:"transparent",borderColor:U?"white":"black",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"transparent",borderColor:U?"white":"black"},"&:focus":{boxShadow:"none"}},children:"Close"})]})]})})}function R(e){var o;let{dataItem:t,activateCourse:d,deactivateCourse:h,actionsAllowed:x}=e;const u=(0,g.v9)(j.w),[p,w]=(0,r.useState)(null),[f,y]=(0,r.useState)(!1),k=t.id;(0,r.useEffect)((()=>{(async()=>{try{const e=await(0,v.Us)(b.Rb.COURSEICON,k);w(e||"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg")}catch(e){console.error("Error fetching image URL:",e)}})()}),[t.id]);const S={backgroundColor:u?"#444":"white",padding:"0px",color:u?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(i.Z,{variant:"solid",sx:{...S,"&:hover":{transform:"scale(1.01)",cursor:"pointer"}},onClick:()=>y(!0),children:[(0,I.jsxs)(a.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,I.jsx)("img",{src:p,loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",objectFit:"cover",overflow:"hidden"}}),(0,I.jsx)(m.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:t&&t.danceStyles?t.danceStyles.slice(0,3).map(((e,o)=>(0,I.jsx)(s.Z,{color:o%2===0?"danger":"success",style:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem"},children:e.trim()},o))):(0,I.jsx)(s.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)})]}),(0,I.jsxs)(n.Z,{style:{padding:"10px",paddingTop:"5px"},children:[(0,I.jsxs)(c.Z,{fontWeight:"md",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,style:{color:u?"white":"black",extDecoder:"one"},children:[(0,I.jsx)("span",{children:t&&t.name?t.name:""}),!(null!==t&&void 0!==t&&t.active)&&(0,I.jsx)("span",{style:{marginLeft:"2px",padding:"2px 4px",fontSize:"14px",borderRadius:"4px",background:"red"},children:"Inactive"})]}),(0,I.jsxs)(l.ZP,{style:{color:u?"white":"black"},level:"body-xs",noWrap:!0,children:["By ",null!==(o=t.studioDetails)&&void 0!==o&&o.studioName?t.studioDetails.studioName:""]}),(0,I.jsx)(l.ZP,{style:{marginTop:10,color:u?"white":"black"},level:"body-xs",noWrap:!0,children:t.venue?t.venue:""}),(0,I.jsxs)(l.ZP,{style:{color:u?"white":"black"},level:"body-xs",children:[t.date||""," | ",t.time||""]})]})]}),(0,I.jsx)(N,{dataItem:{...t,imageUrl:p},open:f,handleClose:()=>y(!1),activateCourse:d,deactivateCourse:h,actionsAllowed:x})]})}const z=e=>{let{dataList:o,activateCourse:t,deactivateCourse:r,actionsAllowed:a}=e;return(0,I.jsx)("div",{className:"horizontal-scroll-wrapper",children:o.map(((e,o)=>(0,I.jsx)(R,{dataItem:e,activateCourse:t,deactivateCourse:r,actionsAllowed:a},e.id)))})}},21204:(e,o,t)=>{t.d(o,{Z:()=>g});t(72791);var r=t(92552),a=t(84654),i=t(28658),n=t(69597),s=t(18625),l=t(83168),d=t(36314),c=t(59434),h=t(60717),x=t(83708),u=t(97310),p=t(17237),m=t(80184);function g(e){let{img_src:o,data:t}=e;const g=(0,c.v9)(h.w),b=t.id?t.id:t.studioId,v={backgroundColor:g?"#444":"white",padding:"0px",color:g?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,m.jsxs)(a.Z,{variant:"solid",sx:{...v,"&:hover":{transform:"scale(1.01)"}},children:[(0,m.jsxs)(r.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,m.jsx)("img",{src:t&&t.iconUrl?t.iconUrl:"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg",loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",height:"auto",overflow:"hidden"}}),(0,m.jsx)(d.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:t&&t.danceStyles&&"string"===typeof t.danceStyles?t.danceStyles.split(",").slice(0,3).map(((e,o)=>(0,m.jsx)(n.Z,{color:o%2===0?"danger":"success",sx:{marginBottom:"10px",fontSize:"0.8rem",bgcolor:x.lt[o].backgroundColor,color:x.lt[o].color},children:e.trim()},o))):(0,m.jsx)(n.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)})]}),(0,m.jsxs)(i.Z,{style:{padding:"10px"},children:[(0,m.jsx)(s.Z,{href:`#/studio/${b}`,fontWeight:"md",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,style:{color:g?"white":"black",extDecoder:"one"},children:t&&t.studioName?t.studioName:"    "}),(0,m.jsx)(l.ZP,{style:{color:g?"white":"black"},level:"body-xs",children:t.street?t.street:".  "}),(0,m.jsx)(u.ZP,{hidden:!0,"aria-label":"Like minimal photography",size:"md",variant:"solid",color:"danger",sx:{position:"absolute",zIndex:2,borderRadius:"50%",right:"1rem",bottom:"2rem",transform:"translateY(50%)"},children:(0,m.jsx)(p.Z,{})}),(0,m.jsxs)(l.ZP,{style:{color:g?"white":"black"},children:["\u2b50 ",t&&t.avgRating?t.avgRating.toFixed(1):" Not rated yet"]})]})]})}},707:(e,o,t)=>{t.d(o,{Z:()=>z});t(11518);var r=t(72791),a=t(92552),i=t(84654),n=t(28658),s=t(69597),l=t(83168),d=t(88447),c=t(697),h=t(61889),x=t(20890),u=t(94294),p=t(13400),m=t(36314),g=t(59434),b=t(83708),v=t(68449),j=t(60717),w=t(97892),f=t.n(w),y=t(10159),k=t(12481),S=t(75424),Z=t(49071),C=t(10884),I=t(80184);function N(e){var o,t,a,i,n,s;let{open:l,handleClose:m,dataItem:v,activateOpenClass:w,deactivateOpenClass:N,actionsAllowed:R}=e;const z=(0,S.D)(),U=(0,g.v9)(j.w),[D,B]=(0,r.useState)(!1),[W,O]=(0,r.useState)(null),P=null===(o=JSON.parse(localStorage.getItem("userInfo")))||void 0===o?void 0:o.UserId,A=v.UserId===P;(0,r.useEffect)((()=>{(async()=>{try{const e=(0,k.JU)(y.db,"User",P),o=await(0,k.QT)(e);o.exists()&&O(o.data())}catch(e){console.log(" error")}})()}),[]);const L=encodeURIComponent("Hey, I found your Studio on nritya.co.in. I'm interested"),T=null===W||void 0===W||null===(t=W.BookedOpenClasses)||void 0===t||null===(a=t.includes)||void 0===a?void 0:a.call(t,null===v||void 0===v?void 0:v.id);return(0,I.jsx)(d.Z,{open:l,onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,I.jsxs)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90%",overflow:"auto",width:{xs:"90%",md:"60%"},bgcolor:U?"black":"background.paper",borderWidth:"2px",borderStyle:"solid",borderColor:U?"white":"black",boxShadow:24,p:"1rem",borderRadius:"8px"},children:[(0,I.jsxs)(h.ZP,{container:!0,spacing:"8px",rowGap:3,children:[(0,I.jsx)(h.ZP,{item:!0,xs:12,lg:8,sx:{minHeight:"300px"},children:(0,I.jsx)("img",{src:v.imageUrl,style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"8px"}})}),(0,I.jsxs)(h.ZP,{item:!0,xs:12,lg:4,children:[(0,I.jsxs)(c.Z,{sx:{height:"100%",bgcolor:U?"#333333":"#efefef",p:2,borderRadius:"8px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,I.jsxs)(c.Z,{sx:{flex:1},children:[(0,I.jsx)(x.Z,{variant:"h6",component:"p",sx:{color:U?"white":"black"},children:f()(v.date).format("LL")}),(0,I.jsx)(x.Z,{variant:"h6",component:"p",sx:{color:U?"white":"black"},children:v.time}),(0,I.jsx)(x.Z,{variant:"body1",component:"p",sx:{mt:"2rem",color:U?"white":"black"},children:v.venue})]}),(0,I.jsx)(c.Z,{sx:{mt:"2rem",textAlign:"right"},children:!R&&!A&&P&&(0,I.jsx)(u.Z,{variant:"outlined",onClick:async()=>{try{B(!0),(0,k.ET)((0,k.hJ)(y.db,b.Ul.BOOKINGS),{StudioId:v.StudioId,OpenClassId:v.id,UserId:P,bookingDate:Date.now()});const e=(0,k.JU)(y.db,"User",P),o=await(0,k.QT)(e);o.exists()&&null!=o.data()&&await(0,k.r7)(e,{BookedOpenClasses:[...o.data().BookedOpenClasses||[],v.id]}),O((e=>({...e,BookedOpenClasses:[...(null===e||void 0===e?void 0:e.BookedOpenClasses)||[],v.id]}))),z("Open class booked","success")}catch(e){console.error(e),z((null===e||void 0===e?void 0:e.message)||"Something went wrong","error")}finally{B(!1)}},disabled:T||D,sx:{boxShadow:"none",textTransform:"none",fontSize:16,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"transparent",borderColor:U?"white":"black",color:U?"white":"black","&:hover":{backgroundColor:"transparent",borderColor:U?"white":"black",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"transparent",borderColor:U?"white":"black"},"&:focus":{boxShadow:"none"}},children:T?"Booked":"Book Now"})})]}),!R&&!A&&P&&(0,I.jsx)(x.Z,{component:"p",variant:"caption",sx:{my:"2px",color:U?"white":"black",textAlign:"center"},children:"Book your spot"})]}),(0,I.jsxs)(h.ZP,{item:!0,sx:{mt:1},children:[(0,I.jsxs)(x.Z,{variant:"h5",component:"p",sx:{color:U?"white":"black"},children:[v.openClassName||"",v.danceStyles.map((e=>` | ${e}`))]}),(0,I.jsxs)(x.Z,{variant:"body1",component:"p",sx:{mt:1,color:U?"white":"black"},children:[(0,I.jsxs)("span",{children:["By ",(null===(i=v.studioDetails)||void 0===i?void 0:i.studioName)||""]}),v.studioDetails&&(null===(n=v.studioDetails)||void 0===n?void 0:n.whatsappNumber)&&(0,I.jsx)(p.Z,{color:"success",size:"small",target:"_blank",href:`https://wa.me/91${v.studioDetails.whatsappNumber}?text=${L}`,children:(0,I.jsx)("img",{src:Z,alt:"Whatsapp call",style:{width:30,height:28}})}),v.studioDetails&&(null===(s=v.studioDetails)||void 0===s?void 0:s.mobileNumber)&&(0,I.jsx)(p.Z,{color:"primary",size:"small",target:"_blank",href:`tel:${v.studioDetails.mobileNumber}`,children:(0,I.jsx)("img",{src:C,alt:"Phone call",style:{width:30,height:28}})})]}),(0,I.jsx)(x.Z,{variant:"body1",component:"p",sx:{mt:2,color:U?"white":"black"},children:v.description||""})]})]}),(0,I.jsxs)(c.Z,{sx:{mt:"1rem",textAlign:"right"},children:[R&&A&&(0,I.jsx)(u.Z,{onClick:()=>null!==v&&void 0!==v&&v.active?N(null===v||void 0===v?void 0:v.id):w(null===v||void 0===v?void 0:v.id),variant:"outlined",sx:{mr:"1rem",color:"white",boxShadow:"none",border:"1px solid",backgroundColor:null!==v&&void 0!==v&&v.active?"red":"green",borderColor:"white",color:"white","&:hover":{backgroundColor:null!==v&&void 0!==v&&v.active?"red":"green",borderColor:"white",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:null!==v&&void 0!==v&&v.active?"red":"green",borderColor:"white"},"&:focus":{boxShadow:"none"}},children:null!==v&&void 0!==v&&v.active?"Deactivate":"Activate"}),(0,I.jsx)(u.Z,{onClick:m,variant:"outlined",sx:{color:"white",boxShadow:"none",border:"1px solid",backgroundColor:"transparent",borderColor:U?"white":"black",color:U?"white":"black","&:hover":{backgroundColor:"transparent",borderColor:U?"white":"black",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"transparent",borderColor:U?"white":"black"},"&:focus":{boxShadow:"none"}},children:"Close"})]})]})})}function R(e){var o;let{dataItem:t,activateOpenClass:d,deactivateOpenClass:h,actionsAllowed:x}=e;const u=(0,g.v9)(j.w),[p,w]=(0,r.useState)(null),[f,y]=(0,r.useState)(!1),k=t.id;(0,r.useEffect)((()=>{(async()=>{try{const e=await(0,v.Us)(b.Rb.OPENCLASSICON,k);w(e||"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg")}catch(e){console.error("Error fetching image URL:",e)}})()}),[t.id]);const S={backgroundColor:u?"#444":"white",padding:"0px",color:u?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(i.Z,{variant:"solid",sx:{...S,"&:hover":{transform:"scale(1.01)",cursor:"pointer"},flex:"none"},onClick:()=>y(!0),children:[(0,I.jsxs)(a.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,I.jsx)("img",{src:p,loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",objectFit:"cover",overflow:"hidden"}}),(0,I.jsx)(m.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:t&&t.danceStyles?t.danceStyles.slice(0,3).map(((e,o)=>(0,I.jsx)(s.Z,{color:o%2===0?"danger":"success",style:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem"},children:e.trim()},o))):(0,I.jsx)(s.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)})]}),(0,I.jsxs)(n.Z,{style:{padding:"10px",paddingTop:"5px"},children:[(0,I.jsxs)(c.Z,{fontWeight:"md",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,style:{color:u?"white":"black",extDecoder:"one"},children:[(0,I.jsx)("span",{children:t&&t.openClassName?t.openClassName:""}),!(null!==t&&void 0!==t&&t.active)&&(0,I.jsx)("span",{style:{marginLeft:"2px",padding:"2px 4px",fontSize:"14px",borderRadius:"4px",background:"red"},children:"Inactive"})]}),(0,I.jsxs)(l.ZP,{style:{color:u?"white":"black"},level:"body-xs",noWrap:!0,children:["By ",null!==(o=t.studioDetails)&&void 0!==o&&o.studioName?t.studioDetails.studioName:""]}),(0,I.jsx)(l.ZP,{style:{marginTop:10,color:u?"white":"black"},level:"body-xs",noWrap:!0,children:t.venue?t.venue:""}),(0,I.jsxs)(l.ZP,{style:{color:u?"white":"black"},level:"body-xs",children:[t.date||""," | ",t.time||""]})]})]}),(0,I.jsx)(N,{dataItem:{...t,imageUrl:p},open:f,handleClose:()=>y(!1),activateOpenClass:d,deactivateOpenClass:h,actionsAllowed:x})]})}const z=e=>{let{dataList:o,deleteOpenClass:t,actionsAllowed:r,activateOpenClass:a,deactivateOpenClass:i}=e;return(0,I.jsx)("div",{className:"horizontal-scroll-wrapper",children:o.map(((e,o)=>(0,I.jsx)(R,{dataItem:e,activateOpenClass:a,deactivateOpenClass:i,actionsAllowed:r},e.id)))})}},88726:(e,o,t)=>{t.d(o,{Z:()=>d});var r=t(72791),a=t(59135),i=t(59434),n=t(60717),s=t(80184);const l={small:16,medium:24,large:32},d=e=>{let{rating:o,onRatingChange:t,viewMode:d,starSize:c="small"}=e;const[h,x]=(0,r.useState)(0),u=(0,i.v9)(n.w),p=()=>{d||x(0)},m=e=>{const r=(h||o)>=e,i=e-.5<=(h||o)&&(h||o)<e,n={key:e,style:d?{cursor:"default"}:{cursor:"pointer"},onClick:()=>(e=>{d||t(e)})(e),onMouseOver:()=>(e=>{d||x(e)})(e),onMouseLeave:p};return(0,s.jsx)("span",{...n,children:r?(0,s.jsx)(a.QJe,{size:l[c],color:"#ffc107"}):i?(0,s.jsx)(a._on,{size:l[c],color:"#ffc107"}):(0,s.jsx)(a.QJe,{size:l[c],color:"#e4e5e9"})})};return(0,s.jsxs)("div",{style:{color:u?"white":"black"},children:[(()=>{const e=[];for(let o=1;o<=5;o++)e.push(m(o));return e})()," ",o<=0?"Not rated yet":o?o.toFixed(1):o]})}},76785:(e,o,t)=>{t.d(o,{Z:()=>z});t(11518);var r=t(72791),a=t(92552),i=t(84654),n=t(28658),s=t(69597),l=t(83168),d=t(88447),c=t(697),h=t(61889),x=t(20890),u=t(94294),p=t(13400),m=t(36314),g=t(59434),b=t(83708),v=t(68449),j=t(60717),w=t(97892),f=t.n(w),y=t(12481),k=t(10159),S=t(75424),Z=t(49071),C=t(10884),I=t(80184);function N(e){var o,t,a,i,n,s;let{open:l,handleClose:m,dataItem:v,activateWorkshop:w,deactivateWorkshop:N,actionsAllowed:R}=e;const z=(0,S.D)(),U=(0,g.v9)(j.w),[D,B]=(0,r.useState)(!1),[W,O]=(0,r.useState)(null),P=null===(o=JSON.parse(localStorage.getItem("userInfo")))||void 0===o?void 0:o.UserId;(0,r.useEffect)((()=>{(async()=>{try{const e=(0,y.JU)(k.db,"User",P),o=await(0,y.QT)(e);o.exists()&&O(o.data())}catch(e){console.log(" error")}})()}),[]);const A=v.UserId===P,L=encodeURIComponent("Hey, I found your Studio on nritya.co.in. I'm interested"),T=null===W||void 0===W||null===(t=W.BookedWorkshops)||void 0===t||null===(a=t.includes)||void 0===a?void 0:a.call(t,null===v||void 0===v?void 0:v.id);return(0,I.jsx)(d.Z,{open:l,onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,I.jsxs)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90%",overflow:"auto",width:{xs:"90%",md:"60%"},bgcolor:U?"black":"background.paper",borderWidth:"2px",borderStyle:"solid",borderColor:U?"white":"black",boxShadow:24,p:"1rem",borderRadius:"8px"},children:[(0,I.jsxs)(h.ZP,{container:!0,spacing:"8px",rowGap:2,children:[(0,I.jsx)(h.ZP,{item:!0,xs:12,lg:8,children:(0,I.jsx)("img",{src:v.imageUrl,style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"8px"}})}),(0,I.jsxs)(h.ZP,{item:!0,xs:12,lg:4,children:[(0,I.jsxs)(c.Z,{sx:{height:"100%",bgcolor:U?"#333333":"#efefef",p:2,borderRadius:"8px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,I.jsxs)(c.Z,{sx:{flex:1},children:[(0,I.jsx)(x.Z,{variant:"h6",component:"p",sx:{color:U?"white":"black"},children:f()(v.date).format("LL")}),(0,I.jsx)(x.Z,{variant:"h6",component:"p",sx:{color:U?"white":"black"},children:v.time}),(0,I.jsx)(x.Z,{variant:"body1",component:"p",sx:{mt:"2rem",color:U?"white":"black"},children:v.venue})]}),(0,I.jsxs)(c.Z,{sx:{mt:"2rem",display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,I.jsxs)(x.Z,{variant:"h5",sx:{alignSelf:"center",color:U?"white":"black"},children:["\u20b9",v.price]}),!R&&!A&&P&&(0,I.jsx)(u.Z,{variant:"outlined",onClick:async()=>{try{B(!0),(0,y.ET)((0,y.hJ)(k.db,b.Ul.BOOKINGS),{StudioId:v.StudioId,WorkshopId:v.id,UserId:P,bookingDate:Date.now()});const e=(0,y.JU)(k.db,"User",P),o=await(0,y.QT)(e);o.exists()&&null!=o.data()&&await(0,y.r7)(e,{BookedWorkshops:[...o.data().BookedWorkshops||[],v.id]}),O((e=>({...e,BookedWorkshops:[...(null===e||void 0===e?void 0:e.BookedWorkshops)||[],v.id]}))),z("Workshop booked","success")}catch(e){console.error(e),z((null===e||void 0===e?void 0:e.message)||"Something went wrong","error")}finally{B(!1)}},disabled:T||D,sx:{alignSelf:"center",boxShadow:"none",textTransform:"none",fontSize:16,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"transparent",borderColor:U?"white":"black",color:U?"white":"black","&:hover":{backgroundColor:"transparent",borderColor:U?"white":"black",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"transparent",borderColor:U?"white":"black"},"&:focus":{boxShadow:"none"}},children:T?"Booked":"Book Now"})]})]}),!R&&!A&&P&&(0,I.jsx)(x.Z,{component:"p",variant:"caption",sx:{my:"2px",color:U?"white":"black",textAlign:"center"},children:"Book here and pay at the venue"})]}),(0,I.jsxs)(h.ZP,{item:!0,sx:{mt:1},children:[(0,I.jsxs)(x.Z,{variant:"h5",component:"p",sx:{color:U?"white":"black"},children:[v.workshopName||"",v.danceStyles.map((e=>` | ${e}`))]}),(0,I.jsxs)(x.Z,{variant:"body1",component:"p",sx:{mt:1,color:U?"white":"black"},children:[(0,I.jsxs)("span",{children:["By ",(null===(i=v.studioDetails)||void 0===i?void 0:i.studioName)||""]}),v.studioDetails&&(null===(n=v.studioDetails)||void 0===n?void 0:n.whatsappNumber)&&(0,I.jsx)(p.Z,{color:"success",size:"small",target:"_blank",href:`https://wa.me/91${v.studioDetails.whatsappNumber}?text=${L}`,children:(0,I.jsx)("img",{src:Z,alt:"Whatsapp call",style:{width:30,height:28}})}),v.studioDetails&&(null===(s=v.studioDetails)||void 0===s?void 0:s.mobileNumber)&&(0,I.jsx)(p.Z,{color:"primary",size:"small",target:"_blank",href:`tel:${v.studioDetails.mobileNumber}`,children:(0,I.jsx)("img",{src:C,alt:"Phone call",style:{width:30,height:28}})})]}),(0,I.jsx)(x.Z,{variant:"body1",component:"p",sx:{mt:2,color:U?"white":"black"},children:v.description||""})]})]}),(0,I.jsxs)(c.Z,{sx:{mt:"1rem",textAlign:"right"},children:[R&&A&&(0,I.jsx)(u.Z,{onClick:()=>null!==v&&void 0!==v&&v.active?N(null===v||void 0===v?void 0:v.id):w(null===v||void 0===v?void 0:v.id),variant:"outlined",sx:{mr:"1rem",color:"white",boxShadow:"none",border:"1px solid",backgroundColor:null!==v&&void 0!==v&&v.active?"red":"green",borderColor:"white",color:"white","&:hover":{backgroundColor:null!==v&&void 0!==v&&v.active?"red":"green",borderColor:"white",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:null!==v&&void 0!==v&&v.active?"red":"green",borderColor:"white"},"&:focus":{boxShadow:"none"}},children:null!==v&&void 0!==v&&v.active?"Deactivate":"Activate"}),(0,I.jsx)(u.Z,{onClick:m,variant:"outlined",sx:{color:"white",boxShadow:"none",border:"1px solid",backgroundColor:"transparent",borderColor:U?"white":"black",color:U?"white":"black","&:hover":{backgroundColor:"transparent",borderColor:U?"white":"black",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"transparent",borderColor:U?"white":"black"},"&:focus":{boxShadow:"none"}},children:"Close"})]})]})})}function R(e){var o;let{actionsAllowed:t,dataItem:d,activateWorkshop:h,deactivateWorkshop:x}=e;const u=(0,g.v9)(j.w),[p,w]=(0,r.useState)(null),[f,y]=(0,r.useState)(!1),k=d.id;(0,r.useEffect)((()=>{(async()=>{try{const e=await(0,v.Us)(b.Rb.WORKSHOPICON,k);w(e||"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg")}catch(e){console.error("Error fetching image URL:",e)}})()}),[d.id]);const S={backgroundColor:u?"#444":"white",padding:"0px",color:u?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(i.Z,{variant:"solid",sx:{...S,"&:hover":{transform:"scale(1.01)",cursor:"pointer"},flex:"none"},onClick:()=>y(!0),children:[(0,I.jsxs)(a.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,I.jsx)("img",{src:p,loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",objectFit:"cover",overflow:"hidden"}}),(0,I.jsx)(m.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:d&&d.danceStyles?d.danceStyles.slice(0,3).map(((e,o)=>(0,I.jsx)(s.Z,{color:o%2===0?"danger":"success",style:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem"},children:e.trim()},o))):(0,I.jsx)(s.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)})]}),(0,I.jsxs)(n.Z,{style:{padding:"10px",paddingTop:"5px"},children:[(0,I.jsxs)(c.Z,{fontWeight:"md",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,style:{color:u?"white":"black",extDecoder:"one"},children:[(0,I.jsx)("span",{children:d&&d.workshopName?d.workshopName:""}),!(null!==d&&void 0!==d&&d.active)&&(0,I.jsx)("span",{style:{marginLeft:"2px",padding:"2px 4px",fontSize:"14px",borderRadius:"4px",background:"red"},children:"Inactive"})]}),(0,I.jsxs)(l.ZP,{style:{color:u?"white":"black"},level:"body-xs",noWrap:!0,children:["By ",null!==(o=d.studioDetails)&&void 0!==o&&o.studioName?d.studioDetails.studioName:""]}),(0,I.jsx)(l.ZP,{style:{marginTop:10,color:u?"white":"black"},level:"body-xs",noWrap:!0,children:d.venue?d.venue:""}),(0,I.jsxs)(l.ZP,{style:{color:u?"white":"black"},level:"body-xs",children:[d.date||""," | ",d.time||""]})]})]}),(0,I.jsx)(N,{dataItem:{...d,imageUrl:p},open:f,handleClose:()=>y(!1),activateWorkshop:h,deactivateWorkshop:x,actionsAllowed:t})]})}const z=e=>{let{actionsAllowed:o,dataList:t,activateWorkshop:r,deactivateWorkshop:a}=e;return(0,I.jsx)("div",{className:"horizontal-scroll-wrapper",children:t.map(((e,t)=>(0,I.jsx)(R,{dataItem:e,activateWorkshop:r,deactivateWorkshop:a,actionsAllowed:o},e.id)))})}},92709:(e,o,t)=>{t.r(o),t.d(o,{default:()=>Q});var r=t(72791),a=t(57689),i=t(47022),n=t(89743),s=t(2677),l=t(44266),d=t(43360),c=t(45736),h=t(10159),x=t(12481),u=t(83708),p=t(59135),m=t(2040),g=t(80184);const b=e=>{let{text:o}=e;return(0,g.jsxs)("div",{style:{position:"relative",textAlign:"center"},children:[(0,g.jsx)(p.Nh4,{style:{color:"green",fontSize:"44px"}}),(0,g.jsx)("div",{style:{position:"absolute",top:"25px",left:"-20px",backgroundColor:"white",padding:"5px",borderRadius:"5px"},children:o})]})},v=e=>{let{selectedLocationParam:o}=e;const[t,a]=(0,r.useState)(o||{lat:28.6139,lng:77.209}),[i,n]=(0,r.useState)(o||null);return(0,g.jsxs)("div",{style:{height:"200px",width:"100%"},children:[(0,g.jsx)("div",{}),(0,g.jsx)(m.ZP,{bootstrapURLKeys:{key:h.z4.key},center:t,defaultZoom:15,children:i&&(0,g.jsx)(b,{lat:i.lat,lng:i.lng})})]})};var j=t(88726);const w=function(e){let{userID:o,studioID:t}=e;const[a,i]=(0,r.useState)(-1),[n,s]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const e=(0,x.JU)(h.db,"Studio",t),r=await(0,x.QT)(e);if(r.exists()){const e=r.data();s(e.avgRating)}if(o){const e=(0,x.JU)(h.db,"Ratings",`${o}_${t}`),r=await(0,x.QT)(e);if(r.exists()){const e=r.data().rating;i(e)}else i(-1)}}catch(e){console.error("Error fetching average rating:",e)}})()}),[t,o]);const l=async e=>{if(!o)return void(window.location.href="#/login");const r=(0,x.JU)(h.db,"Ratings",`${o}_${t}`),a={userID:o,studioID:t,rating:e};try{const o=await(0,x.QT)(r);if(o.exists()){const n=o.data().rating,l=(0,x.JU)(h.db,"Studio",t),d=await(0,x.QT)(l);if(d.exists()){const o=d.data();let t=o.totalRating||0,c=o.ratedBy||0,h=o.avgRating||0;t=t-n+e,h=t/c,await(0,x.r7)(l,{totalRating:t,ratedBy:c,avgRating:h}),await(0,x.r7)(r,a),i(e),s(h)}else console.error("Studio document does not exist.")}else{await(0,x.pl)(r,a);const o=(0,x.JU)(h.db,"Studio",t),n=await(0,x.QT)(o);if(n.exists()){const t=n.data();let r=t.totalRating||0,a=t.ratedBy||0,l=t.avgRating||0;r+=e,a+=1,l=a>0?r/a:0,await(0,x.r7)(o,{totalRating:r,ratedBy:a,avgRating:l}),i(e),s(l)}else console.error("Studio document does not exist.")}}catch(n){console.error("Error updating rating or studio data:",n)}};return(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:o?""+(-1!==a?"":"You have not rated this studio yet."):(0,g.jsx)("a",{href:"#/login",children:(0,g.jsx)(j.Z,{rating:a,onRatingChange:l,starSize:window.innerWidth>992?"large":window.innerWidth>768?"medium":"small"})})}),o?(0,g.jsx)(j.Z,{rating:a>0?a:"",onRatingChange:l,viewMode:!1,starSize:window.innerWidth>992?"large":window.innerWidth>768?"medium":"small"}):null]})};var f=t(59434),y=t(60717),k=t(47047),S=t(57621),Z=t(39504),C=t(20890);const I=function(e){let{data:o,title:t,type:r,subtitle:a=null}=e,i=(0,f.v9)(y.w);"aboutFounder"===r&&(i=!0);const n={display:"flex",alignItems:"center",justifyContent:"center",maxHeight:"250rem",backgroundColor:i?"#000":"#fff",color:i?"#fff":"#000",boxShadow:"1em 1em 1em 1em rgba(0, 0, 0, 0.1)",cursor:"pointer",borderRadius:"0.75rem"};return(0,g.jsx)(S.Z,{sx:n,children:(0,g.jsxs)(Z.Z,{sx:{padding:"1rem",color:n.color},children:["aboutStudio"!==r&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C.Z,{variant:"h5",component:"h5",sx:{position:"relative",padding:"0.1rem",paddingTop:"0.5rem",fontSize:"25px",textTransform:"capitalize",color:n.color},children:t}),a&&(0,g.jsx)(C.Z,{variant:"subtitle1",component:"p",sx:{position:"relative",padding:"0.1rem",paddingTop:"0.1rem",paddingBottom:"0.5rem",fontSize:"15px",textTransform:"capitalize",color:n.color,fontStyle:"italic"},children:a})]}),o]})})};var N=t(95316),R=t(24849),z=t(95070),U=t(62591),D=t(61224),B=t(74569),W=t.n(B),O=t(61221);function P(e){if(Array.isArray(e))return e.map((e=>e.split("-")[0])).join(",");if("string"===typeof e)return e.split("-")[0];throw new Error("Invalid input type")}const A=e=>{let{studioData:o,studioId:t}=e;const{currentUser:a}=(0,D.a)(),i=a?a.uid:null,n=(0,f.v9)(y.w),[s,l]=(0,r.useState)(!1),[c,h]=(0,r.useState)(""),[x,p]=(0,r.useState)(!1);console.log(o);const m=e=>{const o=u.A3+"bookings/freeTrial/";i?(l(!0),p(!0),W().post(o,{studioId:t,classIndex:e,userId:i}).then((e=>{console.log(e.data),p(!1),201===e.data.nSuccessCode?h("Booked Successfully. Booking Id: "+e.data["Booking Id"]):202===e.data.nSuccessCode&&h("You have booked before. Booking Id: "+e.data["Booking Id"])})).catch((e=>{p(!1),h("Error occurred while booking. Please try again later."),console.error("Error in bookFreeTrial:",e)})),setTimeout((()=>{l(!1)}),2e4)):alert("Please Login")};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N.Z,{show:s,onHide:()=>l(!1),backdrop:"static",keyboard:!1,children:(0,g.jsx)(N.Z.Body,{children:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{style:{textAlign:"center"},children:[(0,g.jsx)("img",{src:O,alt:"Nritya Icon",style:{width:"4rem",borderRadius:"50%"}}),(0,g.jsx)("hr",{}),x?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.Z,{animation:"border",role:"status",children:(0,g.jsx)("span",{className:"sr-only",children:"Loading..."})}),(0,g.jsx)("p",{children:"Booking in progress..."})]}):(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{style:{textAlign:"center"},children:[(0,g.jsx)("p",{children:c}),(0,g.jsx)(d.Z,{variant:"secondary",onClick:()=>l(!1),children:"Close"})]})})]})})})}),(0,g.jsx)("div",{className:"horizontal-scroll-wrapper-table",style:{backgroundColor:n?"#202020":"white"},children:Object.keys(o.tableData).map(((e,t)=>{const r=o.tableData[e];let a="N/A";return r.instructors&&(a=P(r.instructors)),(0,g.jsx)(z.Z,{style:{minWidth:"400px",backgroundColor:n?"#202020":"white"},children:(0,g.jsx)(U.Z,{bordered:!0,className:"custom-table "+(n?"dark-mode":""),style:{borderRadius:"5px"},children:(0,g.jsx)("tbody",{children:[{label:"Class Name",value:r.className||""},{label:"Dance Forms",value:r.danceForms||""},{label:"Days",value:r.days||""},{label:"Time",value:r.time||""},{label:"Instructors",value:a||""},{label:"Level",value:r.level||"N/A"},{label:"Fee (\u20b9)",value:r.fee||"N/A"},{label:"Book Free Trial",value:(0,g.jsx)(d.Z,{className:"custom-button",onClick:()=>m(t),children:(0,g.jsx)(C.Z,{sx:{color:n?"white":"black",width:"100%",textAlign:"center"},children:"BOOK"})})}].map(((e,o)=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{color:"white",backgroundColor:n?"#121212":"black"},children:e.label}),(0,g.jsx)("td",{style:{backgroundColor:n?"#444":"white",color:n?"white":"black",textAlign:"center",padding:0},children:e.value})]},o)))})})},t)}))})]})};var L=t(87472),T=t(76785),F=t(707),E=t(59777),$=t(83168),_=t(81918),J=t(61889),H=t(33050);const Q=function(e){let{studioContactNumber:o,studioWhatsAppNumber:t}=e;const{studioId:m}=(0,a.UO)();console.log("From StudioFullPage",m);const b=(0,f.v9)(y.w),[S,Z]=((0,r.useRef)(null),(0,r.useState)(null)),[C,N]=(0,r.useState)([]),[R,z]=(0,r.useState)([]),[U,D]=(0,r.useState)([]),[B,O]=(0,r.useState)([]),[P,Q]=(0,r.useState)([]),K="https://nrityaserver-2b241e0a97e5.herokuapp.com/api/studio/";(0,r.useEffect)((()=>{(async()=>{try{if(JSON.parse(localStorage.getItem("userInfo"))&&JSON.parse(localStorage.getItem("userInfo")).UserId){(async(e,o)=>{try{const t=(0,x.JU)(h.db,u.Ul.USER,e),r=await(0,x.QT)(t),a=r.exists()?r.data().recentlyWatched:{};if(Object.values(a).includes(o)){const e={};let r=1;console.log(a);for(const t in a)a[t]!==o&&(e[r]=a[t],r++);e[0]=o,await(0,x.r7)(t,{recentlyWatched:e})}else{const e={...a};for(let o=Object.keys(e).length-1;o>=0;o--)0===o?delete e[o]:e[o]=e[o-1];e[0]=o,console.log(e),await(0,x.r7)(t,{recentlyWatched:e})}}catch(t){console.error("Error updating recently watched in Firebase:",t)}})(JSON.parse(localStorage.getItem("userInfo")).UserId,m)}const e=(await W().get(`${K}${m}/text/`)).data;Z(e);const o=(await W().get(`${K}${m}/images/`)).data;o&&o.StudioImages&&N(o.StudioImages),o&&o.StudioAnnouncements&&z(o.StudioAnnouncements),console.log(S)}catch(e){console.error(e)}})()}),[]);const G=encodeURIComponent("Hey, I found your Studio on nritya.co.in. I'm interested");return(0,r.useEffect)((()=>{(async()=>{const e=(0,x.IO)((0,x.hJ)(h.db,u.Ul.WORKSHOPS),(0,x.ar)("StudioId","==",m),(0,x.ar)("active","==",!0)),o=(await(0,x.PL)(e)).docs.filter((e=>e.data().workshopName)).map((e=>{const o=e.data();return{id:e.id,...o}}));D(o)})()}),[]),(0,r.useEffect)((()=>{(async()=>{const e=(0,x.IO)((0,x.hJ)(h.db,u.Ul.OPEN_CLASSES),(0,x.ar)("StudioId","==",m),(0,x.ar)("active","==",!0)),o=(await(0,x.PL)(e)).docs.filter((e=>e.data().openClassName)).map((e=>{const o=e.data();return{id:e.id,...o}}));O(o)})()}),[]),(0,r.useEffect)((()=>{(async()=>{const e=(0,x.IO)((0,x.hJ)(h.db,u.Ul.COURSES),(0,x.ar)("StudioId","==",m),(0,x.ar)("active","==",!0)),o=(await(0,x.PL)(e)).docs.filter((e=>e.data().name)).map((e=>{const o=e.data();return{id:e.id,...o}}));Q(o)})()}),[]),(0,g.jsxs)(i.Z,{fluid:!0,style:{backgroundColor:b?"#202020":"white",color:b?"white":"color"},children:[(0,g.jsxs)(H.ql,{children:[(0,g.jsx)("title",{children:S?S.studioName:"Dance Studio"}),(0,g.jsx)("meta",{name:"description",content:`Learn ${S?S.danceStyles:""}`})]}),(0,g.jsxs)(n.Z,{children:[(0,g.jsx)(s.Z,{lg:8,className:"d-flex",children:(0,g.jsxs)("div",{className:"contentWrapper-main",children:[(0,g.jsxs)("div",{className:"headerArea",children:[(0,g.jsx)("div",{className:"title-m",children:(0,g.jsx)($.ZP,{variant:"h1",component:"h1",style:{color:b?"white":"black",fontSize:"24px"},children:S?S.studioName:""})}),(0,g.jsx)("div",{className:"userRating",children:S&&S.avgRating?(0,g.jsx)(j.Z,{rating:S.avgRating,viewMode:!0}):""})]}),(0,g.jsx)("div",{className:"socialRatings",children:S&&(S.facebook||S.youtube||S.instagram||S.twitter)&&(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"left"},children:[S.youtube&&(0,g.jsx)("a",{href:S.youtube,target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)(p.V2E,{className:"genericHoverEffect",style:{color:b?"#fff":"#000",fontSize:"24px",marginRight:"10px"}})}),S.facebook&&(0,g.jsx)("a",{href:S.facebook,target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)(p.Am9,{className:"genericHoverEffect",style:{color:b?"#fff":"#000",fontSize:"24px",marginRight:"10px"}})}),S.instagram&&(0,g.jsx)("a",{href:S.instagram,target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)(p.Zf_,{className:"genericHoverEffect",style:{color:b?"#fff":"#000",fontSize:"24px",marginRight:"0px"}})}),S.twitter&&(0,g.jsx)("a",{href:S.twitter,target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)(p.fWC,{className:"genericHoverEffect",style:{color:b?"#fff":"#000",fontSize:"24px"}})})]})}),(0,g.jsx)("div",{className:"textWrapper",style:{paddingBottom:"0.5rem"},children:S&&S.aboutStudio?(0,g.jsx)(I,{data:S.aboutStudio,type:"aboutStudio"}):""})]})}),(0,g.jsx)(s.Z,{lg:4,xs:12,className:"d-flex",children:S&&S.aboutFounder?(0,g.jsx)(I,{data:S.aboutFounder,type:"aboutFounder",title:S.founderName?S.founderName:"No name",subtitle:"Founder"}):""}),(0,g.jsx)(s.Z,{lg:4,xs:12,className:"d-flex",children:(0,g.jsx)("div",{className:"socialConnectFeature",children:(0,g.jsxs)(l.Z,{direction:"horizontal",gap:1,children:[S&&S.whatsappNumber&&(0,g.jsx)(d.Z,{className:"custom-btn-wa",size:"md",style:{color:"white"},children:(0,g.jsxs)("a",{href:`https://wa.me/91${S.whatsappNumber}?text=${G}`,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"transparent",color:"white"},children:["Text Studio ",(0,g.jsx)(p.xpo,{style:{marginLeft:"2px"}})]})}),S&&S.mobileNumber&&(0,g.jsx)(d.Z,{className:"custom-btn",size:"md",children:(0,g.jsxs)("a",{href:`tel:${S.mobileNumber}`,rel:"noopener noreferrer",style:{backgroundColor:"transparent",color:"white"},children:["Call Studio ",(0,g.jsx)(p.DNl,{style:{marginLeft:"2px"}})]})})]})})})]}),(0,g.jsx)("br",{}),(0,g.jsx)(n.Z,{children:(0,g.jsxs)(s.Z,{children:[(0,g.jsx)($.ZP,{variant:"h1",component:"h2",style:{color:b?"white":"black",fontSize:"20px",textTransform:"capitalize"},children:"Dance Styles"}),S&&S.danceStyles?S.danceStyles.split(",").map(((e,o)=>(0,g.jsx)(c.Z,{pill:!0,className:"genericHoverEffect",bg:o%4===0?"danger":o%4===1?"warning":o%4===2?"success":"info",style:{marginRight:"1rem",fontSize:"0.8rem"},children:e},o))):(0,g.jsx)("div",{})]})}),(0,g.jsx)("br",{}),(0,g.jsx)(n.Z,{children:C.length?(0,g.jsx)(L.default,{dataList:C,imgOnly:!0}):(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(n.Z,{children:[(0,g.jsx)(k.Z,{variant:"rectangular",animation:"wave",sx:{paddingRight:"0.5rem"},width:"240",height:300}),(0,g.jsx)(k.Z,{variant:"rectangular",animation:"wave",sx:{paddingRight:"0.5rem"},width:"240",height:300})]})})}),(0,g.jsx)("br",{}),(0,g.jsx)(n.Z,{children:(0,g.jsx)(s.Z,{children:(0,g.jsx)($.ZP,{variant:"h1",component:"h2",style:{color:b?"white":"black",fontSize:"20px",textTransform:"capitalize"},children:"Class Schedule"})})}),(0,g.jsx)("br",{}),(0,g.jsx)(n.Z,{children:(0,g.jsx)(s.Z,{children:S&&S.tableData?(0,g.jsx)(A,{studioData:S,studioId:m}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(n.Z,{children:(0,g.jsx)(k.Z,{variant:"rectangular",animation:"wave",width:"100%",height:340})})})})}),(0,g.jsx)("br",{}),(0,g.jsxs)(n.Z,{children:[(0,g.jsxs)(n.Z,{children:[R.length>0&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)($.ZP,{variant:"h1",component:"h2",style:{color:b?"white":"black",fontSize:"20px",textTransform:"capitalize"},children:"Announcements"})}),R.length>0&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(L.default,{dataList:R,imgOnly:!0})})]}),(0,g.jsx)($.ZP,{variant:"h1",component:"h2",style:{color:b?"white":"black",color:b?"white":"black",fontSize:"20px",textTransform:"capitalize"},children:"Amenities"}),(0,g.jsx)(s.Z,{lg:12,children:S&&S.addAmenities&&S.addAmenities.split(",").map(((e,o)=>{const t=e.trim();let a=u.QP[t];return(0,g.jsx)(_.Z,{icon:a&&r.cloneElement(a,{style:{color:b?"white":"black"}}),label:t,style:{marginRight:"1rem",marginBottom:"0.5rem",alignItems:"center"},sx:{backgroundColor:b?"black":"",color:b?"white":"black",marginRight:"0.5rem",marginBottom:"0.5rem",paddingRight:"0.5rem",paddingLeft:"0.5rem"}},o)}))})]}),(0,g.jsx)("br",{}),(0,g.jsx)(n.Z,{children:(0,g.jsx)(s.Z,{lg:12,children:S&&S.enrollmentProcess&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)($.ZP,{variant:"h1",component:"h2",style:{color:b?"white":"black",fontSize:"20px",textTransform:"capitalize"},children:"Enrollment Process"}),(0,g.jsx)($.ZP,{variant:"body1",style:{color:b?"white":"black"},whiteSpace:"pre-wrap",children:S.enrollmentProcess})]})})}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsxs)(n.Z,{children:[(0,g.jsxs)(s.Z,{md:3,lg:3,className:"d-flex flex-column",children:[(0,g.jsx)($.ZP,{variant:"h1",component:"h2",style:{color:b?"white":"black",fontSize:"20px"},children:(0,g.jsxs)(J.ZP,{container:!0,alignItems:"center",spacing:1,children:[S&&S.geolocation&&(0,g.jsx)(J.ZP,{item:!0,children:(0,g.jsx)("a",{href:`https://www.google.com/maps?q=${S.geolocation.lat},${S.geolocation.lng}`,target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)(p.qtS,{style:{color:b?"white":"black"}})})}),(0,g.jsx)(J.ZP,{item:!0,style:{textTransform:"capitalize"},children:"Visit Us at:"})]})}),(0,g.jsx)("br",{}),(0,g.jsx)(J.ZP,{container:!0,alignItems:"center",spacing:1,children:S&&(0,g.jsx)($.ZP,{style:{color:b?"white":"black",fontSize:"20px"},children:`${S.buildingName?S.buildingName+(","!==S.buildingName.slice(-1)?", ":""):""}${S.street?S.street+(","!==S.street.slice(-1)?", ":""):""}${S.landmark?S.landmark+(","!==S.landmark.slice(-1)?", ":""):""}${S.city?S.city:""}`})})]}),(0,g.jsx)(s.Z,{md:9,lg:9,children:S&&S.geolocation&&S.geolocation.lat&&S.geolocation.lng?(0,g.jsx)(v,{selectedLocationParam:S.geolocation}):""})]}),(0,g.jsx)("br",{}),U.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("br",{}),(0,g.jsx)(n.Z,{children:(0,g.jsxs)(s.Z,{xs:12,children:[(0,g.jsx)("h3",{style:{color:b?"white":"black"},children:"Studio Workshops"}),(0,g.jsx)(T.Z,{dataList:U})]})})]}),B.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("br",{}),(0,g.jsx)(n.Z,{children:(0,g.jsxs)(s.Z,{xs:12,children:[(0,g.jsx)("h3",{style:{color:b?"white":"black"},children:"Studio Open Classes"}),(0,g.jsx)(F.Z,{dataList:B})]})})]}),P.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("br",{}),(0,g.jsx)(n.Z,{children:(0,g.jsxs)(s.Z,{xs:12,children:[(0,g.jsx)("h3",{style:{color:b?"white":"black"},children:"Studio Courses"}),(0,g.jsx)(E.Z,{dataList:P})]})})]}),(0,g.jsx)("br",{}),(0,g.jsx)(n.Z,{className:"justify-content-center",children:(0,g.jsx)(s.Z,{xs:"auto",children:(0,g.jsx)(w,{userID:JSON.parse(localStorage.getItem("userInfo"))?JSON.parse(localStorage.getItem("userInfo")).UserId:null,studioID:m})})}),(0,g.jsx)("br",{})]})}},11518:()=>{},10884:(e,o,t)=>{e.exports=t.p+"static/media/india_11009487.98ac2ba43166eaa84593.png"},49071:(e,o,t)=>{e.exports=t.p+"static/media/whatsapp.8d81ece5885274edfd73.png"}}]);
//# sourceMappingURL=709.cf046329.chunk.js.map