"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[164],{70830:(e,t,s)=>{s.r(t),s.d(t,{default:()=>B});var i=s(72791),n=s(12481),a=s(61224),l=s(59434),c=s(60717),r=s(10159),d=s(25498),o=s.n(d),h=(s(35125),s(47022)),m=s(95070),x=s(89743),g=s(2677),j=s(95316),u=s(73528),p=s.n(u),k=s(80925),y=s(92592),A=s(43360),b=s(83708);const w=s.p+"static/media/ticket-logo.af24ee631d260bbbf4b9.png",f=s.p+"static/media/ticket-dance-image-1.c724b50d879e15d44648.png",S=s.p+"static/media/ticket-dance-image-2.e3ad1b92ff7555c543aa.png",I=s.p+"static/media/ticket-dance-image-3.24b4c6f2248645e0cf6a.png",N=s.p+"static/media/ticket-dance-image-4.412a071f48395e8e75fa.png";var D=s(80184);const C={IST:"Asia/Kolkata"};const M=function(e){let{studioName:t,className:s,address:i,timing:n,days:a,customerName:l,timestamp:c,bookingId:r}=e;console.log("Received data:",{studioName:t,className:s,address:i,timing:n,days:a,customerName:l,timestamp:c,bookingId:r});const d=b.A3+"bookings/availFreeTrial/"+r;return(0,D.jsxs)("div",{style:{width:"100%"},children:[(0,D.jsxs)("div",{id:"nritya-ticket-container",className:"nritya-ticket-card",children:[(0,D.jsxs)("div",{className:"nritya-ticket-card-header",children:[(0,D.jsx)(y.Z,{style:{width:120,height:104},src:w,alt:"Logo",roundedCircle:!0}),(0,D.jsx)("br",{}),(0,D.jsx)("h4",{style:{fontSize:"30px"},className:"ticket-text",children:s}),(0,D.jsx)("p",{style:{fontSize:"20px"},className:"ticket-text",children:t}),(0,D.jsx)("p",{style:{fontSize:"18px"},className:"ticket-text",children:i}),(0,D.jsxs)("div",{style:{marginTop:"10px",marginBottom:"26px"},className:"d-flex justify-content-around",children:[(0,D.jsx)(y.Z,{style:{width:70,height:70},src:f,alt:"",roundedCircle:!0}),(0,D.jsx)(y.Z,{style:{width:70,height:70},src:S,alt:"",roundedCircle:!0}),(0,D.jsx)(y.Z,{style:{width:70,height:70},src:I,alt:"",roundedCircle:!0}),(0,D.jsx)(y.Z,{style:{width:70,height:70},src:N,alt:"",roundedCircle:!0})]})]}),(0,D.jsxs)("div",{className:"nritya-ticket-card-body",children:[(0,D.jsxs)("p",{className:"ticket-text",children:["Booked by: ",l]}),(0,D.jsx)("div",{style:{margin:"10px 0"},children:(0,D.jsx)(k.ZP,{value:d,style:{height:"150px",width:"150px"}})}),(0,D.jsxs)("p",{className:"ticket-text",children:["Booking ID:",(0,D.jsx)("br",{}),r]}),(0,D.jsxs)("p",{style:{marginTop:20},className:"ticket-text",children:["Valid till 30 days",(0,D.jsx)("br",{}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IST";return p().unix(e).tz(C[t]).format("DD-MM-YYYY HH:mm:ss")}(c)]}),(0,D.jsx)(y.Z,{style:{width:60,height:60},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAxCAYAAACGYsqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZJSURBVHgB7Zp9aJVVHMd/9+7uzq21jXBz7t25Rbqi8I1MMCmhP1RMg7CMkiKjFxWMlJSI3vwjTSklFQkrSiowQanAMMWwF5KEcGyy9+1ubS736lr33u2uz289F9ZtU+99znM3Yl84nOecc5/znO/5nfN7OeeKTGIS/yu4ZBzQ0tJSMDAwsMnlcs0OhUI+j8dzOCcn52fKg+Iw4k64trZ2WmJi4mc8LgnXDQ0NNbnd7nV5eXnficNwS5wB2YdlBFkFks2H9HMSB8SdMLg9ynqjGA/C1VHWG8V4LOmjZBciqptQXnskDnBEabEfXc3NzaWQmIYyauvv728oLS31W23uurq6fK/Xu4HibMo+fvdRQUHBD+zlIXEYxgl3dnZm9PX1vQCR9RSzyetI+yC0H0IDMs4wTtjn861DYgch5w3XQThA+an8/PxPxnpPV0VFRUV2enr64mAwOJ+V4eedw7xjdG8bJ9zY2PglA101StMxBr86XGBZ34bDMReid1G8k1TGe9MjxvST3+9fWVJSclkMwSPmkTBG/bCC1D3MpCyD3CGeM8iTxuqItnlJSUkreTwkhmCcMIP8lmyZjCCuLiPLXOulvb09hfLTpGnX64sJ8aguYDWc4Pc5CQkJHtJF3NA/JUYYN0sQ+5T0PgP9neKg5qTdpCPajkJLJZt3o/2pv83SP8WePk0fJ+l7vdiAI2YJiUxhoPcgjenktSihCzNmzPhL2+rr6xdSfy7Wb9Pf17m5uctjNWFO7GGxyP0nEND929TUtFRsTDQS7rZjrx0hHIny8nJvamrqA5DdzGAXR/FqiFTHOw1M1n1awXO72IDjhIl95xH77mOg82UUnQGR82QXI+uR5BXeOYbD8qOWdbJUiaG194oNOBYPqyPR1ta2gP17gmLmNX73Ifb5yXi4lQrHgoeurq70QCCwS65BVgHROZWVlbeM1a4Thym7WQzBsSXd29u7BjKL9JlBB3l2jfY92gpTUlLUJl/RMho+g2WbjoeVjDmaTRBy/+Dg4G80HRQDcETCOmiyjWJtGWzoSQa9FXL+yN8yD2lkc8NlTNZqfnsJshUUj1onIXPFEIwTrq6uLmHQ70JklpZVuiit3YWFhXtQRDr4SC9Jhb8FpVSqBfbzx2Rf/WuQbneuGIIxwjU1NQU4FXuJc3+BwOMjmo5A9pwqJSbie8qdke/Spsc7O6qqqpI0hGRiXiFvDrczaXliCLYJI5lk0gZOMs5D6HkGmmE1hRhoDVr6Ler8HR0d6ZTfpD5njK4eZLJe1gdMUQXLehuP/VbbxCEMoTSIbIOUamPds2pe1I9W/3nlzJkzq1TTdnd3r2JpLpexTaGH9k1IeY4WkPIXZBo/h3QS1XkRAzCypBlQJZlGRJchd5jnezlj3sJSLtf2hoaGu1FC22lLuU5XqqH3o/QK1D0Fr9PnKR1nVlbWVDEA24SLi4vbyB6DzFoktJS9/AyKpyrsSLCvp1Ov3lHJjfTHewuYnJfUq+IczIfJ0qXdgZnLFANw9OahtbX1Jpb8SR4XRvMt1exkG5m4YdvLsdGjSLqVFXNKbMIxwpZk9WxrhcSGq6QVkD6jBXzyFDuBfxiOENbLMrTsezwq2Zi3DZKuQrJrioqKfhVDMO54sIdvxdH4QGySVbA61Il5WydQDMGYhK3gfhGDfEf+OcIx0rfliBxnxawNn5rY6k8MQKMZbhfWq4tIMUscABN6gIBiK5q7R2zANmGkegcS2GE5FU5jV09Pz/aysrKAxIiYw0P2VSHLTAP3zZBNlTgAKb/IUVEH+c5Yr22ilrBGNXzwCR5Xq1IhT5Q4gm+rj/4GHtnO7OzsPokSURPm1uCMdRA3Lv8PsXAV0geTk5Nfy8zM7I3mxVjMxgGSLcVhAKlM+rMoylclSkRNGM/nc7JHUFSnyXVJxeXwbQT0e10QvoSNPitRIuZlqbcLGizw0Ycgv4QBFInz8JHOspyPY6K+icVEGduHaO2pEFcTNYuJKGZQehmuNlmvQFWL6y3hFM2tu2P9dkDPuSgHrIBBA349j/5DD9xJbZx8NnC4UIn3Vknw0Gr3ONepvzy4CR68aWlpXgachDSGzR+RUwLhnp5hha9OVeMOAxMXUkAuyIVbEC0cxIcecE2Afw1MYhKTmDj4G+Ep7W6lG7leAAAAAElFTkSuQmCC",alt:"",roundedCircle:!0}),(0,D.jsx)("p",{style:{fontSize:24},className:"ticket-text",children:"Admit One for Once"})]})]}),(0,D.jsx)(A.Z,{style:{marginTop:12},variant:"primary",onClick:()=>{const e=document.getElementById("nritya-ticket-container");o()(e,{backgroundColor:null}).then((e=>{const t=e.toDataURL("image/png"),s=document.createElement("a");s.href=t,s.download="my-image.png",s.click()}))},children:"Download Ticket"})]})};const B=function(){const{currentUser:e}=(0,a.a)(),t=e.uid,s=(0,l.v9)(c.w),[d,o]=(0,i.useState)([]),[u,p]=(0,i.useState)(!1),[y,A]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{const e=(0,n.IO)((0,n.hJ)(r.db,b.Ul.FREE_TRIAL_BOOKINGS),(0,n.ar)("user_id","==",t)),s=await(0,n.PL)(e),i=[];s.forEach((e=>{console.log("Bookings....");const t=e.data();console.log(e.id," => ",t),i.push({...t,id:e.id})})),i.sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))),console.log(i),o(i)})()}),[t]);const w=b.A3+"bookings/availFreeTrial/";return(0,D.jsxs)("div",{style:{backgroundColor:s?"#202020":"white"},children:[0===d.length?(0,D.jsxs)("div",{children:[(0,D.jsx)("h2",{style:{color:s?"white":"black"},children:"My Bookings"}),(0,D.jsx)("p",{style:{color:s?"white":"black"},children:"No bookings till now."})]}):(0,D.jsxs)("div",{children:[(0,D.jsx)("h2",{style:{color:s?"white":"black"},children:"My Bookings"}),d.map((e=>(0,D.jsxs)("div",{children:[(0,D.jsxs)(h.Z,{fluid:!0,children:[(0,D.jsx)(m.Z,{style:{backgroundColor:s?"black":"white",color:s?"white":"black",borderBlockColor:s?"white":"black"},onClick:()=>(e=>{console.log(y),A(e),p(!0)})(e),children:(0,D.jsxs)(x.Z,{className:"row-3 text-center",children:[(0,D.jsx)(g.Z,{md:2,className:"text-center",children:(0,D.jsx)("div",{style:{background:"#E60023",color:"white",alignItems:"center",width:"100%",height:"100%"},children:(0,D.jsxs)("p",{style:{fontSize:"small"},children:["Booked On",(0,D.jsx)("br",{}),(0,D.jsx)("span",{style:{fontSize:"3rem"},children:new Date(1e3*e.timestamp).getDate()}),(0,D.jsx)("br",{}),(0,D.jsx)("span",{style:{fontSize:"small"},children:new Date(1e3*e.timestamp).toLocaleDateString("en-US",{month:"short",year:"numeric",timeZone:"Asia/Kolkata"})})]})})}),(0,D.jsxs)(g.Z,{md:4,className:"text-center",children:[(0,D.jsx)("p",{children:e.name_class}),(0,D.jsx)("p",{children:e.name_studio}),(0,D.jsx)("p",{children:e.studio_address})]}),(0,D.jsx)(g.Z,{md:2,className:"text-center",children:(0,D.jsx)("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",paddingTop:"1rem"},children:(0,D.jsx)(k.ZP,{value:w+e.id,size:100})})}),(0,D.jsxs)(g.Z,{md:4,children:[(0,D.jsx)("p",{children:e.name_learner}),(0,D.jsx)("p",{children:"Admit One for Once"}),(0,D.jsx)("h5",{style:{color:e.used?"green":"inherit"},children:e.used&&"Free class Availed"})]})]})}),(0,D.jsx)("p",{style:{textDecoration:"none"},children:(0,D.jsx)("a",{href:`https://nritya-official.github.io/nritya-webApp/#/studio/${e.studio_id}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:s?"cyan":"black"},children:"Check out the latest class timings?"})})]}),(0,D.jsx)("br",{})]},e.id)))]}),(0,D.jsxs)(j.Z,{show:u,onHide:()=>{p(!1)},children:[(0,D.jsx)(j.Z.Header,{closeButton:!0,children:(0,D.jsx)(j.Z.Title,{children:"Ticket Details"})}),(0,D.jsx)(j.Z.Body,{children:y&&(0,D.jsx)(M,{studioName:y.name_studio,className:y.name_class,address:y.studio_address,timing:y.studio_timing,days:y.studio_days,customerName:y.name_learner,timestamp:y.timestamp,bookingId:y.id})})]})]})}}}]);
//# sourceMappingURL=164.b70c3e68.chunk.js.map