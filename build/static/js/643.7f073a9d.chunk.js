"use strict";(self.webpackChunknritya_webApp=self.webpackChunknritya_webApp||[]).push([[643],{81018:(e,l,t)=>{t.d(l,{Z:()=>j});var a=t(72791),o=t(6429),s=t.n(o),n=t(30276),r=t(10159),i=t(59434),d=t(60717),c=t(68449),u=t(57621),h=t(13400),p=t(39504),x=t(27247),m=t(75424),v=t(83708),g=t(80184);const b=e=>{let{entityId:l,storageFolder:t,title:o,maxImageCount:b=10,updateMode:j,disable:S}=e;const y=(0,m.D)(),[C,f]=(0,a.useState)([]),[Z,w]=(0,a.useState)([]),[k,I]=(0,a.useState)([]),[N,O]=(0,a.useState)([]),D=(0,i.v9)(d.w);console.log("Kyc enitity id ",l,S);const E=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const t=l<0?0:l,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]};(0,a.useEffect)((()=>{l&&U(l)}),[l]),(0,a.useEffect)((()=>{if(b&&C.length>b){const e=C.slice(0,b);alert(`Exceeded maxImageCount, keeping first ${b} files.`),f(e)}}),[C,b]);const L=(e,l)=>{const t=e.map((e=>e.id)),a=l.map((e=>e.id));return{imagesToDelete:l.filter((e=>!t.includes(e.id))),newImages:e.filter((e=>!a.includes(e.id)))}},U=async e=>{f([]),I([]),O([]);try{const l=`${t}/${e}`;console.log(l);const a=(0,n.iH)(r.tO,l),o=await(0,n.aF)(a),s=await Promise.all(o.items.map((async e=>{const l=await(0,n.Jt)(e);return{id:e.name,filename:e.name,fileURL:l}})));w(s),f(s)}catch(l){console.error("Error fetching user images:",l)}};return(0,g.jsx)("div",{className:"fileupload-view",style:{display:"flex",width:"100%",justifyContent:"center"},children:(0,g.jsx)("div",{className:"row justify-content-center m-0",style:{flex:"1",justifyContent:"center"},children:(0,g.jsx)("div",{className:"col-md-6",style:{flex:"1",justifyContent:"center"},children:(0,g.jsx)("div",{className:"card mt-5",children:(0,g.jsx)("div",{className:"card-body",style:{backgroundColor:D?"#333333":"white"},children:(0,g.jsxs)("div",{className:"kb-data-box",children:[(0,g.jsx)("div",{className:"kb-modal-data-title",children:(0,g.jsxs)("div",{className:"kb-data-title",style:{justifyContent:"center",flex:"1"},children:[(0,g.jsx)("h4",{children:o}),(0,g.jsxs)("p",{children:["Max no of image(s):",b," ",t===v.Rb.STUDIOIMAGES&&(0,g.jsx)("p",{children:"Add at least 5 images"})]})]})}),(0,g.jsxs)("form",{style:{backgroundColor:D?"#333333":"white"},children:[(0,g.jsx)("div",{className:"kb-file-upload",children:(0,g.jsx)("div",{className:"file-upload-box",children:(0,g.jsx)("input",{type:"file",id:"fileupload",className:"file-upload-input",onChange:e=>{const l=Array.from(e.target.files),t=[];l.forEach((e=>{const a=new FileReader;a.onloadend=()=>{t.push({id:s().generate(),filename:e.name,filetype:e.type,fileimage:a.result,datetime:e.lastModifiedDate.toLocaleString("en-IN"),filesize:E(e.size),file:e}),t.length===l.length&&(f((e=>[...e,...t])),I(t))},a.readAsDataURL(e)}))},multiple:!0})})}),(0,g.jsx)("br",{}),(0,g.jsx)("div",{className:"kb-attach-box mb-3",children:(0,g.jsx)("div",{className:"row",children:l&&C.length>0?C.map((e=>(0,g.jsx)("div",{className:"col-6 col-md-3 mb-3",style:{position:"relative"},children:(0,g.jsx)(u.Z,{sx:{maxWidth:345},children:e.filename.match(/\.(jpg|jpeg|png|gif|svg)$/i)?(0,g.jsxs)("div",{style:{position:"relative"},children:[(0,g.jsx)("img",{src:e.fileimage?e.fileimage:e.fileURL,alt:e.filename,className:"card-img-top",style:{maxHeight:"150px",objectFit:"cover"}}),(0,g.jsx)(h.Z,{"aria-label":"delete",disabled:S,onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this image?")){const l=C.find((l=>l.id===e));O((e=>[...e,l])),f((l=>l.filter((l=>l.id!==e))))}})(e.id),style:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.5)"},children:(0,g.jsx)(x.Z,{style:{color:"ff0000"}})})]}):(0,g.jsx)(p.Z,{children:(0,g.jsx)("i",{className:"far fa-file-alt"})})})},e.id))):(0,g.jsx)("div",{className:"col-12 text-center",children:(0,g.jsx)("p",{children:"No images selected"})})})}),(0,g.jsx)("div",{className:"kb-buttons-box",children:(0,g.jsx)("button",{type:"button",className:"btn form-submit",style:{backgroundColor:D?"#892CDC":"black",color:"white"},onClick:async()=>{if(l)try{if(1===b)await(0,c.ih)(t,l),await(0,c.eg)(t,k,l);else{const{imagesToDelete:e,newImages:a}=L(C,Z);e.length>0&&await(0,c.xR)(t,e,l),a.length>0&&await(0,c.eg)(t,a,l)}y("Images Uploaded/Deleted","success")}catch(e){console.error("Error uploading/deleting images:",e)}else alert("No studio selected")},disabled:S,children:"Image Upload"})})]}),C.length>0&&(0,g.jsx)("div",{className:"kb-attach-box",hidden:!0,children:(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("hr",{}),C.map((e=>(0,g.jsx)("div",{className:"col-6 col-md-3 mb-3",children:(0,g.jsx)("div",{className:"card",children:e.filename.match(/\.(jpg|jpeg|png|gif|svg)$/i)?(0,g.jsx)("img",{src:e.fileimage,alt:e.filename,className:"card-img-top",style:{maxHeight:"150px",objectFit:"cover"}}):(0,g.jsx)("div",{className:"card-body",children:(0,g.jsx)("i",{className:"far fa-file-alt"})})})},e.id)))]})})]})})})})})})};b.defaultProps={maxImageCount:5,updateMode:!1,disable:!1};const j=b},707:(e,l,t)=>{t.d(l,{Z:()=>D});t(11518);var a=t(72791),o=t(92552),s=t(84654),n=t(28658),r=t(69597),i=t(83168),d=t(88447),c=t(697),u=t(61889),h=t(20890),p=t(94294),x=t(13400),m=t(36314),v=t(59434),g=t(83708),b=t(68449),j=t(60717),S=t(97892),y=t.n(S),C=t(10159),f=t(12481),Z=t(75424),w=t(49071),k=t(10884),I=t(80184);function N(e){var l,t,o,s,n,r;let{open:i,handleClose:m,dataItem:b,activateOpenClass:S,deactivateOpenClass:N,actionsAllowed:O}=e;const D=(0,Z.D)(),E=(0,v.v9)(j.w),[L,U]=(0,a.useState)(!1),[P,A]=(0,a.useState)(null),B=null===(l=JSON.parse(localStorage.getItem("userInfo")))||void 0===l?void 0:l.UserId,J=b.UserId===B;(0,a.useEffect)((()=>{(async()=>{try{const e=(0,f.JU)(C.db,"User",B),l=await(0,f.QT)(e);l.exists()&&A(l.data())}catch(e){console.log(" error")}})()}),[]);const T=encodeURIComponent("Hey, I found your Studio on nritya.co.in. I'm interested"),$=null===P||void 0===P||null===(t=P.BookedOpenClasses)||void 0===t||null===(o=t.includes)||void 0===o?void 0:o.call(t,null===b||void 0===b?void 0:b.id);return(0,I.jsx)(d.Z,{open:i,onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,I.jsxs)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90%",overflow:"auto",width:{xs:"90%",md:"60%"},bgcolor:E?"black":"background.paper",borderWidth:"2px",borderStyle:"solid",borderColor:E?"white":"black",boxShadow:24,p:"1rem",borderRadius:"8px"},children:[(0,I.jsxs)(u.ZP,{container:!0,spacing:"8px",rowGap:3,children:[(0,I.jsx)(u.ZP,{item:!0,xs:12,lg:8,sx:{minHeight:"300px"},children:(0,I.jsx)("img",{src:b.imageUrl,style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"8px"}})}),(0,I.jsxs)(u.ZP,{item:!0,xs:12,lg:4,children:[(0,I.jsxs)(c.Z,{sx:{height:"100%",bgcolor:E?"#333333":"#efefef",p:2,borderRadius:"8px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,I.jsxs)(c.Z,{sx:{flex:1},children:[(0,I.jsx)(h.Z,{variant:"h6",component:"p",sx:{color:E?"white":"black"},children:y()(b.date).format("LL")}),(0,I.jsx)(h.Z,{variant:"h6",component:"p",sx:{color:E?"white":"black"},children:b.time}),(0,I.jsx)(h.Z,{variant:"body1",component:"p",sx:{mt:"2rem",color:E?"white":"black"},children:b.venue})]}),(0,I.jsx)(c.Z,{sx:{mt:"2rem",textAlign:"right"},children:!O&&!J&&B&&(0,I.jsx)(p.Z,{variant:"outlined",onClick:async()=>{try{U(!0),(0,f.ET)((0,f.hJ)(C.db,g.Ul.BOOKINGS),{StudioId:b.StudioId,OpenClassId:b.id,UserId:B,bookingDate:Date.now()});const e=(0,f.JU)(C.db,"User",B),l=await(0,f.QT)(e);l.exists()&&null!=l.data()&&await(0,f.r7)(e,{BookedOpenClasses:[...l.data().BookedOpenClasses||[],b.id]}),A((e=>({...e,BookedOpenClasses:[...(null===e||void 0===e?void 0:e.BookedOpenClasses)||[],b.id]}))),D("Open class booked","success")}catch(e){console.error(e),D((null===e||void 0===e?void 0:e.message)||"Something went wrong","error")}finally{U(!1)}},disabled:$||L,sx:{boxShadow:"none",textTransform:"none",fontSize:16,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"transparent",borderColor:E?"white":"black",color:E?"white":"black","&:hover":{backgroundColor:"transparent",borderColor:E?"white":"black",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"transparent",borderColor:E?"white":"black"},"&:focus":{boxShadow:"none"}},children:$?"Booked":"Book Now"})})]}),!O&&!J&&B&&(0,I.jsx)(h.Z,{component:"p",variant:"caption",sx:{my:"2px",color:E?"white":"black",textAlign:"center"},children:"Book your spot"})]}),(0,I.jsxs)(u.ZP,{item:!0,sx:{mt:1},children:[(0,I.jsxs)(h.Z,{variant:"h5",component:"p",sx:{color:E?"white":"black"},children:[b.openClassName||"",b.danceStyles.map((e=>` | ${e}`))]}),(0,I.jsxs)(h.Z,{variant:"body1",component:"p",sx:{mt:1,color:E?"white":"black"},children:[(0,I.jsxs)("span",{children:["By ",(null===(s=b.studioDetails)||void 0===s?void 0:s.studioName)||""]}),b.studioDetails&&(null===(n=b.studioDetails)||void 0===n?void 0:n.whatsappNumber)&&(0,I.jsx)(x.Z,{color:"success",size:"small",target:"_blank",href:`https://wa.me/91${b.studioDetails.whatsappNumber}?text=${T}`,children:(0,I.jsx)("img",{src:w,alt:"Whatsapp call",style:{width:30,height:28}})}),b.studioDetails&&(null===(r=b.studioDetails)||void 0===r?void 0:r.mobileNumber)&&(0,I.jsx)(x.Z,{color:"primary",size:"small",target:"_blank",href:`tel:${b.studioDetails.mobileNumber}`,children:(0,I.jsx)("img",{src:k,alt:"Phone call",style:{width:30,height:28}})})]}),(0,I.jsx)(h.Z,{variant:"body1",component:"p",sx:{mt:2,color:E?"white":"black"},children:b.description||""})]})]}),(0,I.jsxs)(c.Z,{sx:{mt:"1rem",textAlign:"right"},children:[O&&J&&(0,I.jsx)(p.Z,{onClick:()=>null!==b&&void 0!==b&&b.active?N(null===b||void 0===b?void 0:b.id):S(null===b||void 0===b?void 0:b.id),variant:"outlined",sx:{mr:"1rem",color:"white",boxShadow:"none",border:"1px solid",backgroundColor:null!==b&&void 0!==b&&b.active?"red":"green",borderColor:"white",color:"white","&:hover":{backgroundColor:null!==b&&void 0!==b&&b.active?"red":"green",borderColor:"white",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:null!==b&&void 0!==b&&b.active?"red":"green",borderColor:"white"},"&:focus":{boxShadow:"none"}},children:null!==b&&void 0!==b&&b.active?"Deactivate":"Activate"}),(0,I.jsx)(p.Z,{onClick:m,variant:"outlined",sx:{color:"white",boxShadow:"none",border:"1px solid",backgroundColor:"transparent",borderColor:E?"white":"black",color:E?"white":"black","&:hover":{backgroundColor:"transparent",borderColor:E?"white":"black",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"transparent",borderColor:E?"white":"black"},"&:focus":{boxShadow:"none"}},children:"Close"})]})]})})}function O(e){var l;let{dataItem:t,activateOpenClass:d,deactivateOpenClass:u,actionsAllowed:h}=e;const p=(0,v.v9)(j.w),[x,S]=(0,a.useState)(null),[y,C]=(0,a.useState)(!1),f=t.id;(0,a.useEffect)((()=>{(async()=>{try{const e=await(0,b.Us)(g.Rb.OPENCLASSICON,f);S(e||"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_960_720.jpg")}catch(e){console.error("Error fetching image URL:",e)}})()}),[t.id]);const Z={backgroundColor:p?"#444":"white",padding:"0px",color:p?"white":"black",marginRight:"10px",width:320,maxWidth:"100%",boxShadow:"lg",transition:"opacity 0.3s ease"};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(s.Z,{variant:"solid",sx:{...Z,"&:hover":{transform:"scale(1.01)",cursor:"pointer"},flex:"none"},onClick:()=>C(!0),children:[(0,I.jsxs)(o.Z,{ratio:"1.78",style:{position:"relative"},children:[(0,I.jsx)("img",{src:x,loading:"lazy",alt:"Studio Image",style:{maxWidth:"100%",objectFit:"cover",overflow:"hidden"}}),(0,I.jsx)(m.Z,{direction:"row",spacing:2,style:{position:"absolute",bottom:0,left:0,padding:"1px"},children:t&&t.danceStyles?t.danceStyles.slice(0,3).map(((e,l)=>(0,I.jsx)(r.Z,{color:l%2===0?"danger":"success",style:{marginLeft:"10px",marginBottom:"10px",fontSize:"0.8rem"},children:e.trim()},l))):(0,I.jsx)(r.Z,{color:"danger",style:{marginBottom:"10px",fontSize:"0.8rem"},children:"No danceforms"},10)})]}),(0,I.jsxs)(n.Z,{style:{padding:"10px",paddingTop:"5px"},children:[(0,I.jsxs)(c.Z,{fontWeight:"md",color:"neutral",textColor:"text.primary",underline:"none",overlay:!0,style:{color:p?"white":"black",extDecoder:"one"},children:[(0,I.jsx)("span",{children:t&&t.openClassName?t.openClassName:""}),!(null!==t&&void 0!==t&&t.active)&&(0,I.jsx)("span",{style:{marginLeft:"2px",padding:"2px 4px",fontSize:"14px",borderRadius:"4px",background:"red"},children:"Inactive"})]}),(0,I.jsxs)(i.ZP,{style:{color:p?"white":"black"},level:"body-xs",noWrap:!0,children:["By ",null!==(l=t.studioDetails)&&void 0!==l&&l.studioName?t.studioDetails.studioName:""]}),(0,I.jsx)(i.ZP,{style:{marginTop:10,color:p?"white":"black"},level:"body-xs",noWrap:!0,children:t.venue?t.venue:""}),(0,I.jsxs)(i.ZP,{style:{color:p?"white":"black"},level:"body-xs",children:[t.date||""," | ",t.time||""]})]})]}),(0,I.jsx)(N,{dataItem:{...t,imageUrl:x},open:y,handleClose:()=>C(!1),activateOpenClass:d,deactivateOpenClass:u,actionsAllowed:h})]})}const D=e=>{let{dataList:l,deleteOpenClass:t,actionsAllowed:a,activateOpenClass:o,deactivateOpenClass:s}=e;return(0,I.jsx)("div",{className:"horizontal-scroll-wrapper",children:l.map(((e,l)=>(0,I.jsx)(O,{dataItem:e,activateOpenClass:o,deactivateOpenClass:s,actionsAllowed:a},e.id)))})}},26073:(e,l,t)=>{t.d(l,{Z:()=>d});t(72791);var a=t(89743),o=t(2677),s=t(13855),n=t(59434),r=t(60717),i=t(80184);const d=e=>{var l;let{defaultTime:t,handleSelect:d}=e;const c=t.split("-")[0].trim(),u=null===(l=t.split("-")[1])||void 0===l?void 0:l.trim(),h=(0,n.v9)(r.w),p=e=>{const l=(()=>{const e=[];let l=[],t=[];for(let a=0;a<24;a++)for(let e=0;e<60;e+=30){const o=a.toString().padStart(2,"0"),s=e.toString().padStart(2,"0"),n=`${o}:${s}`;if(a<12)l.push(`${n} AM`);else{const e=(a-12).toString().padStart(2,"0");t.push(`${e}:${s} PM`)}}for(let a=0;a<l.length||a<t.length;a++)a<l.length&&e.push(l[a]),a<t.length&&e.push(t[a]);return e})();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{value:e,children:e}),l.map((e=>(0,i.jsx)("option",{value:e,children:e},e)))]})};return(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(o.Z,{children:(0,i.jsxs)(s.Z.Group,{children:[(0,i.jsx)(s.Z.Label,{children:"Start Time"}),(0,i.jsx)(s.Z.Control,{as:"select",onChange:e=>d(e.target.value,null),style:{background:"transparent",borderWidth:1,borderColor:h?"white":"black"},children:p(c)})]})}),(0,i.jsx)(o.Z,{children:(0,i.jsxs)(s.Z.Group,{children:[(0,i.jsx)(s.Z.Label,{children:"End Time"}),(0,i.jsx)(s.Z.Control,{as:"select",onChange:e=>d(null,e.target.value),style:{background:"transparent",borderWidth:1,borderColor:h?"white":"black"},children:p(u)})]})})]})}},26643:(e,l,t)=>{t.r(l),t.d(l,{default:()=>$});var a=t(72791),o=t(10159),s=t(12481),n=t(83708),r=t(59434),i=t(60717),d=t(61224),c=t(43896),u=t(83449),h=t(47283),p=t(82851),x=t(697),m=t(13855),v=t(89743),g=t(2677),b=t(94294),j=t(81018),S=t(51650),y=t(49644),C=t(76989),f=t(67107),Z=t(44507),w=t(4708),k=t(82718),I=t(4560),N=t(24750),O=t(71652),D=t(97892),E=t.n(D),L=t(26073),U=t(75424),P=t(82873),A=t(80184);const B=function(e){let{instructors:l,studioId:t,setOpenClass:d}=e;const c=(0,U.D)(),[u,h]=(0,a.useState)(""),p=(0,r.v9)(i.w),[x,D]=(0,a.useState)([]),[B,J]=(0,a.useState)([]),T=l.map((e=>`${e.name} - ${e.id}`)),$=S.W,F=localStorage.getItem("filterLocation")||"",[R,M]=(0,a.useState)(!1),[_,z]=(0,a.useState)(""),[V,Y]=(0,a.useState)(null),[W,H]=(0,a.useState)(""),[G,q]=(0,a.useState)(F),[K,Q]=(0,a.useState)(""),[X,ee]=(0,a.useState)(E()(new Date)),[le,te]=(0,a.useState)(!1),[ae,oe]=(0,a.useState)(1),se=(0,f.Z)({palette:{mode:p?"dark":"light"}}),ne=e=>{e.reset(),J([]),D([]),Y(null),z(""),H(""),Q(""),ee(E()(new Date)),q("")};return(0,a.useEffect)((()=>{!async function(){const e=document.getElementById("addStudioForm");try{const v=(0,s.IO)((0,s.hJ)(o.db,n.i0.DRAFT_OPEN_CLASSES),(0,s.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),g=await(0,s.PL)(v);if(g.empty){var a,r,i,d,c,u,h,p;await(0,s.ET)((0,s.hJ)(o.db,n.i0.DRAFT_OPEN_CLASSES),{openClassName:(null===(a=e.openClassName)||void 0===a?void 0:a.value)||"",venue:(null===(r=e.openClassVenue)||void 0===r?void 0:r.value)||"",description:(null===(i=e.description)||void 0===i?void 0:i.value)||"",danceStyles:B,instructors:x?null===x||void 0===x||null===(d=x.map)||void 0===d?void 0:d.call(x,(e=>{var l,t,a,o;return(null===e||void 0===e||null===(l=e.split)||void 0===l||null===(t=l.call(e,"-"))||void 0===t||null===(a=t[1])||void 0===a||null===(o=a.trim)||void 0===o?void 0:o.call(a))||null})):null,author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,StudioId:V&&(null===V||void 0===V||null===(c=V.split)||void 0===c||null===(u=c.call(V,":"))||void 0===u||null===(h=u[1])||void 0===h||null===(p=h.trim)||void 0===p?void 0:p.call(h))||null,duration:_,level:W,time:K,date:X.format("YYYY-MM-DD"),city:G})}else{var m;let a=[];g.forEach((e=>{a.push({id:e.id,...e.data()})}));let o=a[0];e.openClassName.value=(null===o||void 0===o?void 0:o.openClassName)||"",e.openClassVenue.value=(null===o||void 0===o?void 0:o.venue)||"",e.description.value=(null===o||void 0===o?void 0:o.description)||"",J(null!==o&&void 0!==o&&null!==(m=o.danceStyles)&&void 0!==m&&m.length?o.danceStyles:[]),D(l.filter((e=>null===o||void 0===o?void 0:o.instructors.includes(e.id))).map((e=>`${e.name} - ${e.id}`)));const s=t.map((e=>e.split(":")[1].trim())).findIndex((e=>e===(null===o||void 0===o?void 0:o.StudioId)));s>0&&Y(t[s]),z((null===o||void 0===o?void 0:o.duration)||""),H((null===o||void 0===o?void 0:o.level)||""),Q((null===o||void 0===o?void 0:o.time)||""),ee(E()((null===o||void 0===o?void 0:o.date)||Date.now())),q((null===o||void 0===o?void 0:o.city)||"")}M(!0)}catch(v){console.error(v)}}()}),[]),(0,a.useEffect)((()=>{let e=null;return R&&async function(){const l=document.getElementById("addStudioForm");try{const t=(0,s.IO)((0,s.hJ)(o.db,n.i0.DRAFT_OPEN_CLASSES),(0,s.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),a=await(0,s.PL)(t);if(!a.empty){let t=[];a.forEach((e=>{t.push({id:e.id,...e.data()})}));let r=t[0];const i=(0,s.JU)(o.db,n.i0.DRAFT_OPEN_CLASSES,r.id);e=setInterval((async()=>{try{var e,t,a,o,n,r,d,c;await(0,s.r7)(i,{openClassName:(null===(e=l.openClassName)||void 0===e?void 0:e.value)||"",venue:(null===(t=l.openClassVenue)||void 0===t?void 0:t.value)||"",description:(null===(a=l.description)||void 0===a?void 0:a.value)||"",danceStyles:B,instructors:x?null===x||void 0===x||null===(o=x.map)||void 0===o?void 0:o.call(x,(e=>{var l,t,a,o;return(null===e||void 0===e||null===(l=e.split)||void 0===l||null===(t=l.call(e,"-"))||void 0===t||null===(a=t[1])||void 0===a||null===(o=a.trim)||void 0===o?void 0:o.call(a))||null})):null,StudioId:V&&(null===V||void 0===V||null===(n=V.split)||void 0===n||null===(r=n.call(V,":"))||void 0===r||null===(d=r[1])||void 0===d||null===(c=d.trim)||void 0===c?void 0:c.call(d))||null,duration:_,level:W,time:K,date:X.format("YYYY-MM-DD"),city:G})}catch(u){console.error(u)}}),1e4)}}catch(t){console.error(t)}}(),()=>clearInterval(e)}),[R,B,x,V,_,W,K,X,G]),(0,A.jsxs)("div",{children:[1===ae&&(0,A.jsx)(m.Z,{id:"addStudioForm",onSubmit:async e=>{e.preventDefault();const l=e.target;if((e=>{let l=!0;return e.openClassName.value&&e.openClassVenue.value&&e.description.value&&null!==B&&void 0!==B&&B.length&&null!==x&&void 0!==x&&x.length&&V&&_&&W&&K&&X&&G||(l=!1),l})(l))try{var t,a,r,i,u;const m={openClassName:e.target.openClassName.value,danceStyles:B,instructors:x?null===x||void 0===x||null===(t=x.map)||void 0===t?void 0:t.call(x,(e=>{var l,t,a,o;return(null===e||void 0===e||null===(l=e.split)||void 0===l||null===(t=l.call(e,"-"))||void 0===t||null===(a=t[1])||void 0===a||null===(o=a.trim)||void 0===o?void 0:o.call(a))||null})):null,author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,StudioId:V&&(null===V||void 0===V||null===(a=V.split)||void 0===a||null===(r=a.call(V,":"))||void 0===r||null===(i=r[1])||void 0===i||null===(u=i.trim)||void 0===u?void 0:u.call(i))||null,duration:_,level:W,time:K,date:X.format("YYYY-MM-DD"),venue:e.target.openClassVenue.value,description:e.target.description.value,city:G,active:!0};te(!0);const v=await(0,s.ET)((0,s.hJ)(o.db,n.Ul.OPEN_CLASSES),m);h(v.id),d((e=>[...e,{id:v.id,...m}]));const g=(0,s.JU)(o.db,"User",JSON.parse(localStorage.getItem("userInfo")).UserId),b=await(0,s.QT)(g);var p;if(b.exists())if(null!=b.data())await(0,s.r7)(g,{OpenClassCreated:[...(null===(p=b.data())||void 0===p?void 0:p.OpenClassCreated)||[],v.id]});ne(l),(async()=>{const e=(0,s.IO)((0,s.hJ)(o.db,n.i0.DRAFT_OPEN_CLASSES),(0,s.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),l=await(0,s.PL)(e);if(!l.empty){let e=[];l.forEach((l=>{e.push({id:l.id,...l.data()})}));let t=e[0];const a=(0,s.JU)(o.db,n.i0.DRAFT_OPEN_CLASSES,t.id);await(0,s.oe)(a)}})(),c("Open class successfully added.","success"),oe((e=>e+1))}catch(m){console.error("Error adding workshop: ",m),c((null===m||void 0===m?void 0:m.message)||"Something went wrong","error")}finally{te(!1)}else c("Please fill all the fields.","error")},style:{backgroundColor:p?"#202020":"",color:p?"white":"black"},children:(0,A.jsx)(m.Z.Group,{controlId:"formBasicAdd",children:(0,A.jsxs)("div",{children:[(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Open Class Name"}),(0,A.jsx)(m.Z.Control,{rows:1,style:{backgroundColor:p?"#333333":"",color:p?"white":"black"},type:"textarea",placeholder:"Enter open class name",name:"openClassName"})]}),(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Dance Styles"}),(0,A.jsxs)(Z.Z,{theme:se,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:p?"#333333":"",color:p?"white":"black"},multiple:!0,id:"tags-standard",options:$,value:B,onChange:(e,l)=>{J(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:p?"#333333":"",color:p?"white":"black"}})})]})]})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Names of Instructors"}),(0,A.jsxs)(Z.Z,{theme:se,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:p?"#333333":"",color:p?"white":"black"},multiple:!0,id:"tags-standard",options:T,value:x,onChange:(e,l)=>{D(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Instructors",style:{backgroundColor:p?"#333333":"",color:p?"white":"black"}})})]})]}),(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Duration (in hours)"}),(0,A.jsxs)(Z.Z,{theme:se,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:p?"#333333":"",color:p?"white":"black"},id:"tags-standard",options:[1,2,3,4,5,6,7,8,9,10,11,12],value:_,onChange:(e,l)=>{z(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Duration",style:{backgroundColor:p?"#333333":"",color:p?"white":"black"}})})]})]})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsx)(g.Z,{md:6,children:(0,A.jsx)(L.Z,{defaultTime:K||"00:00-00:00",handleSelect:(e,l)=>{const[t,a]=K.split(" - ");let o=`${t} - ${a}`;null!==e&&(o=`${e} - ${a}`),null!==l&&(o=`${t} - ${l}`),Q(o)}})}),(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Date"}),(0,A.jsx)(O._,{dateAdapter:N.y,children:(0,A.jsx)(I.C,{components:["DatePicker"],children:(0,A.jsxs)(Z.Z,{theme:se,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(k.M,{sx:{width:"100%"},value:X,onChange:e=>ee(e)})]})})})]})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Level"}),(0,A.jsxs)(Z.Z,{theme:se,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:p?"#333333":"",color:p?"white":"black"},id:"tags-standard",options:[n.zq.ALL,n.zq.BEGINNERS,n.zq.INTERMEDIATE,n.zq.ADVANCED],value:W,onChange:(e,l)=>{H(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Level",style:{backgroundColor:p?"#333333":"",color:p?"white":"black"}})})]})]}),(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Venue"}),(0,A.jsx)(m.Z.Control,{rows:1,style:{backgroundColor:p?"#333333":"",color:p?"white":"black"},type:"text",placeholder:"Enter Venue",name:"openClassVenue"})]})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"City"}),(0,A.jsxs)(Z.Z,{theme:se,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:p?"#333333":"",color:p?"white":"black"},id:"tags-standard",options:P.c,value:G,onChange:(e,l)=>{q(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select City",style:{backgroundColor:p?"#333333":"",color:p?"white":"black"}})})]})]}),(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Studio"}),(0,A.jsxs)(Z.Z,{theme:se,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:p?"#333333":"",color:p?"white":"black"},id:"tags-standard",options:t,value:V,onChange:(e,l)=>{Y(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Studio",style:{backgroundColor:p?"#333333":"",color:p?"white":"black"}})})]})]})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Brief Description"}),(0,A.jsx)(m.Z.Control,{rows:3,style:{backgroundColor:p?"#333333":"",color:p?"white":"black"},as:"textarea",placeholder:"Enter Description",name:"description"})]}),(0,A.jsx)(g.Z,{md:6})]}),(0,A.jsx)("hr",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsx)(g.Z,{xs:6}),(0,A.jsx)(g.Z,{xs:6,className:"d-flex justify-content-end",children:(0,A.jsx)(b.Z,{variant:"contained",style:{color:"white",backgroundColor:p?"#892cdc":"black"},type:"submit",disabled:le,children:"Next"})})]})]})})}),2===ae&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(j.Z,{entityId:u,title:"Open Class Images",storageFolder:n.Rb.OPENCLASSICON,maxImageCount:1})})}),(0,A.jsx)(v.Z,{style:{margin:"1rem 0"},children:(0,A.jsx)(g.Z,{style:{textAlign:"right"},children:(0,A.jsx)(b.Z,{variant:"contained",style:{color:"white",backgroundColor:p?"#892cdc":"black"},onClick:()=>oe((e=>e-1)),children:"Done"})})})]})]})};const J=function(e){let{workshopId:l,instructors:t,studioId:d}=e;const c=localStorage.getItem("filterLocation")||"",u=(0,U.D)(),[h,p]=(0,a.useState)(null),[x,D]=(0,a.useState)([]),B=S.W,[J,T]=(0,a.useState)([]),$=(0,r.v9)(i.w),[F,R]=(0,a.useState)(""),[M,_]=(0,a.useState)(""),[z,V]=(0,a.useState)(c),[Y,W]=(0,a.useState)(""),[H,G]=(0,a.useState)(E()(new Date)),[q,K]=(0,a.useState)(!1),Q=t.map((e=>`${e.name} - ${e.id}`)),X=(0,f.Z)({palette:{mode:$?"dark":"light"}}),[ee,le]=(0,a.useState)(""),[te,ae]=(0,a.useState)(null),oe=e=>{e.reset(),T([]),D([]),p(null),R(""),_(""),W(""),G(E()(new Date)),V(""),ae(null),le("")};return(0,a.useEffect)((()=>{if(te){const e=t.filter((e=>te.instructors.includes(e.id))).map((e=>`${e.name} - ${e.id}`));if(D(e),te&&te.danceStyles&&T(te.danceStyles),te&&te.duration&&R(te.duration),te&&te.level&&_(te.level),te&&te.time&&W(te.time),te&&te.date&&G(E()(te.date)),te&&te.StudioId){const e=d.map((e=>e.split(":")[1].trim())).findIndex((e=>e===te.StudioId));p(d[e]||null)}V((null===te||void 0===te?void 0:te.city)||"")}}),[te]),(0,A.jsxs)("div",{style:{backgroundColor:$?"#202020":"",color:$?"white":"black"},children:[(0,A.jsx)("br",{}),(0,A.jsx)(m.Z,{id:"updateStudioForm",onSubmit:async e=>{e.preventDefault();const l=e.target;if(ee)if((e=>{let l=!0;return e.openClassName.value&&e.openClassVenue.value&&e.description.value&&null!==J&&void 0!==J&&J.length&&null!==x&&void 0!==x&&x.length&&h&&F&&M&&Y&&H&&z||(l=!1),l})(l)){try{var t,a,r,i,d;const e={openClassName:l.openClassName.value,venue:l.openClassVenue.value,description:l.description.value,danceStyles:J,instructors:x?null===x||void 0===x||null===(t=x.map)||void 0===t?void 0:t.call(x,(e=>{var l,t,a,o;return(null===e||void 0===e||null===(l=e.split)||void 0===l||null===(t=l.call(e,"-"))||void 0===t||null===(a=t[1])||void 0===a||null===(o=a.trim)||void 0===o?void 0:o.call(a))||null})):null,author:JSON.parse(localStorage.getItem("userInfo")).displayName,UserId:JSON.parse(localStorage.getItem("userInfo")).UserId,creatorEmail:JSON.parse(localStorage.getItem("userInfo")).email,StudioId:h&&(null===h||void 0===h||null===(a=h.split)||void 0===a||null===(r=a.call(h,":"))||void 0===r||null===(i=r[1])||void 0===i||null===(d=i.trim)||void 0===d?void 0:d.call(i))||null,duration:F,level:M,time:Y,date:H.format("YYYY-MM-DD"),city:z};K(!0);const c=(0,s.JU)(o.db,n.Ul.OPEN_CLASSES,ee);await(0,s.r7)(c,e),oe(l),u("Open class successfully updated.","success")}catch(c){console.error("Error updating workshop: ",c),u((null===c||void 0===c?void 0:c.message)||"Something went wrong","error")}finally{K(!1)}document.getElementById("updateStudioForm").reset()}else u("Please fill all the fields.","error")},children:(0,A.jsxs)(m.Z.Group,{controlId:"formBasicUpdate",children:[(0,A.jsx)(m.Z.Label,{children:"Id"}),(0,A.jsxs)(m.Z.Control,{as:"select",name:"nameId",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},onChange:async e=>{e.preventDefault();const l=e.target.value.split(":").pop().trim();le(l);try{const e=await(0,s.QT)((0,s.JU)(o.db,n.Ul.OPEN_CLASSES,l));e.exists?ae(e.data()):ae(null)}catch(t){console.error("Error fetching workshop data:",t,l)}},children:[(0,A.jsx)("option",{value:"",children:"Select a open class..."}),l&&l.length>0?l.map((e=>(0,A.jsx)("option",{value:e,children:e},e))):(0,A.jsx)("option",{value:"",children:"No open class yet!"})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)(v.Z,{children:[(0,A.jsx)(g.Z,{md:6,children:(0,A.jsx)(j.Z,{entityId:ee,title:"Open class Images",storageFolder:n.Rb.OPENCLASSICON,maxImageCount:1})}),(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)("br",{}),(0,A.jsx)(m.Z.Label,{children:"Open Class Name"}),(0,A.jsx)(m.Z.Control,{rows:1,defaultValue:te?te.openClassName:"",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},type:"textarea",placeholder:"Enter open class name",name:"openClassName"}),(0,A.jsx)("br",{}),(0,A.jsx)(m.Z.Label,{children:"Dance Styles"}),(0,A.jsxs)(Z.Z,{theme:X,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},multiple:!0,id:"tags-standard",options:B,value:J,onChange:(e,l)=>{T(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Dance Styles",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"}})})]}),(0,A.jsx)("br",{}),(0,A.jsx)(m.Z.Label,{children:"Names of Instructors"}),(0,A.jsxs)(Z.Z,{theme:X,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},multiple:!0,id:"tags-standard",options:Q,value:x,onChange:(e,l)=>{D(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Instructors",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"}})})]})]})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Duration (in hours)"}),(0,A.jsxs)(Z.Z,{theme:X,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},id:"tags-standard",options:[1,2,3,4,5,6,7,8,9,10,11,12],value:F,onChange:(e,l)=>{R(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Duration",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"}})})]})]}),(0,A.jsx)(g.Z,{md:6,children:(0,A.jsx)(L.Z,{defaultTime:Y||"00:00-00:00",handleSelect:(e,l)=>{const[t,a]=Y.split(" - ");let o=`${t} - ${a}`;null!==e&&(o=`${e} - ${a}`),null!==l&&(o=`${t} - ${l}`),W(o)}})})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Date"}),(0,A.jsx)(O._,{dateAdapter:N.y,children:(0,A.jsx)(I.C,{components:["DatePicker"],children:(0,A.jsxs)(Z.Z,{theme:X,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(k.M,{sx:{width:"100%"},value:H,onChange:e=>G(e)})]})})})]}),(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Level"}),(0,A.jsxs)(Z.Z,{theme:X,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},id:"tags-standard",options:[n.zq.ALL,n.zq.BEGINNERS,n.zq.INTERMEDIATE,n.zq.ADVANCED],value:M,onChange:(e,l)=>{_(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Level",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"}})})]})]})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Venue"}),(0,A.jsx)(m.Z.Control,{rows:1,defaultValue:te?te.venue:"",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},type:"text",placeholder:"Enter Venue",name:"openClassVenue"})]}),(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"City"}),(0,A.jsxs)(Z.Z,{theme:X,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},id:"tags-standard",options:P.c,value:z,onChange:(e,l)=>{V(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select City",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"}})})]})]})]}),(0,A.jsx)("br",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Studio"}),(0,A.jsxs)(Z.Z,{theme:X,children:[(0,A.jsx)(w.ZP,{}),(0,A.jsx)(y.Z,{style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},id:"tags-standard",options:d,value:h,onChange:(e,l)=>{p(l)},renderInput:e=>(0,A.jsx)(C.Z,{...e,variant:"standard",placeholder:"Select Studio",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"}})})]})]}),(0,A.jsxs)(g.Z,{md:6,children:[(0,A.jsx)(m.Z.Label,{children:"Brief Description"}),(0,A.jsx)(m.Z.Control,{rows:3,defaultValue:te?te.description:"",style:{backgroundColor:$?"#333333":"",color:$?"white":"black"},as:"textarea",placeholder:"Enter Description",name:"description"})]})]}),(0,A.jsx)("br",{}),(0,A.jsx)("hr",{}),(0,A.jsxs)(v.Z,{children:[(0,A.jsx)(g.Z,{xs:6}),(0,A.jsx)(g.Z,{xs:6,className:"d-flex justify-content-end",children:(0,A.jsx)(b.Z,{variant:"contained",style:{color:"white",backgroundColor:$?"#892cdc":"black"},type:"submit",disabled:q,children:"Update Open Class"})})]})]})]})})]})};var T=t(707);const $=function(){const[e,l]=(0,a.useState)([]),[t,m]=(0,a.useState)([]),[v,g]=(0,a.useState)([]),b=(0,r.v9)(i.w),[j,S]=(0,a.useState)([]),[y,C]=(0,a.useState)(!1),[f,Z]=(0,a.useState)(-1),{currentUser:w}=(0,d.a)(),[k,I]=a.useState("1");return(0,a.useEffect)((()=>{(async e=>{try{const e=(0,s.JU)(o.db,"User",w.uid),l=await(0,s.QT)(e);l.exists()&&null!=l.data()&&(C(l.data().CreatorMode),Z(l.data().isPremium))}catch(l){console.log(" error")}})()}),[y]),(0,a.useEffect)((()=>{(async()=>{let e=null;if(JSON.parse(localStorage.getItem("userInfo"))&&JSON.parse(localStorage.getItem("userInfo")).UserId&&(e=JSON.parse(localStorage.getItem("userInfo")).UserId),!e)return void alert("User not found");const l=(0,s.hJ)(o.db,n.Ul.INSTRUCTORS),t=(0,s.IO)(l,(0,s.ar)("createdBy","==",e)),a=await(0,s.PL)(t),r=[];a.forEach((e=>{r.push({id:e.id,name:e.data().name})})),S(r)})()}),[]),(0,a.useEffect)((()=>{(async()=>{const e=(0,s.IO)((0,s.hJ)(o.db,n.Ul.STUDIO),(0,s.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),t=(await(0,s.PL)(e)).docs.filter((e=>e.data().studioName)).map((e=>{const l=e.data();return{id:e.id,...l}}));l(t.map((e=>String(e.studioName)+" :"+String(e.id))))})()}),[]),(0,a.useEffect)((()=>{(async()=>{const e=(0,s.IO)((0,s.hJ)(o.db,n.Ul.OPEN_CLASSES),(0,s.ar)("UserId","==",JSON.parse(localStorage.getItem("userInfo")).UserId)),l=(await(0,s.PL)(e)).docs.filter((e=>e.data().openClassName)).map((e=>{const l=e.data();return{id:e.id,...l}})).map((async e=>{const l=(0,s.JU)(o.db,n.Ul.STUDIO,null===e||void 0===e?void 0:e.StudioId),t=await(0,s.QT)(l);return{...e,studioDetails:t.data()}})),t=await Promise.all(l);localStorage.setItem("OpenCLassCreated",JSON.stringify(t)),m(t),g(t.map((e=>String(e.openClassName)+" :"+String(e.id))))})()}),[m]),(0,a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("OpenClassCreated"))||[];m(e);const l=e.map((e=>`${e.openClassName} : ${e.id}`));g(l)}),[g]),(0,A.jsxs)("div",{children:[(0,A.jsx)("br",{}),y?(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(x.Z,{sx:{width:"100%",typography:"body1"},children:(0,A.jsxs)(u.ZP,{value:k,children:[(0,A.jsx)(x.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,A.jsxs)(h.Z,{style:{color:b?"white":"black"},onChange:(e,l)=>{I(l)},"aria-label":"lab API tabs example",children:[(0,A.jsx)(c.Z,{style:{color:b?"white":"black"},label:"Add Open Class",value:"1"}),(0,A.jsx)(c.Z,{style:{color:b?"white":"black"},label:"Update Open Class",value:"2"})]})}),(0,A.jsx)(p.Z,{value:"1",children:(0,A.jsx)(B,{instructors:j,studioId:e,setOpenClass:m})}),(0,A.jsx)(p.Z,{value:"2",children:(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(J,{instructors:j,workshopId:v,studioId:e})})})]})})}):"",t.length>0&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h3",{style:{color:b?"white":"black"},children:"Your Open Classes:"}),(0,A.jsx)(T.Z,{dataList:t,activateOpenClass:async e=>{try{const l=(0,s.JU)(o.db,n.Ul.OPEN_CLASSES,e);await(0,s.r7)(l,{active:!0}),m((l=>l.map((l=>l.id===e?{...l,active:!0}:l))))}catch(l){console.error(l)}},deactivateOpenClass:async e=>{try{const l=(0,s.JU)(o.db,n.Ul.OPEN_CLASSES,e);await(0,s.r7)(l,{active:!1}),m((l=>l.map((l=>l.id===e?{...l,active:!1}:l))))}catch(l){console.error(l)}},actionsAllowed:!0})]})]})}},11518:()=>{},10884:(e,l,t)=>{e.exports=t.p+"static/media/india_11009487.98ac2ba43166eaa84593.png"},49071:(e,l,t)=>{e.exports=t.p+"static/media/whatsapp.8d81ece5885274edfd73.png"},51650:e=>{e.exports=JSON.parse('{"W":["Kuchipudi","Swing","Irish Dance","Folk Dance","Street Dance","Breaking","Voguing","House Dance","Bachata","Ballet","Ballroom","Belly Dance","Bhangra","Bharatanatyam","Bihu","Bollywood","Bollyhop","Butoh","Capoeira","Chhau","Clogging","Contemporary","Dandiya Raas","Flamenco","Garba","Giddha","Heels","Hip Hop","Irish Step Dance","Jazz","Jive","Kathak","Kathakali","Kizomba","Krumping","Lavani","Line Dance","Locking","Lyrical Hip-Hop","Manipuri","Modern Dance","Mohiniyattam","Odissi","Polynesian Dance","Popping","Rouf","Salsa","Sattriya","Tango","Tap Dance","Vogue","Waacking","Whacking","Zumba"]}')}}]);
//# sourceMappingURL=643.7f073a9d.chunk.js.map